<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="http://jssip.net">jssip (v3.0.7)</a>
</h1>
<h4>the Javascript SIP library</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.jssip">module jssip</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.DTMF">
            function <span class="apidocSignatureSpan">jssip.</span>DTMF
            <span class="apidocSignatureSpan">(session)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Dialog">
            function <span class="apidocSignatureSpan">jssip.</span>Dialog
            <span class="apidocSignatureSpan">(owner, message, type, state)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.DigestAuthentication">
            function <span class="apidocSignatureSpan">jssip.</span>DigestAuthentication
            <span class="apidocSignatureSpan">(credentials)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Message">
            function <span class="apidocSignatureSpan">jssip.</span>Message
            <span class="apidocSignatureSpan">(ua)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.NameAddrHeader">
            function <span class="apidocSignatureSpan">jssip.</span>NameAddrHeader
            <span class="apidocSignatureSpan">(uri, display_name, parameters)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.RTCSession">
            function <span class="apidocSignatureSpan">jssip.</span>RTCSession
            <span class="apidocSignatureSpan">(ua)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.ReferNotifier">
            function <span class="apidocSignatureSpan">jssip.</span>ReferNotifier
            <span class="apidocSignatureSpan">(session, id, expires)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.ReferSubscriber">
            function <span class="apidocSignatureSpan">jssip.</span>ReferSubscriber
            <span class="apidocSignatureSpan">(session)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Registrator">
            function <span class="apidocSignatureSpan">jssip.</span>Registrator
            <span class="apidocSignatureSpan">(ua, transport)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Request">
            function <span class="apidocSignatureSpan">jssip.</span>Request
            <span class="apidocSignatureSpan">(session, method)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.RequestSender">
            function <span class="apidocSignatureSpan">jssip.</span>RequestSender
            <span class="apidocSignatureSpan">(applicant, ua)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Socket">
            function <span class="apidocSignatureSpan">jssip.</span>Socket
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Transport">
            function <span class="apidocSignatureSpan">jssip.</span>Transport
            <span class="apidocSignatureSpan">(sockets, recovery_options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.UA">
            function <span class="apidocSignatureSpan">jssip.</span>UA
            <span class="apidocSignatureSpan">(configuration)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.URI">
            function <span class="apidocSignatureSpan">jssip.</span>URI
            <span class="apidocSignatureSpan">(scheme, user, host, port, parameters, headers)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.WebSocketInterface">
            function <span class="apidocSignatureSpan">jssip.</span>WebSocketInterface
            <span class="apidocSignatureSpan">(url)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.debug">
            function <span class="apidocSignatureSpan">jssip.</span>debug
            <span class="apidocSignatureSpan">(namespace)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jssip.</span>C</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jssip.</span>DTMF.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jssip.</span>Dialog.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jssip.</span>DigestAuthentication.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jssip.</span>Exceptions</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jssip.</span>Grammar</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jssip.</span>Message.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jssip.</span>NameAddrHeader.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jssip.</span>Parser</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jssip.</span>RTCSession.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jssip.</span>ReferNotifier.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jssip.</span>ReferSubscriber.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jssip.</span>Registrator.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jssip.</span>Request.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jssip.</span>RequestSender.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jssip.</span>SIPMessage</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jssip.</span>Transactions</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jssip.</span>Transport.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jssip.</span>UA.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jssip.</span>URI.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jssip.</span>Utils</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jssip.</span>WebSocketInterface.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jssip.</span>adapter</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jssip.</span>debug.formatters</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jssip.DTMF">module jssip.DTMF</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.DTMF.DTMF">
            function <span class="apidocSignatureSpan">jssip.</span>DTMF
            <span class="apidocSignatureSpan">(session)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.DTMF.super_">
            function <span class="apidocSignatureSpan">jssip.DTMF.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jssip.DTMF.</span>C</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jssip.DTMF.prototype">module jssip.DTMF.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.DTMF.prototype.init_incoming">
            function <span class="apidocSignatureSpan">jssip.DTMF.prototype.</span>init_incoming
            <span class="apidocSignatureSpan">(request)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.DTMF.prototype.onDialogError">
            function <span class="apidocSignatureSpan">jssip.DTMF.prototype.</span>onDialogError
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.DTMF.prototype.onRequestTimeout">
            function <span class="apidocSignatureSpan">jssip.DTMF.prototype.</span>onRequestTimeout
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.DTMF.prototype.onTransportError">
            function <span class="apidocSignatureSpan">jssip.DTMF.prototype.</span>onTransportError
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.DTMF.prototype.receiveResponse">
            function <span class="apidocSignatureSpan">jssip.DTMF.prototype.</span>receiveResponse
            <span class="apidocSignatureSpan">(response)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.DTMF.prototype.send">
            function <span class="apidocSignatureSpan">jssip.DTMF.prototype.</span>send
            <span class="apidocSignatureSpan">(tone, options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jssip.Dialog">module jssip.Dialog</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Dialog.Dialog">
            function <span class="apidocSignatureSpan">jssip.</span>Dialog
            <span class="apidocSignatureSpan">(owner, message, type, state)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jssip.Dialog.</span>C</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jssip.Dialog.prototype">module jssip.Dialog.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Dialog.prototype.checkInDialogRequest">
            function <span class="apidocSignatureSpan">jssip.Dialog.prototype.</span>checkInDialogRequest
            <span class="apidocSignatureSpan">(request)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Dialog.prototype.createRequest">
            function <span class="apidocSignatureSpan">jssip.Dialog.prototype.</span>createRequest
            <span class="apidocSignatureSpan">(method, extraHeaders, body)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Dialog.prototype.receiveRequest">
            function <span class="apidocSignatureSpan">jssip.Dialog.prototype.</span>receiveRequest
            <span class="apidocSignatureSpan">(request)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Dialog.prototype.sendRequest">
            function <span class="apidocSignatureSpan">jssip.Dialog.prototype.</span>sendRequest
            <span class="apidocSignatureSpan">(applicant, method, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Dialog.prototype.terminate">
            function <span class="apidocSignatureSpan">jssip.Dialog.prototype.</span>terminate
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Dialog.prototype.update">
            function <span class="apidocSignatureSpan">jssip.Dialog.prototype.</span>update
            <span class="apidocSignatureSpan">(message, type)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jssip.DigestAuthentication">module jssip.DigestAuthentication</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.DigestAuthentication.DigestAuthentication">
            function <span class="apidocSignatureSpan">jssip.</span>DigestAuthentication
            <span class="apidocSignatureSpan">(credentials)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jssip.DigestAuthentication.prototype">module jssip.DigestAuthentication.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.DigestAuthentication.prototype.authenticate">
            function <span class="apidocSignatureSpan">jssip.DigestAuthentication.prototype.</span>authenticate
            <span class="apidocSignatureSpan">(request, challenge)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.DigestAuthentication.prototype.get">
            function <span class="apidocSignatureSpan">jssip.DigestAuthentication.prototype.</span>get
            <span class="apidocSignatureSpan">(parameter)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.DigestAuthentication.prototype.toString">
            function <span class="apidocSignatureSpan">jssip.DigestAuthentication.prototype.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jssip.Exceptions">module jssip.Exceptions</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Exceptions.ConfigurationError">
            function <span class="apidocSignatureSpan">jssip.Exceptions.</span>ConfigurationError
            <span class="apidocSignatureSpan">(parameter, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Exceptions.InvalidStateError">
            function <span class="apidocSignatureSpan">jssip.Exceptions.</span>InvalidStateError
            <span class="apidocSignatureSpan">(status)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Exceptions.NotReadyError">
            function <span class="apidocSignatureSpan">jssip.Exceptions.</span>NotReadyError
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Exceptions.NotSupportedError">
            function <span class="apidocSignatureSpan">jssip.Exceptions.</span>NotSupportedError
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jssip.Grammar">module jssip.Grammar</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Grammar.SyntaxError">
            function <span class="apidocSignatureSpan">jssip.Grammar.</span>SyntaxError
            <span class="apidocSignatureSpan">(expected, found, offset, line, column)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Grammar.parse">
            function <span class="apidocSignatureSpan">jssip.Grammar.</span>parse
            <span class="apidocSignatureSpan">(input, startRule)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Grammar.toSource">
            function <span class="apidocSignatureSpan">jssip.Grammar.</span>toSource
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jssip.Message">module jssip.Message</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Message.Message">
            function <span class="apidocSignatureSpan">jssip.</span>Message
            <span class="apidocSignatureSpan">(ua)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Message.super_">
            function <span class="apidocSignatureSpan">jssip.Message.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jssip.Message.prototype">module jssip.Message.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Message.prototype.accept">
            function <span class="apidocSignatureSpan">jssip.Message.prototype.</span>accept
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Message.prototype.close">
            function <span class="apidocSignatureSpan">jssip.Message.prototype.</span>close
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Message.prototype.init_incoming">
            function <span class="apidocSignatureSpan">jssip.Message.prototype.</span>init_incoming
            <span class="apidocSignatureSpan">(request)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Message.prototype.newMessage">
            function <span class="apidocSignatureSpan">jssip.Message.prototype.</span>newMessage
            <span class="apidocSignatureSpan">(originator, request)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Message.prototype.onRequestTimeout">
            function <span class="apidocSignatureSpan">jssip.Message.prototype.</span>onRequestTimeout
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Message.prototype.onTransportError">
            function <span class="apidocSignatureSpan">jssip.Message.prototype.</span>onTransportError
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Message.prototype.receiveResponse">
            function <span class="apidocSignatureSpan">jssip.Message.prototype.</span>receiveResponse
            <span class="apidocSignatureSpan">(response)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Message.prototype.reject">
            function <span class="apidocSignatureSpan">jssip.Message.prototype.</span>reject
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Message.prototype.send">
            function <span class="apidocSignatureSpan">jssip.Message.prototype.</span>send
            <span class="apidocSignatureSpan">(target, body, options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jssip.NameAddrHeader">module jssip.NameAddrHeader</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.NameAddrHeader.NameAddrHeader">
            function <span class="apidocSignatureSpan">jssip.</span>NameAddrHeader
            <span class="apidocSignatureSpan">(uri, display_name, parameters)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.NameAddrHeader.parse">
            function <span class="apidocSignatureSpan">jssip.NameAddrHeader.</span>parse
            <span class="apidocSignatureSpan">(name_addr_header)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jssip.NameAddrHeader.prototype">module jssip.NameAddrHeader.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.NameAddrHeader.prototype.clearParams">
            function <span class="apidocSignatureSpan">jssip.NameAddrHeader.prototype.</span>clearParams
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.NameAddrHeader.prototype.clone">
            function <span class="apidocSignatureSpan">jssip.NameAddrHeader.prototype.</span>clone
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.NameAddrHeader.prototype.deleteParam">
            function <span class="apidocSignatureSpan">jssip.NameAddrHeader.prototype.</span>deleteParam
            <span class="apidocSignatureSpan">(parameter)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.NameAddrHeader.prototype.getParam">
            function <span class="apidocSignatureSpan">jssip.NameAddrHeader.prototype.</span>getParam
            <span class="apidocSignatureSpan">(key)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.NameAddrHeader.prototype.hasParam">
            function <span class="apidocSignatureSpan">jssip.NameAddrHeader.prototype.</span>hasParam
            <span class="apidocSignatureSpan">(key)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.NameAddrHeader.prototype.setParam">
            function <span class="apidocSignatureSpan">jssip.NameAddrHeader.prototype.</span>setParam
            <span class="apidocSignatureSpan">(key, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.NameAddrHeader.prototype.toString">
            function <span class="apidocSignatureSpan">jssip.NameAddrHeader.prototype.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jssip.Parser">module jssip.Parser</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Parser.parseMessage">
            function <span class="apidocSignatureSpan">jssip.Parser.</span>parseMessage
            <span class="apidocSignatureSpan">(data, ua)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jssip.RTCSession">module jssip.RTCSession</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.RTCSession.RTCSession">
            function <span class="apidocSignatureSpan">jssip.</span>RTCSession
            <span class="apidocSignatureSpan">(ua)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.RTCSession.super_">
            function <span class="apidocSignatureSpan">jssip.RTCSession.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jssip.RTCSession.</span>C</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jssip.RTCSession.prototype">module jssip.RTCSession.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.RTCSession.prototype.answer">
            function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>answer
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.RTCSession.prototype.close">
            function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>close
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.RTCSession.prototype.connect">
            function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>connect
            <span class="apidocSignatureSpan">(target, options, initCallback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.RTCSession.prototype.hold">
            function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>hold
            <span class="apidocSignatureSpan">(options, done)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.RTCSession.prototype.init_incoming">
            function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>init_incoming
            <span class="apidocSignatureSpan">(request, initCallback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.RTCSession.prototype.isEnded">
            function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>isEnded
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.RTCSession.prototype.isEstablished">
            function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>isEstablished
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.RTCSession.prototype.isInProgress">
            function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>isInProgress
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.RTCSession.prototype.isMuted">
            function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>isMuted
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.RTCSession.prototype.isOnHold">
            function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>isOnHold
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.RTCSession.prototype.isReadyToReOffer">
            function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>isReadyToReOffer
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.RTCSession.prototype.mute">
            function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>mute
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.RTCSession.prototype.newDTMF">
            function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>newDTMF
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.RTCSession.prototype.onDialogError">
            function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>onDialogError
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.RTCSession.prototype.onRequestTimeout">
            function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>onRequestTimeout
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.RTCSession.prototype.onTransportError">
            function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>onTransportError
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.RTCSession.prototype.receiveRequest">
            function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>receiveRequest
            <span class="apidocSignatureSpan">(request)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.RTCSession.prototype.refer">
            function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>refer
            <span class="apidocSignatureSpan">(target, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.RTCSession.prototype.renegotiate">
            function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>renegotiate
            <span class="apidocSignatureSpan">(options, done)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.RTCSession.prototype.resetLocalMedia">
            function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>resetLocalMedia
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.RTCSession.prototype.sendDTMF">
            function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>sendDTMF
            <span class="apidocSignatureSpan">(tones, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.RTCSession.prototype.terminate">
            function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>terminate
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.RTCSession.prototype.unhold">
            function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>unhold
            <span class="apidocSignatureSpan">(options, done)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.RTCSession.prototype.unmute">
            function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>unmute
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jssip.ReferNotifier">module jssip.ReferNotifier</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.ReferNotifier.ReferNotifier">
            function <span class="apidocSignatureSpan">jssip.</span>ReferNotifier
            <span class="apidocSignatureSpan">(session, id, expires)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jssip.ReferNotifier.prototype">module jssip.ReferNotifier.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.ReferNotifier.prototype.notify">
            function <span class="apidocSignatureSpan">jssip.ReferNotifier.prototype.</span>notify
            <span class="apidocSignatureSpan">(code, reason)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jssip.ReferSubscriber">module jssip.ReferSubscriber</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.ReferSubscriber.ReferSubscriber">
            function <span class="apidocSignatureSpan">jssip.</span>ReferSubscriber
            <span class="apidocSignatureSpan">(session)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.ReferSubscriber.super_">
            function <span class="apidocSignatureSpan">jssip.ReferSubscriber.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jssip.ReferSubscriber.prototype">module jssip.ReferSubscriber.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.ReferSubscriber.prototype.receiveNotify">
            function <span class="apidocSignatureSpan">jssip.ReferSubscriber.prototype.</span>receiveNotify
            <span class="apidocSignatureSpan">(request)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.ReferSubscriber.prototype.sendRefer">
            function <span class="apidocSignatureSpan">jssip.ReferSubscriber.prototype.</span>sendRefer
            <span class="apidocSignatureSpan">(target, options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jssip.Registrator">module jssip.Registrator</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Registrator.Registrator">
            function <span class="apidocSignatureSpan">jssip.</span>Registrator
            <span class="apidocSignatureSpan">(ua, transport)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jssip.Registrator.prototype">module jssip.Registrator.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Registrator.prototype.close">
            function <span class="apidocSignatureSpan">jssip.Registrator.prototype.</span>close
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Registrator.prototype.onTransportClosed">
            function <span class="apidocSignatureSpan">jssip.Registrator.prototype.</span>onTransportClosed
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Registrator.prototype.register">
            function <span class="apidocSignatureSpan">jssip.Registrator.prototype.</span>register
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Registrator.prototype.registrationFailure">
            function <span class="apidocSignatureSpan">jssip.Registrator.prototype.</span>registrationFailure
            <span class="apidocSignatureSpan">(response, cause)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Registrator.prototype.setExtraContactParams">
            function <span class="apidocSignatureSpan">jssip.Registrator.prototype.</span>setExtraContactParams
            <span class="apidocSignatureSpan">(extraContactParams)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Registrator.prototype.setExtraHeaders">
            function <span class="apidocSignatureSpan">jssip.Registrator.prototype.</span>setExtraHeaders
            <span class="apidocSignatureSpan">(extraHeaders)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Registrator.prototype.unregister">
            function <span class="apidocSignatureSpan">jssip.Registrator.prototype.</span>unregister
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Registrator.prototype.unregistered">
            function <span class="apidocSignatureSpan">jssip.Registrator.prototype.</span>unregistered
            <span class="apidocSignatureSpan">(response, cause)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jssip.Request">module jssip.Request</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Request.Request">
            function <span class="apidocSignatureSpan">jssip.</span>Request
            <span class="apidocSignatureSpan">(session, method)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jssip.Request.prototype">module jssip.Request.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Request.prototype.onDialogError">
            function <span class="apidocSignatureSpan">jssip.Request.prototype.</span>onDialogError
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Request.prototype.onRequestTimeout">
            function <span class="apidocSignatureSpan">jssip.Request.prototype.</span>onRequestTimeout
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Request.prototype.onTransportError">
            function <span class="apidocSignatureSpan">jssip.Request.prototype.</span>onTransportError
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Request.prototype.receiveResponse">
            function <span class="apidocSignatureSpan">jssip.Request.prototype.</span>receiveResponse
            <span class="apidocSignatureSpan">(response)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Request.prototype.send">
            function <span class="apidocSignatureSpan">jssip.Request.prototype.</span>send
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jssip.RequestSender">module jssip.RequestSender</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.RequestSender.RequestSender">
            function <span class="apidocSignatureSpan">jssip.</span>RequestSender
            <span class="apidocSignatureSpan">(applicant, ua)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jssip.RequestSender.prototype">module jssip.RequestSender.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.RequestSender.prototype.onRequestTimeout">
            function <span class="apidocSignatureSpan">jssip.RequestSender.prototype.</span>onRequestTimeout
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.RequestSender.prototype.onTransportError">
            function <span class="apidocSignatureSpan">jssip.RequestSender.prototype.</span>onTransportError
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.RequestSender.prototype.receiveResponse">
            function <span class="apidocSignatureSpan">jssip.RequestSender.prototype.</span>receiveResponse
            <span class="apidocSignatureSpan">(response)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.RequestSender.prototype.send">
            function <span class="apidocSignatureSpan">jssip.RequestSender.prototype.</span>send
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jssip.SIPMessage">module jssip.SIPMessage</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.SIPMessage.IncomingRequest">
            function <span class="apidocSignatureSpan">jssip.SIPMessage.</span>IncomingRequest
            <span class="apidocSignatureSpan">(ua)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.SIPMessage.IncomingResponse">
            function <span class="apidocSignatureSpan">jssip.SIPMessage.</span>IncomingResponse
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.SIPMessage.OutgoingRequest">
            function <span class="apidocSignatureSpan">jssip.SIPMessage.</span>OutgoingRequest
            <span class="apidocSignatureSpan">(method, ruri, ua, params, extraHeaders, body)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jssip.Socket">module jssip.Socket</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Socket.Socket">
            function <span class="apidocSignatureSpan">jssip.</span>Socket
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Socket.isSocket">
            function <span class="apidocSignatureSpan">jssip.Socket.</span>isSocket
            <span class="apidocSignatureSpan">(socket)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jssip.Transactions">module jssip.Transactions</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Transactions.AckClientTransaction">
            function <span class="apidocSignatureSpan">jssip.Transactions.</span>AckClientTransaction
            <span class="apidocSignatureSpan">(request_sender, request, transport)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Transactions.InviteClientTransaction">
            function <span class="apidocSignatureSpan">jssip.Transactions.</span>InviteClientTransaction
            <span class="apidocSignatureSpan">(request_sender, request, transport)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Transactions.InviteServerTransaction">
            function <span class="apidocSignatureSpan">jssip.Transactions.</span>InviteServerTransaction
            <span class="apidocSignatureSpan">(request, ua)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Transactions.NonInviteClientTransaction">
            function <span class="apidocSignatureSpan">jssip.Transactions.</span>NonInviteClientTransaction
            <span class="apidocSignatureSpan">(request_sender, request, transport)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Transactions.NonInviteServerTransaction">
            function <span class="apidocSignatureSpan">jssip.Transactions.</span>NonInviteServerTransaction
            <span class="apidocSignatureSpan">(request, ua)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Transactions.checkTransaction">
            function <span class="apidocSignatureSpan">jssip.Transactions.</span>checkTransaction
            <span class="apidocSignatureSpan">(ua, request)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jssip.Transactions.</span>C</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jssip.Transport">module jssip.Transport</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Transport.Transport">
            function <span class="apidocSignatureSpan">jssip.</span>Transport
            <span class="apidocSignatureSpan">(sockets, recovery_options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jssip.Transport.prototype">module jssip.Transport.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Transport.prototype.connect">
            function <span class="apidocSignatureSpan">jssip.Transport.prototype.</span>connect
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Transport.prototype.disconnect">
            function <span class="apidocSignatureSpan">jssip.Transport.prototype.</span>disconnect
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Transport.prototype.isConnected">
            function <span class="apidocSignatureSpan">jssip.Transport.prototype.</span>isConnected
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Transport.prototype.isConnecting">
            function <span class="apidocSignatureSpan">jssip.Transport.prototype.</span>isConnecting
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Transport.prototype.send">
            function <span class="apidocSignatureSpan">jssip.Transport.prototype.</span>send
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jssip.UA">module jssip.UA</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.UA.UA">
            function <span class="apidocSignatureSpan">jssip.</span>UA
            <span class="apidocSignatureSpan">(configuration)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.UA.super_">
            function <span class="apidocSignatureSpan">jssip.UA.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jssip.UA.</span>C</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jssip.UA.</span>configuration_check</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jssip.UA.</span>configuration_skeleton</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jssip.UA.prototype">module jssip.UA.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.UA.prototype.call">
            function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>call
            <span class="apidocSignatureSpan">(target, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.UA.prototype.destroyTransaction">
            function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>destroyTransaction
            <span class="apidocSignatureSpan">(transaction)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.UA.prototype.findDialog">
            function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>findDialog
            <span class="apidocSignatureSpan">(call_id, from_tag, to_tag)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.UA.prototype.findSession">
            function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>findSession
            <span class="apidocSignatureSpan">(request)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.UA.prototype.get">
            function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>get
            <span class="apidocSignatureSpan">(parameter)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.UA.prototype.isConnected">
            function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>isConnected
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.UA.prototype.isRegistered">
            function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>isRegistered
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.UA.prototype.loadConfig">
            function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>loadConfig
            <span class="apidocSignatureSpan">(configuration)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.UA.prototype.newMessage">
            function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>newMessage
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.UA.prototype.newRTCSession">
            function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>newRTCSession
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.UA.prototype.newTransaction">
            function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>newTransaction
            <span class="apidocSignatureSpan">(transaction)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.UA.prototype.normalizeTarget">
            function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>normalizeTarget
            <span class="apidocSignatureSpan">(target)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.UA.prototype.receiveRequest">
            function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>receiveRequest
            <span class="apidocSignatureSpan">(request)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.UA.prototype.register">
            function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>register
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.UA.prototype.registered">
            function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>registered
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.UA.prototype.registrationFailed">
            function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>registrationFailed
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.UA.prototype.registrator">
            function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>registrator
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.UA.prototype.sendMessage">
            function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>sendMessage
            <span class="apidocSignatureSpan">(target, body, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.UA.prototype.set">
            function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>set
            <span class="apidocSignatureSpan">(parameter, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.UA.prototype.start">
            function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>start
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.UA.prototype.stop">
            function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>stop
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.UA.prototype.terminateSessions">
            function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>terminateSessions
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.UA.prototype.unregister">
            function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>unregister
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.UA.prototype.unregistered">
            function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>unregistered
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jssip.URI">module jssip.URI</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.URI.URI">
            function <span class="apidocSignatureSpan">jssip.</span>URI
            <span class="apidocSignatureSpan">(scheme, user, host, port, parameters, headers)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.URI.parse">
            function <span class="apidocSignatureSpan">jssip.URI.</span>parse
            <span class="apidocSignatureSpan">(uri)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jssip.URI.prototype">module jssip.URI.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.URI.prototype.clearHeaders">
            function <span class="apidocSignatureSpan">jssip.URI.prototype.</span>clearHeaders
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.URI.prototype.clearParams">
            function <span class="apidocSignatureSpan">jssip.URI.prototype.</span>clearParams
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.URI.prototype.clone">
            function <span class="apidocSignatureSpan">jssip.URI.prototype.</span>clone
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.URI.prototype.deleteHeader">
            function <span class="apidocSignatureSpan">jssip.URI.prototype.</span>deleteHeader
            <span class="apidocSignatureSpan">(header)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.URI.prototype.deleteParam">
            function <span class="apidocSignatureSpan">jssip.URI.prototype.</span>deleteParam
            <span class="apidocSignatureSpan">(parameter)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.URI.prototype.getHeader">
            function <span class="apidocSignatureSpan">jssip.URI.prototype.</span>getHeader
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.URI.prototype.getParam">
            function <span class="apidocSignatureSpan">jssip.URI.prototype.</span>getParam
            <span class="apidocSignatureSpan">(key)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.URI.prototype.hasHeader">
            function <span class="apidocSignatureSpan">jssip.URI.prototype.</span>hasHeader
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.URI.prototype.hasParam">
            function <span class="apidocSignatureSpan">jssip.URI.prototype.</span>hasParam
            <span class="apidocSignatureSpan">(key)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.URI.prototype.setHeader">
            function <span class="apidocSignatureSpan">jssip.URI.prototype.</span>setHeader
            <span class="apidocSignatureSpan">(name, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.URI.prototype.setParam">
            function <span class="apidocSignatureSpan">jssip.URI.prototype.</span>setParam
            <span class="apidocSignatureSpan">(key, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.URI.prototype.toAor">
            function <span class="apidocSignatureSpan">jssip.URI.prototype.</span>toAor
            <span class="apidocSignatureSpan">(show_port)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.URI.prototype.toString">
            function <span class="apidocSignatureSpan">jssip.URI.prototype.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jssip.Utils">module jssip.Utils</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Utils.calculateMD5">
            function <span class="apidocSignatureSpan">jssip.Utils.</span>calculateMD5
            <span class="apidocSignatureSpan">(string)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Utils.closeMediaStream">
            function <span class="apidocSignatureSpan">jssip.Utils.</span>closeMediaStream
            <span class="apidocSignatureSpan">(stream)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Utils.createRandomToken">
            function <span class="apidocSignatureSpan">jssip.Utils.</span>createRandomToken
            <span class="apidocSignatureSpan">(size, base)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Utils.escapeUser">
            function <span class="apidocSignatureSpan">jssip.Utils.</span>escapeUser
            <span class="apidocSignatureSpan">(user)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Utils.getRandomTestNetIP">
            function <span class="apidocSignatureSpan">jssip.Utils.</span>getRandomTestNetIP
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Utils.hasMethods">
            function <span class="apidocSignatureSpan">jssip.Utils.</span>hasMethods
            <span class="apidocSignatureSpan">(obj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Utils.headerize">
            function <span class="apidocSignatureSpan">jssip.Utils.</span>headerize
            <span class="apidocSignatureSpan">(string)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Utils.hostType">
            function <span class="apidocSignatureSpan">jssip.Utils.</span>hostType
            <span class="apidocSignatureSpan">(host)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Utils.isDecimal">
            function <span class="apidocSignatureSpan">jssip.Utils.</span>isDecimal
            <span class="apidocSignatureSpan">(num)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Utils.isEmpty">
            function <span class="apidocSignatureSpan">jssip.Utils.</span>isEmpty
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Utils.isFunction">
            function <span class="apidocSignatureSpan">jssip.Utils.</span>isFunction
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Utils.isString">
            function <span class="apidocSignatureSpan">jssip.Utils.</span>isString
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Utils.newTag">
            function <span class="apidocSignatureSpan">jssip.Utils.</span>newTag
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Utils.newUUID">
            function <span class="apidocSignatureSpan">jssip.Utils.</span>newUUID
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Utils.normalizeTarget">
            function <span class="apidocSignatureSpan">jssip.Utils.</span>normalizeTarget
            <span class="apidocSignatureSpan">(target, domain)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Utils.sipErrorCause">
            function <span class="apidocSignatureSpan">jssip.Utils.</span>sipErrorCause
            <span class="apidocSignatureSpan">(status_code)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.Utils.str_utf8_length">
            function <span class="apidocSignatureSpan">jssip.Utils.</span>str_utf8_length
            <span class="apidocSignatureSpan">(string)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jssip.WebSocketInterface">module jssip.WebSocketInterface</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.WebSocketInterface.WebSocketInterface">
            function <span class="apidocSignatureSpan">jssip.</span>WebSocketInterface
            <span class="apidocSignatureSpan">(url)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jssip.WebSocketInterface.prototype">module jssip.WebSocketInterface.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.WebSocketInterface.prototype.connect">
            function <span class="apidocSignatureSpan">jssip.WebSocketInterface.prototype.</span>connect
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.WebSocketInterface.prototype.disconnect">
            function <span class="apidocSignatureSpan">jssip.WebSocketInterface.prototype.</span>disconnect
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.WebSocketInterface.prototype.isConnected">
            function <span class="apidocSignatureSpan">jssip.WebSocketInterface.prototype.</span>isConnected
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.WebSocketInterface.prototype.isConnecting">
            function <span class="apidocSignatureSpan">jssip.WebSocketInterface.prototype.</span>isConnecting
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.WebSocketInterface.prototype.send">
            function <span class="apidocSignatureSpan">jssip.WebSocketInterface.prototype.</span>send
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jssip.adapter">module jssip.adapter</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.adapter.disableLog">
            function <span class="apidocSignatureSpan">jssip.adapter.</span>disableLog
            <span class="apidocSignatureSpan">(bool)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.adapter.extractVersion">
            function <span class="apidocSignatureSpan">jssip.adapter.</span>extractVersion
            <span class="apidocSignatureSpan">(uastring, expr, pos)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jssip.adapter.</span>browserDetails</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jssip.debug">module jssip.debug</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.debug.debug">
            function <span class="apidocSignatureSpan">jssip.</span>debug
            <span class="apidocSignatureSpan">(namespace)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.debug.coerce">
            function <span class="apidocSignatureSpan">jssip.debug.</span>coerce
            <span class="apidocSignatureSpan">(val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.debug.default">
            function <span class="apidocSignatureSpan">jssip.debug.</span>default
            <span class="apidocSignatureSpan">(namespace)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.debug.disable">
            function <span class="apidocSignatureSpan">jssip.debug.</span>disable
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.debug.enable">
            function <span class="apidocSignatureSpan">jssip.debug.</span>enable
            <span class="apidocSignatureSpan">(namespaces)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.debug.enabled">
            function <span class="apidocSignatureSpan">jssip.debug.</span>enabled
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.debug.formatArgs">
            function <span class="apidocSignatureSpan">jssip.debug.</span>formatArgs
            <span class="apidocSignatureSpan">(args)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.debug.humanize">
            function <span class="apidocSignatureSpan">jssip.debug.</span>humanize
            <span class="apidocSignatureSpan">(val, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.debug.init">
            function <span class="apidocSignatureSpan">jssip.debug.</span>init
            <span class="apidocSignatureSpan">(debug)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.debug.load">
            function <span class="apidocSignatureSpan">jssip.debug.</span>load
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.debug.log">
            function <span class="apidocSignatureSpan">jssip.debug.</span>log
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.debug.save">
            function <span class="apidocSignatureSpan">jssip.debug.</span>save
            <span class="apidocSignatureSpan">(namespaces)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.debug.useColors">
            function <span class="apidocSignatureSpan">jssip.debug.</span>useColors
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jssip.debug.</span>colors</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jssip.debug.</span>formatters</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jssip.debug.</span>inspectOpts</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jssip.debug.</span>names</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jssip.debug.</span>skips</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jssip.debug.formatters">module jssip.debug.formatters</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.debug.formatters.O">
            function <span class="apidocSignatureSpan">jssip.debug.formatters.</span>O
            <span class="apidocSignatureSpan">(v)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jssip.debug.formatters.o">
            function <span class="apidocSignatureSpan">jssip.debug.formatters.</span>o
            <span class="apidocSignatureSpan">(v)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jssip" id="apidoc.module.jssip">module jssip</a></h1>


    <h2>
        <a href="#apidoc.element.jssip.DTMF" id="apidoc.element.jssip.DTMF">
        function <span class="apidocSignatureSpan">jssip.</span>DTMF
        <span class="apidocSignatureSpan">(session)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DTMF(session) {
  this.owner = session;
  this.direction = null;
  this.tone = null;
  this.duration = null;

  events.EventEmitter.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Dialog" id="apidoc.element.jssip.Dialog">
        function <span class="apidocSignatureSpan">jssip.</span>Dialog
        <span class="apidocSignatureSpan">(owner, message, type, state)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Dialog(owner, message, type, state) {
  var contact;

  this.uac_pending_reply = false;
  this.uas_pending_reply = false;

  if(!message.hasHeader('contact')) {
    return {
      error: 'unable to create a Dialog without Contact header field'
    };
  }

  if(message instanceof SIPMessage.IncomingResponse) {
    state = (message.status_code &lt; 200) ? C.STATUS_EARLY : C.STATUS_CONFIRMED;
  } else {
    // Create confirmed dialog if state is not defined
    state = state || C.STATUS_CONFIRMED;
  }

  contact = message.parseHeader('contact');

  // RFC 3261 12.1.1
  if(type === 'UAS') {
    this.id = {
      call_id: message.call_id,
      local_tag: message.to_tag,
      remote_tag: message.from_tag,
      toString: function() {
        return this.call_id + this.local_tag + this.remote_tag;
      }
    };
    this.state = state;
    this.remote_seqnum = message.cseq;
    this.local_uri = message.parseHeader('to').uri;
    this.remote_uri = message.parseHeader('from').uri;
    this.remote_target = contact.uri;
    this.route_set = message.getHeaders('record-route');
  }
  // RFC 3261 12.1.2
  else if(type === 'UAC') {
    this.id = {
      call_id: message.call_id,
      local_tag: message.from_tag,
      remote_tag: message.to_tag,
      toString: function() {
        return this.call_id + this.local_tag + this.remote_tag;
      }
    };
    this.state = state;
    this.local_seqnum = message.cseq;
    this.local_uri = message.parseHeader('from').uri;
    this.remote_uri = message.parseHeader('to').uri;
    this.remote_target = contact.uri;
    this.route_set = message.getHeaders('record-route').reverse();
  }

  this.owner = owner;
  owner.ua.dialogs[this.id.toString()] = this;
  debug('new ' + type + ' dialog created with status ' + (this.state === C.STATUS_EARLY ? 'EARLY': 'CONFIRMED'));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
//     var local_tag, remote_tag, id, dialog;

//     // Create a confirmed dialog given a message and type ('UAC' or 'UAS')
//     local_tag = (type === 'UAS') ? message.to_tag : message.from_tag;
//     remote_tag = (type === 'UAS') ? message.from_tag : message.to_tag;
//     id = message.call_id + local_tag + remote_tag;

//     dialog = new JsSIP.<span class="apidocCodeKeywordSpan">Dialog</span>(this, message, type);

//     if(dialog) {
//       this.dialog = dialog;
//       return true;
//     }
//     // Dialog not created due to an error
//     else {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.DigestAuthentication" id="apidoc.element.jssip.DigestAuthentication">
        function <span class="apidocSignatureSpan">jssip.</span>DigestAuthentication
        <span class="apidocSignatureSpan">(credentials)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DigestAuthentication(credentials) {
  this.credentials = credentials;
  this.cnonce = null;
  this.nc = 0;
  this.ncHex = '00000000';
  this.algorithm = null;
  this.realm = null;
  this.nonce = null;
  this.opaque = null;
  this.stale = null;
  this.qop = null;
  this.method = null;
  this.uri = null;
  this.ha1 = null;
  this.response = null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Message" id="apidoc.element.jssip.Message">
        function <span class="apidocSignatureSpan">jssip.</span>Message
        <span class="apidocSignatureSpan">(ua)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Message(ua) {
  this.ua = ua;

  // Custom message empty object for high level use
  this.data = {};

  events.EventEmitter.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.NameAddrHeader" id="apidoc.element.jssip.NameAddrHeader">
        function <span class="apidocSignatureSpan">jssip.</span>NameAddrHeader
        <span class="apidocSignatureSpan">(uri, display_name, parameters)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function NameAddrHeader(uri, display_name, parameters) {
  var param;

  // Checks
  if(!uri || !(uri instanceof URI)) {
    throw new TypeError('missing or invalid "uri" parameter');
  }

  // Initialize parameters
  this.uri = uri;
  this.parameters = {};

  for (param in parameters) {
    this.setParam(param, parameters[param]);
  }

  Object.defineProperties(this, {
    display_name: {
      get: function() { return display_name; },
      set: function(value) {
        display_name = (value === 0) ? '0' : value;
      }
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.RTCSession" id="apidoc.element.jssip.RTCSession">
        function <span class="apidocSignatureSpan">jssip.</span>RTCSession
        <span class="apidocSignatureSpan">(ua)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function RTCSession(ua) {
  debug('new');

  this.ua = ua;
  this.status = C.STATUS_NULL;
  this.dialog = null;
  this.earlyDialogs = {};
  this.connection = null;  // The RTCPeerConnection instance (public attribute).

  // RTCSession confirmation flag
  this.is_confirmed = false;

  // is late SDP being negotiated
  this.late_sdp = false;

  // Default rtcOfferConstraints and rtcAnswerConstrainsts (passed in connect() or answer()).
  this.rtcOfferConstraints = null;
  this.rtcAnswerConstraints = null;

  // Local MediaStream.
  this.localMediaStream = null;
  this.localMediaStreamLocallyGenerated = false;

  // Flag to indicate PeerConnection ready for new actions.
  this.rtcReady = true;

  // SIP Timers
  this.timers = {
    ackTimer: null,
    expiresTimer: null,
    invite2xxTimer: null,
    userNoAnswerTimer: null
  };

  // Session info
  this.direction = null;
  this.local_identity = null;
  this.remote_identity = null;
  this.start_time = null;
  this.end_time = null;
  this.tones = null;

  // Mute/Hold state
  this.audioMuted = false;
  this.videoMuted = false;
  this.localHold = false;
  this.remoteHold = false;

  // Session Timers (RFC 4028)
  this.sessionTimers = {
    enabled: this.ua.configuration.session_timers,
    defaultExpires: JsSIP_C.SESSION_EXPIRES,
    currentExpires: null,
    running: false,
    refresher: false,
    timer: null  // A setTimeout.
  };

  // Map of ReferSubscriber instances indexed by the REFER's CSeq number
  this.referSubscribers = {};

  // Custom session empty object for high level use
  this.data = {};

  // Expose session failed/ended causes as a property of the RTCSession instance
  this.causes = JsSIP_C.causes;

  events.EventEmitter.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.ReferNotifier" id="apidoc.element.jssip.ReferNotifier">
        function <span class="apidocSignatureSpan">jssip.</span>ReferNotifier
        <span class="apidocSignatureSpan">(session, id, expires)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ReferNotifier(session, id, expires) {
  this.session = session;
  this.id = id;
  this.expires = expires || C.expires;
  this.active = true;

  // The creation of a Notifier results in an immediate NOTIFY
  this.notify(100);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.ReferSubscriber" id="apidoc.element.jssip.ReferSubscriber">
        function <span class="apidocSignatureSpan">jssip.</span>ReferSubscriber
        <span class="apidocSignatureSpan">(session)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ReferSubscriber(session) {
  this.session = session;
  this.timer = null;
  // Instance of REFER OutgoingRequest
  this.outgoingRequest = null;

  events.EventEmitter.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Registrator" id="apidoc.element.jssip.Registrator">
        function <span class="apidocSignatureSpan">jssip.</span>Registrator
        <span class="apidocSignatureSpan">(ua, transport)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Registrator(ua, transport) {
  var reg_id=1; //Force reg_id to 1.

  this.ua = ua;
  this.transport = transport;

  this.registrar = ua.configuration.registrar_server;
  this.expires = ua.configuration.register_expires;

  // Call-ID and CSeq values RFC3261 10.2
  this.call_id = Utils.createRandomToken(22);
  this.cseq = 0;

  // this.to_uri
  this.to_uri = ua.configuration.uri;

  this.registrationTimer = null;

  // Set status
  this.registered = false;

  // Contact header
  this.contact = this.ua.contact.toString();

  // sip.ice media feature tag (RFC 5768)
  this.contact += ';+sip.ice';

  // Custom headers for REGISTER and un-REGISTER.
  this.extraHeaders = [];

  // Custom Contact header params for REGISTER and un-REGISTER.
  this.extraContactParams = '';

  if(reg_id) {
    this.contact += ';reg-id='+ reg_id;
    this.contact += ';+sip.instance="&lt;urn:uuid:'+ this.ua.configuration.instance_id+'&gt;"';
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Request" id="apidoc.element.jssip.Request">
        function <span class="apidocSignatureSpan">jssip.</span>Request
        <span class="apidocSignatureSpan">(session, method)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Request(session, method) {
  debug('new | %s', method);

  this.session = session;
  this.method = method;
  // Instance of OutgoingRequest
  this.outgoingRequest = null;

  // Check RTCSession Status
  if (this.session.status !== RTCSession.C.STATUS_1XX_RECEIVED &amp;&amp;
    this.session.status !== RTCSession.C.STATUS_WAITING_FOR_ANSWER &amp;&amp;
    this.session.status !== RTCSession.C.STATUS_WAITING_FOR_ACK &amp;&amp;
    this.session.status !== RTCSession.C.STATUS_CONFIRMED &amp;&amp;
    this.session.status !== RTCSession.C.STATUS_TERMINATED) {
    throw new Exceptions.InvalidStateError(this.session.status);
  }

<span class="apidocCodeCommentSpan">  /*
   * Allow sending BYE in TERMINATED status since the RTCSession
   * could had been terminated before the ACK had arrived.
   * RFC3261 Section 15, Paragraph 2
   */
</span>  else if (this.session.status === RTCSession.C.STATUS_TERMINATED &amp;&amp; method !== JsSIP_C.BYE) {
    throw new Exceptions.InvalidStateError(this.session.status);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.RequestSender" id="apidoc.element.jssip.RequestSender">
        function <span class="apidocSignatureSpan">jssip.</span>RequestSender
        <span class="apidocSignatureSpan">(applicant, ua)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function RequestSender(applicant, ua) {
  this.ua = ua;
  this.applicant = applicant;
  this.method = applicant.request.method;
  this.request = applicant.request;
  this.auth = null;
  this.challenged = false;
  this.staled = false;

  // If ua is in closing process or even closed just allow sending Bye and ACK
  if (ua.status === UA.C.STATUS_USER_CLOSED &amp;&amp; (this.method !== JsSIP_C.BYE || this.method !== JsSIP_C.ACK)) {
    this.onTransportError();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
//     }

//     subscriber = this;
//     from_tag = JsSIP.Utils.newTag();

//     new function() {
//       this.request = subscriber.createSubscribeRequest(null,{from_tag:from_tag});
//       var request_sender = new JsSIP.<span class="apidocCodeKeywordSpan">RequestSender</span>(this, subscriber.ua);

//       this.receiveResponse = function(response) {
//         switch(true) {
//           case /^1[0-9]{2}$/.test(response.status_code): // Ignore provisional responses.
//             break;
//           case /^2[0-9]{2}$/.test(response.status_code):
//             expires = response.s('Expires');
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Socket" id="apidoc.element.jssip.Socket">
        function <span class="apidocSignatureSpan">jssip.</span>Socket
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Socket() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Transport" id="apidoc.element.jssip.Transport">
        function <span class="apidocSignatureSpan">jssip.</span>Transport
        <span class="apidocSignatureSpan">(sockets, recovery_options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Transport(sockets, recovery_options) {
  debug('new()');

  this.status = C.STATUS_DISCONNECTED;

  // current socket
  this.socket = null;

  // socket collection
  this.sockets = [];

  this.recovery_options = recovery_options || C.recovery_options;
  this.recover_attempts = 0;
  this.recovery_timer = null;

  this.close_requested = false;

  if (typeof sockets === 'undefined') {
    throw new TypeError('Invalid argument.' +
                        ' undefined \'sockets\' argument');
  }

  if (!(sockets instanceof Array)) {
    sockets = [ sockets ];
  }

  sockets.forEach(function(socket) {
    if (!Socket.isSocket(socket.socket)) {
      throw new TypeError('Invalid argument.' +
                          ' invalid \'JsSIP.Socket\' instance');
    }

    if (socket.weight &amp;&amp; !Number(socket.weight)) {
      throw new TypeError('Invalid argument.' +
                          ' \'weight\' attribute is not a number');
    }

    this.sockets.push({
      socket: socket.socket,
      weight: socket.weight || 0,
      status: C.SOCKET_STATUS_READY
    });
  }, this);

  // read only properties
  Object.defineProperties(this, {
    via_transport:   { get: function() { return this.socket.via_transport; } },
    url:      { get: function() { return this.socket.url;       } },
    sip_uri:  { get: function() { return this.socket.sip_uri;   } }
  });

  // get the socket with higher weight
  getSocket.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.UA" id="apidoc.element.jssip.UA">
        function <span class="apidocSignatureSpan">jssip.</span>UA
        <span class="apidocSignatureSpan">(configuration)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function UA(configuration) {
  debug('new() [configuration:%o]', configuration);

  this.cache = {
    credentials: {}
  };

  this.configuration = {};
  this.dynConfiguration = {};
  this.dialogs = {};

  //User actions outside any session/dialog (MESSAGE)
  this.applicants = {};

  this.sessions = {};
  this.transport = null;
  this.contact = null;
  this.status = C.STATUS_INIT;
  this.error = null;
  this.transactions = {
    nist: {},
    nict: {},
    ist: {},
    ict: {}
  };

  // Custom UA empty object for high level use
  this.data = {};

  this.closeTimer = null;

  Object.defineProperties(this, {
    transactionsCount: {
      get: function() {
        var type,
          transactions = ['nist','nict','ist','ict'],
          count = 0;

        for (type in transactions) {
          count += Object.keys(this.transactions[transactions[type]]).length;
        }

        return count;
      }
    },

    nictTransactionsCount: {
      get: function() {
        return Object.keys(this.transactions.nict).length;
      }
    },

    nistTransactionsCount: {
      get: function() {
        return Object.keys(this.transactions.nist).length;
      }
    },

    ictTransactionsCount: {
      get: function() {
        return Object.keys(this.transactions.ict).length;
      }
    },

    istTransactionsCount: {
      get: function() {
        return Object.keys(this.transactions.ist).length;
      }
    }
  });

<span class="apidocCodeCommentSpan">  /**
   * Load configuration
   */
</span>
  if(configuration === undefined) {
    throw new TypeError('Not enough arguments');
  }

  try {
    this.loadConfig(configuration);
  } catch(e) {
    this.status = C.STATUS_NOT_READY;
    this.error = C.CONFIGURATION_ERROR;
    throw e;
  }

  // Initialize registrator
  this._registrator = new Registrator(this);

  events.EventEmitter.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var socket = new JsSIP.WebSocketInterface('wss://sip.myhost.com');
var configuration = {
sockets  : [ socket ],
uri      : 'sip:alice@example.com',
password : 'superpassword'
};

var ua = new JsSIP.<span class="apidocCodeKeywordSpan">UA</span>(configuration);

ua.start();

// Register callbacks to desired call events
var eventHandlers = {
'progress': function(e) {
  console.log('call is in progress');
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.URI" id="apidoc.element.jssip.URI">
        function <span class="apidocSignatureSpan">jssip.</span>URI
        <span class="apidocSignatureSpan">(scheme, user, host, port, parameters, headers)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function URI(scheme, user, host, port, parameters, headers) {
  var param, header;

  // Checks
  if(!host) {
    throw new TypeError('missing or invalid "host" parameter');
  }

  // Initialize parameters
  scheme = scheme || JsSIP_C.SIP;
  this.parameters = {};
  this.headers = {};

  for (param in parameters) {
    this.setParam(param, parameters[param]);
  }

  for (header in headers) {
    this.setHeader(header, headers[header]);
  }

  Object.defineProperties(this, {
    scheme: {
      get: function(){ return scheme; },
      set: function(value){
        scheme = value.toLowerCase();
      }
    },

    user: {
      get: function(){ return user; },
      set: function(value){
        user = value;
      }
    },

    host: {
      get: function(){ return host; },
      set: function(value){
        host = value.toLowerCase();
      }
    },

    port: {
      get: function(){ return port; },
      set: function(value){
        port = value === 0 ? value : (parseInt(value,10) || null);
      }
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.WebSocketInterface" id="apidoc.element.jssip.WebSocketInterface">
        function <span class="apidocSignatureSpan">jssip.</span>WebSocketInterface
        <span class="apidocSignatureSpan">(url)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function WebSocketInterface(url) {
  debug('new() [url:"%s"]', url);

  var sip_uri = null;
  var via_transport = null;

  this.ws = null;

  // setting the 'scheme' alters the sip_uri too (used in SIP Route header field)
  Object.defineProperties(this, {
    via_transport: {
      get: function() { return via_transport; },
      set: function(transport) {
        via_transport = transport.toUpperCase();
      }
    },
    sip_uri:  { get: function() { return sip_uri; }},
    url:      { get: function() { return url; }}
  });

  var parsed_url = Grammar.parse(url, 'absoluteURI');

  if (parsed_url === -1) {
    debugerror('invalid WebSocket URI: ' + url);
    throw new TypeError('Invalid argument: ' + url);
  } else if(parsed_url.scheme !== 'wss' &amp;&amp; parsed_url.scheme !== 'ws') {
    debugerror('invalid WebSocket URI scheme: ' + parsed_url.scheme);
    throw new TypeError('Invalid argument: ' + url);
  } else {
    sip_uri = 'sip:' + parsed_url.host +
      (parsed_url.port ? ':' + parsed_url.port : '') + ';transport=ws';
    this.via_transport = parsed_url.scheme;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
## Getting Started

The following simple JavaScript code creates a JsSIP User Agent instance and makes a SIP call:

```javascript
// Create our JsSIP instance and run it:

var socket = new JsSIP.<span class="apidocCodeKeywordSpan">WebSocketInterface</span>('wss://sip.myhost.com');
var configuration = {
  sockets  : [ socket ],
  uri      : 'sip:alice@example.com',
  password : 'superpassword'
};

var ua = new JsSIP.UA(configuration);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.debug" id="apidoc.element.jssip.debug">
        function <span class="apidocSignatureSpan">jssip.</span>debug
        <span class="apidocSignatureSpan">(namespace)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createDebug(namespace) {

  function debug() {
    // disabled?
    if (!debug.enabled) return;

    var self = debug;

    // set `diff` timestamp
    var curr = +new Date();
    var ms = curr - (prevTime || curr);
    self.diff = ms;
    self.prev = prevTime;
    self.curr = curr;
    prevTime = curr;

    // turn the `arguments` into a proper Array
    var args = new Array(arguments.length);
    for (var i = 0; i &lt; args.length; i++) {
      args[i] = arguments[i];
    }

    args[0] = exports.coerce(args[0]);

    if ('string' !== typeof args[0]) {
      // anything else let's inspect with %O
      args.unshift('%O');
    }

    // apply any `formatters` transformations
    var index = 0;
    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {
      // if we encounter an escaped % then don't increase the array index
      if (match === '%%') return match;
      index++;
      var formatter = exports.formatters[format];
      if ('function' === typeof formatter) {
        var val = args[index];
        match = formatter.call(self, val);

        // now we need to remove `args[index]` since it's inlined in the `format`
        args.splice(index, 1);
        index--;
      }
      return match;
    });

    // apply env-specific formatting (colors, etc.)
    exports.formatArgs.call(self, args);

    var logFn = debug.log || exports.log || console.log.bind(console);
    logFn.apply(self, args);
  }

  debug.namespace = namespace;
  debug.enabled = exports.enabled(namespace);
  debug.useColors = exports.useColors();
  debug.color = selectColor(namespace);

  // env-specific initialization logic for debug instances
  if ('function' === typeof exports.init) {
    exports.init(debug);
  }

  return debug;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


















































</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jssip.DTMF" id="apidoc.module.jssip.DTMF">module jssip.DTMF</a></h1>


    <h2>
        <a href="#apidoc.element.jssip.DTMF.DTMF" id="apidoc.element.jssip.DTMF.DTMF">
        function <span class="apidocSignatureSpan">jssip.</span>DTMF
        <span class="apidocSignatureSpan">(session)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DTMF(session) {
  this.owner = session;
  this.direction = null;
  this.tone = null;
  this.duration = null;

  events.EventEmitter.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.DTMF.super_" id="apidoc.element.jssip.DTMF.super_">
        function <span class="apidocSignatureSpan">jssip.DTMF.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitter() {
  EventEmitter.init.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jssip.DTMF.prototype" id="apidoc.module.jssip.DTMF.prototype">module jssip.DTMF.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jssip.DTMF.prototype.init_incoming" id="apidoc.element.jssip.DTMF.prototype.init_incoming">
        function <span class="apidocSignatureSpan">jssip.DTMF.prototype.</span>init_incoming
        <span class="apidocSignatureSpan">(request)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">init_incoming = function (request) {
  var body,
    reg_tone = /^(Signal\s*?=\s*?)([0-9A-D#*]{1})(\s)?.*/,
    reg_duration = /^(Duration\s?=\s?)([0-9]{1,4})(\s)?.*/;

  this.direction = 'incoming';
  this.request = request;

  request.reply(200);

  if (request.body) {
    body = request.body.split('\n');
    if (body.length &gt;= 1) {
      if (reg_tone.test(body[0])) {
        this.tone = body[0].replace(reg_tone,'$2');
      }
    }
    if (body.length &gt;=2) {
      if (reg_duration.test(body[1])) {
        this.duration = parseInt(body[1].replace(reg_duration,'$2'), 10);
      }
    }
  }

  if (!this.duration) {
    this.duration = C.DEFAULT_DURATION;
  }

  if (!this.tone) {
    debug('invalid INFO DTMF received, discarded');
  } else {
    this.owner.newDTMF({
      originator: 'remote',
      dtmf: this,
      request: request
    });
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    request.reply(403, 'Wrong Status');
  }
  break;
case JsSIP_C.INFO:
  if(this.status === C.STATUS_CONFIRMED || this.status === C.STATUS_WAITING_FOR_ACK || this.status === C.STATUS_INVITE_RECEIVED) {
    contentType = request.getHeader('content-type');
    if (contentType &amp;&amp; (contentType.match(/^application\/dtmf-relay/i))) {
      new RTCSession_DTMF(this).<span class="apidocCodeKeywordSpan">init_incoming</span>(request);
    }
    else {
      request.reply(415);
    }
  }
  else {
    request.reply(403, 'Wrong Status');
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.DTMF.prototype.onDialogError" id="apidoc.element.jssip.DTMF.prototype.onDialogError">
        function <span class="apidocSignatureSpan">jssip.DTMF.prototype.</span>onDialogError
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onDialogError = function () {
  debugerror('onDialogError');
  this.owner.onDialogError();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      onTransportError: function() {
        self.onTransportError();  // Do nothing because session ends.
      },
      onRequestTimeout: function() {
        self.onRequestTimeout();  // Do nothing because session ends.
      },
      onDialogError: function() {
        self.<span class="apidocCodeKeywordSpan">onDialogError</span>();  // Do nothing because session ends.
      }
    }
  });
},
// failure
function() {
  onFailed();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.DTMF.prototype.onRequestTimeout" id="apidoc.element.jssip.DTMF.prototype.onRequestTimeout">
        function <span class="apidocSignatureSpan">jssip.DTMF.prototype.</span>onRequestTimeout
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onRequestTimeout = function () {
  debugerror('onRequestTimeout');
  this.owner.onRequestTimeout();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
},

/**
* Callback fired when receiving a request timeout error from the client transaction.
* To be re-defined by the applicant.
*/
onRequestTimeout: function() {
  this.applicant.<span class="apidocCodeKeywordSpan">onRequestTimeout</span>();
},

/**
* Callback fired when receiving a transport error from the client transaction.
* To be re-defined by the applicant.
*/
onTransportError: function() {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.DTMF.prototype.onTransportError" id="apidoc.element.jssip.DTMF.prototype.onTransportError">
        function <span class="apidocSignatureSpan">jssip.DTMF.prototype.</span>onTransportError
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onTransportError = function () {
  debugerror('onTransportError');
  this.owner.onTransportError();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this.request = applicant.request;
  this.auth = null;
  this.challenged = false;
  this.staled = false;

  // If ua is in closing process or even closed just allow sending Bye and ACK
  if (ua.status === UA.C.STATUS_USER_CLOSED &amp;&amp; (this.method !== JsSIP_C.BYE || this.method !== JsSIP_C.ACK)) {
    this.<span class="apidocCodeKeywordSpan">onTransportError</span>();
  }
}


/**
* Create the client transaction and send the message.
*/
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.DTMF.prototype.receiveResponse" id="apidoc.element.jssip.DTMF.prototype.receiveResponse">
        function <span class="apidocSignatureSpan">jssip.DTMF.prototype.</span>receiveResponse
        <span class="apidocSignatureSpan">(response)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">receiveResponse = function (response) {
  switch(true) {
    case /^1[0-9]{2}$/.test(response.status_code):
      // Ignore provisional responses.
      break;

    case /^2[0-9]{2}$/.test(response.status_code):
      this.emit('succeeded', {
        originator: 'remote',
        response: response
      });
      break;

    default:
      if (this.eventHandlers.onFailed) {
        this.eventHandlers.onFailed();
      }

      this.emit('failed', {
        originator: 'remote',
        response: response
      });
      break;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  challenge = response.parseHeader('proxy-authenticate');
  authorization_header_name = 'proxy-authorization';
}

// Verify it seems a valid challenge.
if (!challenge) {
  debug(response.status_code + ' with wrong or missing challenge, cannot authenticate');
  this.applicant.<span class="apidocCodeKeywordSpan">receiveResponse</span>(response);
  return;
}

if (!this.challenged || (!this.staled &amp;&amp; challenge.stale === true)) {
  if (!this.auth) {
    this.auth = new DigestAuthentication({
      username : this.ua.configuration.authorization_user,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.DTMF.prototype.send" id="apidoc.element.jssip.DTMF.prototype.send">
        function <span class="apidocSignatureSpan">jssip.DTMF.prototype.</span>send
        <span class="apidocSignatureSpan">(tone, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">send = function (tone, options) {
  var extraHeaders, body;

  if (tone === undefined) {
    throw new TypeError('Not enough arguments');
  }

  this.direction = 'outgoing';

  // Check RTCSession Status
  if (this.owner.status !== RTCSession.C.STATUS_CONFIRMED &amp;&amp;
    this.owner.status !== RTCSession.C.STATUS_WAITING_FOR_ACK) {
    throw new Exceptions.InvalidStateError(this.owner.status);
  }

  // Get DTMF options
  options = options || {};
  extraHeaders = options.extraHeaders ? options.extraHeaders.slice() : [];
  this.eventHandlers = options.eventHandlers || {};

  // Check tone type
  if (typeof tone === 'string' ) {
    tone = tone.toUpperCase();
  } else if (typeof tone === 'number') {
    tone = tone.toString();
  } else {
    throw new TypeError('Invalid tone: '+ tone);
  }

  // Check tone value
  if (!tone.match(/^[0-9A-DR#*]$/)) {
    throw new TypeError('Invalid tone: '+ tone);
  } else {
    this.tone = tone;
  }

  // Duration is checked/corrected in RTCSession
  this.duration = options.duration;

  extraHeaders.push('Content-Type: application/dtmf-relay');

  body = 'Signal=' + this.tone + '\r\n';
  body += 'Duration=' + this.duration;

  this.owner.newDTMF({
    originator: 'local',
    dtmf: this,
    request: this.request
  });

  this.owner.dialog.sendRequest(this, JsSIP_C.INFO, {
    extraHeaders: extraHeaders,
    body: body
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  var
    extraHeaders = options.extraHeaders &amp;&amp; options.extraHeaders.slice() || [],
    body = options.body || null,
    request = this.createRequest(method, extraHeaders, body),
    request_sender = new Dialog_RequestSender(this, applicant, request);

    request_sender.<span class="apidocCodeKeywordSpan">send</span>();

    // Return the instance of OutgoingRequest
    return request;
},

receiveRequest: function(request) {
  //Check in-dialog request
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jssip.Dialog" id="apidoc.module.jssip.Dialog">module jssip.Dialog</a></h1>


    <h2>
        <a href="#apidoc.element.jssip.Dialog.Dialog" id="apidoc.element.jssip.Dialog.Dialog">
        function <span class="apidocSignatureSpan">jssip.</span>Dialog
        <span class="apidocSignatureSpan">(owner, message, type, state)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Dialog(owner, message, type, state) {
  var contact;

  this.uac_pending_reply = false;
  this.uas_pending_reply = false;

  if(!message.hasHeader('contact')) {
    return {
      error: 'unable to create a Dialog without Contact header field'
    };
  }

  if(message instanceof SIPMessage.IncomingResponse) {
    state = (message.status_code &lt; 200) ? C.STATUS_EARLY : C.STATUS_CONFIRMED;
  } else {
    // Create confirmed dialog if state is not defined
    state = state || C.STATUS_CONFIRMED;
  }

  contact = message.parseHeader('contact');

  // RFC 3261 12.1.1
  if(type === 'UAS') {
    this.id = {
      call_id: message.call_id,
      local_tag: message.to_tag,
      remote_tag: message.from_tag,
      toString: function() {
        return this.call_id + this.local_tag + this.remote_tag;
      }
    };
    this.state = state;
    this.remote_seqnum = message.cseq;
    this.local_uri = message.parseHeader('to').uri;
    this.remote_uri = message.parseHeader('from').uri;
    this.remote_target = contact.uri;
    this.route_set = message.getHeaders('record-route');
  }
  // RFC 3261 12.1.2
  else if(type === 'UAC') {
    this.id = {
      call_id: message.call_id,
      local_tag: message.from_tag,
      remote_tag: message.to_tag,
      toString: function() {
        return this.call_id + this.local_tag + this.remote_tag;
      }
    };
    this.state = state;
    this.local_seqnum = message.cseq;
    this.local_uri = message.parseHeader('from').uri;
    this.remote_uri = message.parseHeader('to').uri;
    this.remote_target = contact.uri;
    this.route_set = message.getHeaders('record-route').reverse();
  }

  this.owner = owner;
  owner.ua.dialogs[this.id.toString()] = this;
  debug('new ' + type + ' dialog created with status ' + (this.state === C.STATUS_EARLY ? 'EARLY': 'CONFIRMED'));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
//     var local_tag, remote_tag, id, dialog;

//     // Create a confirmed dialog given a message and type ('UAC' or 'UAS')
//     local_tag = (type === 'UAS') ? message.to_tag : message.from_tag;
//     remote_tag = (type === 'UAS') ? message.from_tag : message.to_tag;
//     id = message.call_id + local_tag + remote_tag;

//     dialog = new JsSIP.<span class="apidocCodeKeywordSpan">Dialog</span>(this, message, type);

//     if(dialog) {
//       this.dialog = dialog;
//       return true;
//     }
//     // Dialog not created due to an error
//     else {
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jssip.Dialog.prototype" id="apidoc.module.jssip.Dialog.prototype">module jssip.Dialog.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jssip.Dialog.prototype.checkInDialogRequest" id="apidoc.element.jssip.Dialog.prototype.checkInDialogRequest">
        function <span class="apidocSignatureSpan">jssip.Dialog.prototype.</span>checkInDialogRequest
        <span class="apidocSignatureSpan">(request)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">checkInDialogRequest = function (request) {
  var self = this;

  if(!this.remote_seqnum) {
    this.remote_seqnum = request.cseq;
  } else if(request.cseq &lt; this.remote_seqnum) {
      //Do not try to reply to an ACK request.
      if (request.method !== JsSIP_C.ACK) {
        request.reply(500);
      }
      return false;
  } else if(request.cseq &gt; this.remote_seqnum) {
    this.remote_seqnum = request.cseq;
  }

  // RFC3261 14.2 Modifying an Existing Session -UAS BEHAVIOR-
  if (request.method === JsSIP_C.INVITE || (request.method === JsSIP_C.UPDATE &amp;&amp; request.body)) {
    if (this.uac_pending_reply === true) {
      request.reply(491);
    } else if (this.uas_pending_reply === true) {
      var retryAfter = (Math.random() * 10 | 0) + 1;
      request.reply(500, null, ['Retry-After:'+ retryAfter]);
      return false;
    } else {
      this.uas_pending_reply = true;
      request.server_transaction.on('stateChanged', function stateChanged(){
        if (this.state === Transactions.C.STATUS_ACCEPTED ||
            this.state === Transactions.C.STATUS_COMPLETED ||
            this.state === Transactions.C.STATUS_TERMINATED) {

          request.server_transaction.removeListener('stateChanged', stateChanged);
          self.uas_pending_reply = false;
        }
      });
    }

    // RFC3261 12.2.2 Replace the dialog`s remote target URI if the request is accepted
    if(request.hasHeader('contact')) {
      request.server_transaction.on('stateChanged', function(){
        if (this.state === Transactions.C.STATUS_ACCEPTED) {
          self.remote_target = request.parseHeader('contact').uri;
        }
      });
    }
  }
  else if (request.method === JsSIP_C.NOTIFY) {
    // RFC6665 3.2 Replace the dialog`s remote target URI if the request is accepted
    if(request.hasHeader('contact')) {
      request.server_transaction.on('stateChanged', function(){
        if (this.state === Transactions.C.STATUS_COMPLETED) {
          self.remote_target = request.parseHeader('contact').uri;
        }
      });
    }
  }

  return true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

      // Return the instance of OutgoingRequest
      return request;
  },

  receiveRequest: function(request) {
    //Check in-dialog request
    if(!this.<span class="apidocCodeKeywordSpan">checkInDialogRequest</span>(request)) {
      return;
    }

    this.owner.receiveRequest(request);
  }
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Dialog.prototype.createRequest" id="apidoc.element.jssip.Dialog.prototype.createRequest">
        function <span class="apidocSignatureSpan">jssip.Dialog.prototype.</span>createRequest
        <span class="apidocSignatureSpan">(method, extraHeaders, body)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createRequest = function (method, extraHeaders, body) {
  var cseq, request;
  extraHeaders = extraHeaders &amp;&amp; extraHeaders.slice() || [];

  if(!this.local_seqnum) { this.local_seqnum = Math.floor(Math.random() * 10000); }

  cseq = (method === JsSIP_C.CANCEL || method === JsSIP_C.ACK) ? this.local_seqnum : this.local_seqnum += 1;

  request = new SIPMessage.OutgoingRequest(
    method,
    this.remote_target,
    this.owner.ua, {
      'cseq': cseq,
      'call_id': this.id.call_id,
      'from_uri': this.local_uri,
      'from_tag': this.id.local_tag,
      'to_uri': this.remote_uri,
      'to_tag': this.id.remote_tag,
      'route_set': this.route_set
    }, extraHeaders, body);

  request.dialog = this;

  return request;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

sendRequest: function(applicant, method, options) {
  options = options || {};

  var
    extraHeaders = options.extraHeaders &amp;&amp; options.extraHeaders.slice() || [],
    body = options.body || null,
    request = this.<span class="apidocCodeKeywordSpan">createRequest</span>(method, extraHeaders, body),
    request_sender = new Dialog_RequestSender(this, applicant, request);

    request_sender.send();

    // Return the instance of OutgoingRequest
    return request;
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Dialog.prototype.receiveRequest" id="apidoc.element.jssip.Dialog.prototype.receiveRequest">
        function <span class="apidocSignatureSpan">jssip.Dialog.prototype.</span>receiveRequest
        <span class="apidocSignatureSpan">(request)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">receiveRequest = function (request) {
  //Check in-dialog request
  if(!this.checkInDialogRequest(request)) {
    return;
  }

  this.owner.receiveRequest(request);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  receiveRequest: function(request) {
    //Check in-dialog request
    if(!this.checkInDialogRequest(request)) {
      return;
    }

    this.owner.<span class="apidocCodeKeywordSpan">receiveRequest</span>(request);
  }
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Dialog.prototype.sendRequest" id="apidoc.element.jssip.Dialog.prototype.sendRequest">
        function <span class="apidocSignatureSpan">jssip.Dialog.prototype.</span>sendRequest
        <span class="apidocSignatureSpan">(applicant, method, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sendRequest = function (applicant, method, options) {
  options = options || {};

  var
    extraHeaders = options.extraHeaders &amp;&amp; options.extraHeaders.slice() || [],
    body = options.body || null,
    request = this.createRequest(method, extraHeaders, body),
    request_sender = new Dialog_RequestSender(this, applicant, request);

    request_sender.send();

    // Return the instance of OutgoingRequest
    return request;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
dialog = new Dialog(this, response, 'UAC');

if (dialog.error !== undefined) {
  debug(dialog.error);
  return;
}

dialog.<span class="apidocCodeKeywordSpan">sendRequest</span>({
    owner: {status: C.STATUS_TERMINATED},
    onRequestTimeout: function(){},
    onTransportError: function(){},
    onDialogError: function(){},
    receiveResponse: function(){}
  }, JsSIP_C.ACK);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Dialog.prototype.terminate" id="apidoc.element.jssip.Dialog.prototype.terminate">
        function <span class="apidocSignatureSpan">jssip.Dialog.prototype.</span>terminate
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">terminate = function () {
  debug('dialog ' + this.id.toString() + ' deleted');
  delete this.owner.ua.dialogs[this.id.toString()];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Send the BYE as soon as the ACK is received...
this.receiveRequest = function(request) {
  if(request.method === JsSIP_C.ACK) {
    sendRequest.call(this, JsSIP_C.BYE, {
      extraHeaders: extraHeaders,
      body: body
    });
    dialog.<span class="apidocCodeKeywordSpan">terminate</span>();
  }
};

// .., or when the INVITE transaction times out
this.request.server_transaction.on('stateChanged', function(){
  if (this.state === Transactions.C.STATUS_TERMINATED) {
    sendRequest.call(self, JsSIP_C.BYE, {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Dialog.prototype.update" id="apidoc.element.jssip.Dialog.prototype.update">
        function <span class="apidocSignatureSpan">jssip.Dialog.prototype.</span>update
        <span class="apidocSignatureSpan">(message, type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">update = function (message, type) {
  this.state = C.STATUS_CONFIRMED;

  debug('dialog '+ this.id.toString() +'  changed to CONFIRMED state');

  if(type === 'UAC') {
    // RFC 3261 13.2.2.4
    this.route_set = message.getHeaders('record-route').reverse();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  // Confirmed Dialog
  else {
this.from_tag = message.from_tag;
this.to_tag = message.to_tag;

// In case the dialog is in _early_ state, update it
if (early_dialog) {
  early_dialog.<span class="apidocCodeKeywordSpan">update</span>(message, type);
  this.dialog = early_dialog;
  delete this.earlyDialogs[id];
  return true;
}

// Otherwise, create a _confirmed_ dialog
dialog = new Dialog(this, message, type);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jssip.DigestAuthentication" id="apidoc.module.jssip.DigestAuthentication">module jssip.DigestAuthentication</a></h1>


    <h2>
        <a href="#apidoc.element.jssip.DigestAuthentication.DigestAuthentication" id="apidoc.element.jssip.DigestAuthentication.DigestAuthentication">
        function <span class="apidocSignatureSpan">jssip.</span>DigestAuthentication
        <span class="apidocSignatureSpan">(credentials)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DigestAuthentication(credentials) {
  this.credentials = credentials;
  this.cnonce = null;
  this.nc = 0;
  this.ncHex = '00000000';
  this.algorithm = null;
  this.realm = null;
  this.nonce = null;
  this.opaque = null;
  this.stale = null;
  this.qop = null;
  this.method = null;
  this.uri = null;
  this.ha1 = null;
  this.response = null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jssip.DigestAuthentication.prototype" id="apidoc.module.jssip.DigestAuthentication.prototype">module jssip.DigestAuthentication.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jssip.DigestAuthentication.prototype.authenticate" id="apidoc.element.jssip.DigestAuthentication.prototype.authenticate">
        function <span class="apidocSignatureSpan">jssip.DigestAuthentication.prototype.</span>authenticate
        <span class="apidocSignatureSpan">(request, challenge)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">authenticate = function (request, challenge) {
  var ha2, hex;

  this.algorithm = challenge.algorithm;
  this.realm = challenge.realm;
  this.nonce = challenge.nonce;
  this.opaque = challenge.opaque;
  this.stale = challenge.stale;

  if (this.algorithm) {
    if (this.algorithm !== 'MD5') {
      debugerror('authenticate() | challenge with Digest algorithm different than "MD5", authentication aborted');
      return false;
    }
  } else {
    this.algorithm = 'MD5';
  }

  if (!this.nonce) {
    debugerror('authenticate() | challenge without Digest nonce, authentication aborted');
    return false;
  }

  if (!this.realm) {
    debugerror('authenticate() | challenge without Digest realm, authentication aborted');
    return false;
  }

  // If no plain SIP password is provided.
  if (!this.credentials.password) {
    // If ha1 is not provided we cannot authenticate.
    if (!this.credentials.ha1) {
      debugerror('authenticate() | no plain SIP password nor ha1 provided, authentication aborted');
      return false;
    }

    // If the realm does not match the stored realm we cannot authenticate.
    if (this.credentials.realm !== this.realm) {
      debugerror('authenticate() | no plain SIP password, and stored `realm` does not match the given `realm`, cannot authenticate
 [stored:"%s", given:"%s"]', this.credentials.realm, this.realm);
      return false;
    }
  }

  // 'qop' can contain a list of values (Array). Let's choose just one.
  if (challenge.qop) {
    if (challenge.qop.indexOf('auth') &gt; -1) {
      this.qop = 'auth';
    } else if (challenge.qop.indexOf('auth-int') &gt; -1) {
      this.qop = 'auth-int';
    } else {
      // Otherwise 'qop' is present but does not contain 'auth' or 'auth-int', so abort here.
      debugerror('authenticate() | challenge without Digest qop different than "auth" or "auth-int", authentication aborted');
      return false;
    }
  } else {
    this.qop = null;
  }

  // Fill other attributes.

  this.method = request.method;
  this.uri = request.ruri;
  this.cnonce = Utils.createRandomToken(12);
  this.nc += 1;
  hex = Number(this.nc).toString(16);
  this.ncHex = '00000000'.substr(0, 8-hex.length) + hex;

  // nc-value = 8LHEX. Max value = 'FFFFFFFF'.
  if (this.nc === 4294967296) {
    this.nc = 1;
    this.ncHex = '00000001';
  }

  // Calculate the Digest "response" value.

  // If we have plain SIP password then regenerate ha1.
  if (this.credentials.password) {
    // HA1 = MD5(A1) = MD5(username:realm:password)
    this.ha1 = Utils.calculateMD5(this.credentials.username + ':' + this.realm + ':' + this.credentials.password);
    //
  // Otherwise reuse the stored ha1.
  } else {
    this.ha1 = this.credentials.ha1;
  }

  if (this.qop === 'auth') {
    // HA2 = MD5(A2) = MD5(method:digestURI)
    ha2 = Utils.calculateMD5(this.method + ':' + this.uri);
    // response = MD5(HA1:nonce:nonceCount:credentialsNonce:qop:HA2)
    this.response = Utils.calculateMD5(this.ha1 + ':' + this.nonce + ':' + this.ncHex + ':' + this.cnonce + ':auth:' + ha2);

  } else if (this.qop === 'auth-int') {
    // HA2 = MD5(A2) = MD5(method:digestURI:MD5(entityBody))
    ha2 = Utils.calculateMD5(this.method + ':' + this.uri + ':' + Utils.calculateMD5(this.body ? this.body : ''));
    // response = MD5(HA1:nonce:nonceCount:credentialsNonce:qop:HA2)
    this.response = Utils.calculateMD5(this.ha1 + ':' + this.nonce + ':' + this.ncHex + ':' + this.cnonce + ':auth-int:' + ha2);

  } else if (this.qop === null) {
    // HA2 = MD5(A2) = MD5(method:digestURI)
    ha2 = Utils.calculateMD5(this.method + ':' + this.uri);
    // response = MD5(HA1:nonce:HA2)
    this.response = Utils.calculateMD5(this.ha1 + ':' + this.nonce + ':' + ha2);
  }

  debug('authenticate() | response generated');

  return true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    password : this.ua.configuration.password,
    realm    : this.ua.configuration.realm,
    ha1      : this.ua.configuration.ha1
  });
}

// Verify that the challenge is really valid.
if (!this.auth.<span class="apidocCodeKeywordSpan">authenticate</span>(this.request, challenge)) {
  this.applicant.receiveResponse(response);
  return;
}
this.challenged = true;

// Update ha1 and realm in the UA.
this.ua.set('realm', this.auth.get('realm'));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.DigestAuthentication.prototype.get" id="apidoc.element.jssip.DigestAuthentication.prototype.get">
        function <span class="apidocSignatureSpan">jssip.DigestAuthentication.prototype.</span>get
        <span class="apidocSignatureSpan">(parameter)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">get = function (parameter) {
  switch (parameter) {
    case 'realm':
      return this.realm;

    case 'ha1':
      return this.ha1;

    default:
      debugerror('get() | cannot get "%s" parameter', parameter);
      return undefined;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (!this.auth.authenticate(this.request, challenge)) {
  this.applicant.receiveResponse(response);
  return;
}
this.challenged = true;

// Update ha1 and realm in the UA.
this.ua.set('realm', this.auth.<span class="apidocCodeKeywordSpan">get</span>('realm'));
this.ua.set('ha1', this.auth.get('ha1'));

if (challenge.stale) {
  this.staled = true;
}

if (response.method === JsSIP_C.REGISTER) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.DigestAuthentication.prototype.toString" id="apidoc.element.jssip.DigestAuthentication.prototype.toString">
        function <span class="apidocSignatureSpan">jssip.DigestAuthentication.prototype.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toString = function () {
  var auth_params = [];

  if (!this.response) {
    throw new Error('response field does not exist, cannot generate Authorization header');
  }

  auth_params.push('algorithm=' + this.algorithm);
  auth_params.push('username="' + this.credentials.username + '"');
  auth_params.push('realm="' + this.realm + '"');
  auth_params.push('nonce="' + this.nonce + '"');
  auth_params.push('uri="' + this.uri + '"');
  auth_params.push('response="' + this.response + '"');
  if (this.opaque) {
    auth_params.push('opaque="' + this.opaque + '"');
  }
  if (this.qop) {
    auth_params.push('qop=' + this.qop);
    auth_params.push('cnonce="' + this.cnonce + '"');
    auth_params.push('nc=' + this.ncHex);
  }

  return 'Digest ' + auth_params.join(', ');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this.local_uri = message.parseHeader('from').uri;
  this.remote_uri = message.parseHeader('to').uri;
  this.remote_target = contact.uri;
  this.route_set = message.getHeaders('record-route').reverse();
}

this.owner = owner;
owner.ua.dialogs[this.id.<span class="apidocCodeKeywordSpan">toString</span>()] = this;
debug('new ' + type + ' dialog created with status ' + (this.state === C.STATUS_EARLY ? 'EARLY': &amp;#
x27;CONFIRMED'));
}


Dialog.prototype = {
update: function(message, type) {
  this.state = C.STATUS_CONFIRMED;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jssip.Exceptions" id="apidoc.module.jssip.Exceptions">module jssip.Exceptions</a></h1>


    <h2>
        <a href="#apidoc.element.jssip.Exceptions.ConfigurationError" id="apidoc.element.jssip.Exceptions.ConfigurationError">
        function <span class="apidocSignatureSpan">jssip.Exceptions.</span>ConfigurationError
        <span class="apidocSignatureSpan">(parameter, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ConfigurationError = function (parameter, value) {
  this.code = 1;
  this.name = 'CONFIGURATION_ERROR';
  this.parameter = parameter;
  this.value = value;
  this.message = (!this.value)? 'Missing parameter: '+ this.parameter : 'Invalid value '+ JSON.stringify(this.value) +' for parameter
 "'+ this.parameter +'"';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Exceptions.InvalidStateError" id="apidoc.element.jssip.Exceptions.InvalidStateError">
        function <span class="apidocSignatureSpan">jssip.Exceptions.</span>InvalidStateError
        <span class="apidocSignatureSpan">(status)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">InvalidStateError = function (status) {
  this.code = 2;
  this.name = 'INVALID_STATE_ERROR';
  this.status = status;
  this.message = 'Invalid status: '+ status;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
target = this.ua.normalizeTarget(target);
if (!target) {
  throw new TypeError('Invalid target: '+ originalTarget);
}

// Check Session Status
if (this.status !== C.STATUS_NULL) {
  throw new Exceptions.<span class="apidocCodeKeywordSpan">InvalidStateError</span>(this.status);
}

// Set event handlers
for (event in eventHandlers) {
  this.on(event, eventHandlers[event]);
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Exceptions.NotReadyError" id="apidoc.element.jssip.Exceptions.NotReadyError">
        function <span class="apidocSignatureSpan">jssip.Exceptions.</span>NotReadyError
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">NotReadyError = function (message) {
  this.code = 4;
  this.name = 'NOT_READY_ERROR';
  this.message = message;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Exceptions.NotSupportedError" id="apidoc.element.jssip.Exceptions.NotSupportedError">
        function <span class="apidocSignatureSpan">jssip.Exceptions.</span>NotSupportedError
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">NotSupportedError = function (message) {
  this.code = 3;
  this.name = 'NOT_SUPPORTED_ERROR';
  this.message = message;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 options = options || {};

 var
   extraHeaders = options.extraHeaders &amp;&amp; options.extraHeaders.slice() || [],
   body = options.body;

 if (this.direction !== 'incoming') {
   throw new Exceptions.<span class="apidocCodeKeywordSpan">NotSupportedError</span>('"accept" not supported for
outgoing Message');
 }

 this.request.reply(200, null, extraHeaders, body);
};

/**
* Reject the incoming Message
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jssip.Grammar" id="apidoc.module.jssip.Grammar">module jssip.Grammar</a></h1>


    <h2>
        <a href="#apidoc.element.jssip.Grammar.SyntaxError" id="apidoc.element.jssip.Grammar.SyntaxError">
        function <span class="apidocSignatureSpan">jssip.Grammar.</span>SyntaxError
        <span class="apidocSignatureSpan">(expected, found, offset, line, column)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">SyntaxError = function (expected, found, offset, line, column) {
  function buildMessage(expected, found) {
    var expectedHumanized, foundHumanized;
    switch (expected.length) {
      case 0:
        expectedHumanized = "end of input";
        break;
      case 1:
        expectedHumanized = expected[0];
        break;
      default:
        expectedHumanized = expected.slice(0, expected.length - 1).join(", ")
          + " or "
          + expected[expected.length - 1];
    }
    foundHumanized = found ? quote(found) : "end of input";
    return "Expected " + expectedHumanized + " but " + foundHumanized + " found.";
  }
  this.name = "SyntaxError";
  this.expected = expected;
  this.found = found;
  this.message = buildMessage(expected, found);
  this.offset = offset;
  this.line = line;
  this.column = column;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Grammar.parse" id="apidoc.element.jssip.Grammar.parse">
        function <span class="apidocSignatureSpan">jssip.Grammar.</span>parse
        <span class="apidocSignatureSpan">(input, startRule)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parse = function (input, startRule) {
  var parseFunctions = {
    "CRLF": parse_CRLF,
    "DIGIT": parse_DIGIT,
    "ALPHA": parse_ALPHA,
    "HEXDIG": parse_HEXDIG,
    "WSP": parse_WSP,
    "OCTET": parse_OCTET,
    "DQUOTE": parse_DQUOTE,
    "SP": parse_SP,
    "HTAB": parse_HTAB,
    "alphanum": parse_alphanum,
    "reserved": parse_reserved,
    "unreserved": parse_unreserved,
    "mark": parse_mark,
    "escaped": parse_escaped,
    "LWS": parse_LWS,
    "SWS": parse_SWS,
    "HCOLON": parse_HCOLON,
    "TEXT_UTF8_TRIM": parse_TEXT_UTF8_TRIM,
    "TEXT_UTF8char": parse_TEXT_UTF8char,
    "UTF8_NONASCII": parse_UTF8_NONASCII,
    "UTF8_CONT": parse_UTF8_CONT,
    "LHEX": parse_LHEX,
    "token": parse_token,
    "token_nodot": parse_token_nodot,
    "separators": parse_separators,
    "word": parse_word,
    "STAR": parse_STAR,
    "SLASH": parse_SLASH,
    "EQUAL": parse_EQUAL,
    "LPAREN": parse_LPAREN,
    "RPAREN": parse_RPAREN,
    "RAQUOT": parse_RAQUOT,
    "LAQUOT": parse_LAQUOT,
    "COMMA": parse_COMMA,
    "SEMI": parse_SEMI,
    "COLON": parse_COLON,
    "LDQUOT": parse_LDQUOT,
    "RDQUOT": parse_RDQUOT,
    "comment": parse_comment,
    "ctext": parse_ctext,
    "quoted_string": parse_quoted_string,
    "quoted_string_clean": parse_quoted_string_clean,
    "qdtext": parse_qdtext,
    "quoted_pair": parse_quoted_pair,
    "SIP_URI_noparams": parse_SIP_URI_noparams,
    "SIP_URI": parse_SIP_URI,
    "uri_scheme": parse_uri_scheme,
    "uri_scheme_sips": parse_uri_scheme_sips,
    "uri_scheme_sip": parse_uri_scheme_sip,
    "userinfo": parse_userinfo,
    "user": parse_user,
    "user_unreserved": parse_user_unreserved,
    "password": parse_password,
    "hostport": parse_hostport,
    "host": parse_host,
    "hostname": parse_hostname,
    "domainlabel": parse_domainlabel,
    "toplabel": parse_toplabel,
    "IPv6reference": parse_IPv6reference,
    "IPv6address": parse_IPv6address,
    "h16": parse_h16,
    "ls32": parse_ls32,
    "IPv4address": parse_IPv4address,
    "dec_octet": parse_dec_octet,
    "port": parse_port,
    "uri_parameters": parse_uri_parameters,
    "uri_parameter": parse_uri_parameter,
    "transport_param": parse_transport_param,
    "user_param": parse_user_param,
    "method_param": parse_method_param,
    "ttl_param": parse_ttl_param,
    "maddr_param": parse_maddr_param,
    "lr_param": parse_lr_param,
    "other_param": parse_other_param,
    "pname": parse_pname,
    "pvalue": parse_pvalue,
    "paramchar": parse_paramchar,
    "param_unreserved": parse_param_unreserved,
    "headers": parse_headers,
    "header": parse_header,
    "hname": parse_hname,
    "hvalue": parse_hvalue,
    "hnv_unreserved": parse_hnv_unreserved,
    "Request_Response": parse_Request_Response,
    "Request_Line": parse_Request_Line,
    "Request_URI": parse_Request_URI,
    "absoluteURI": parse_absoluteURI,
    "hier_part": parse_hier_part,
    "net_path": parse_net_path,
    "abs_path": parse_abs_path,
    "opaque_part": parse_opaque_part,
    "uric": parse_uric,
    "uric_no_slash": parse_uric_no_slash,
    "path_segments": parse_path_segments,
    "segment": parse_segment,
    "param": parse_param,
    "pchar": parse_pchar,
    "scheme": parse_scheme,
    "authority": parse_authority,
    "srvr": parse_srvr,
    "reg_name": parse_reg_name,
    "query": parse_query,
    "SIP_Version": parse_SIP_Version,
    "INVITEm": parse_INVITEm,
    "ACKm": parse_ACKm,
    "OPTIONSm": parse_OPTIONSm,
    "BYEm": parse_BYEm,
    "CANCELm": parse_CANCELm,
    "REGISTERm": parse_REGISTERm,
    "SUBSCRIBEm": parse_SUBSCRIBEm,
    "NOTIFYm": parse_NOTIFYm,
    "REFERm": parse_REFERm,
    "Method": parse_Method,
    "Status_Line": parse_Status_Line,
    "Status_Code": parse_Status_Code,
    "extension_code": parse_extension_code,
    "Reason_Phrase": parse_Reason_Phrase,
    "Allow_Events": parse_Allow_Events,
    "Call_ID": parse_Call_ID,
    "Contact": parse_Contact,
    "contact_param": parse_contact_param,
    "name_addr": parse_name_addr,
    "display_name": parse_display_name,
    "contact_params": parse_contact_p ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
parsed = message.parseHeader('to');
if(parsed) {
  message.to = parsed;
  message.to_tag = parsed.getParam('tag');
}
break;
    case 'record-route':
parsed = Grammar.<span class="apidocCodeKeywordSpan">parse</span>(headerValue, 'Record_Route');

if (parsed === -1) {
  parsed = undefined;
} else {
  length = parsed.length;
  for (idx = 0; idx &lt; length; idx++) {
    header = parsed[idx];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Grammar.toSource" id="apidoc.element.jssip.Grammar.toSource">
        function <span class="apidocSignatureSpan">jssip.Grammar.</span>toSource
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toSource = function () { return this._source; }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jssip.Message" id="apidoc.module.jssip.Message">module jssip.Message</a></h1>


    <h2>
        <a href="#apidoc.element.jssip.Message.Message" id="apidoc.element.jssip.Message.Message">
        function <span class="apidocSignatureSpan">jssip.</span>Message
        <span class="apidocSignatureSpan">(ua)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Message(ua) {
  this.ua = ua;

  // Custom message empty object for high level use
  this.data = {};

  events.EventEmitter.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Message.super_" id="apidoc.element.jssip.Message.super_">
        function <span class="apidocSignatureSpan">jssip.Message.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitter() {
  EventEmitter.init.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jssip.Message.prototype" id="apidoc.module.jssip.Message.prototype">module jssip.Message.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jssip.Message.prototype.accept" id="apidoc.element.jssip.Message.prototype.accept">
        function <span class="apidocSignatureSpan">jssip.Message.prototype.</span>accept
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">accept = function (options) {
  options = options || {};

  var
    extraHeaders = options.extraHeaders &amp;&amp; options.extraHeaders.slice() || [],
    body = options.body;

  if (this.direction !== 'incoming') {
    throw new Exceptions.NotSupportedError('"accept" not supported for outgoing Message');
  }

  this.request.reply(200, null, extraHeaders, body);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Message.prototype.close" id="apidoc.element.jssip.Message.prototype.close">
        function <span class="apidocSignatureSpan">jssip.Message.prototype.</span>close
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">close = function () {
  this.closed = true;
  delete this.ua.applicants[this];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (this.status === C.STATUS_TERMINATED) {
  return;
}

// Terminate RTC.
if (this.connection) {
  try {
    this.connection.<span class="apidocCodeKeywordSpan">close</span>();
  } catch(error) {
    debugerror('close() | error closing the RTCPeerConnection: %o', error);
  }
}

// Close local MediaStream if it was not given by the user.
if (this.localMediaStream &amp;&amp; this.localMediaStreamLocallyGenerated) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Message.prototype.init_incoming" id="apidoc.element.jssip.Message.prototype.init_incoming">
        function <span class="apidocSignatureSpan">jssip.Message.prototype.</span>init_incoming
        <span class="apidocSignatureSpan">(request)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">init_incoming = function (request) {
  var transaction;

  this.request = request;
  this.content_type = request.getHeader('Content-Type');

  if (request.body) {
    this.content = request.body;
  } else {
    this.content = null;
  }

  this.newMessage('remote', request);

  transaction = this.ua.transactions.nist[request.via_branch];

  if (transaction &amp;&amp; (transaction.state === Transactions.C.STATUS_TRYING || transaction.state === Transactions.C.STATUS_PROCEEDING
)) {
    request.reply(200);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    request.reply(403, 'Wrong Status');
  }
  break;
case JsSIP_C.INFO:
  if(this.status === C.STATUS_CONFIRMED || this.status === C.STATUS_WAITING_FOR_ACK || this.status === C.STATUS_INVITE_RECEIVED) {
    contentType = request.getHeader('content-type');
    if (contentType &amp;&amp; (contentType.match(/^application\/dtmf-relay/i))) {
      new RTCSession_DTMF(this).<span class="apidocCodeKeywordSpan">init_incoming</span>(request);
    }
    else {
      request.reply(415);
    }
  }
  else {
    request.reply(403, 'Wrong Status');
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Message.prototype.newMessage" id="apidoc.element.jssip.Message.prototype.newMessage">
        function <span class="apidocSignatureSpan">jssip.Message.prototype.</span>newMessage
        <span class="apidocSignatureSpan">(originator, request)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">newMessage = function (originator, request) {
  if (originator === 'remote') {
    this.direction = 'incoming';
    this.local_identity = request.to;
    this.remote_identity = request.from;
  } else if (originator === 'local'){
    this.direction = 'outgoing';
    this.local_identity = request.from;
    this.remote_identity = request.to;
  }

  this.ua.newMessage({
    originator: originator,
    message: this,
    request: request
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this.content = body;
} else {
  this.content = null;
}

request_sender = new RequestSender(this, this.ua);

this.<span class="apidocCodeKeywordSpan">newMessage</span>('local', this.request);

request_sender.send();
};

Message.prototype.receiveResponse = function(response) {
var cause;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Message.prototype.onRequestTimeout" id="apidoc.element.jssip.Message.prototype.onRequestTimeout">
        function <span class="apidocSignatureSpan">jssip.Message.prototype.</span>onRequestTimeout
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onRequestTimeout = function () {
  if(this.closed) {
    return;
  }
  this.emit('failed', {
    originator: 'system',
    cause: JsSIP_C.causes.REQUEST_TIMEOUT
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
},

/**
* Callback fired when receiving a request timeout error from the client transaction.
* To be re-defined by the applicant.
*/
onRequestTimeout: function() {
  this.applicant.<span class="apidocCodeKeywordSpan">onRequestTimeout</span>();
},

/**
* Callback fired when receiving a transport error from the client transaction.
* To be re-defined by the applicant.
*/
onTransportError: function() {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Message.prototype.onTransportError" id="apidoc.element.jssip.Message.prototype.onTransportError">
        function <span class="apidocSignatureSpan">jssip.Message.prototype.</span>onTransportError
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onTransportError = function () {
  if(this.closed) {
    return;
  }
  this.emit('failed', {
    originator: 'system',
    cause: JsSIP_C.causes.CONNECTION_ERROR
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this.request = applicant.request;
  this.auth = null;
  this.challenged = false;
  this.staled = false;

  // If ua is in closing process or even closed just allow sending Bye and ACK
  if (ua.status === UA.C.STATUS_USER_CLOSED &amp;&amp; (this.method !== JsSIP_C.BYE || this.method !== JsSIP_C.ACK)) {
    this.<span class="apidocCodeKeywordSpan">onTransportError</span>();
  }
}


/**
* Create the client transaction and send the message.
*/
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Message.prototype.receiveResponse" id="apidoc.element.jssip.Message.prototype.receiveResponse">
        function <span class="apidocSignatureSpan">jssip.Message.prototype.</span>receiveResponse
        <span class="apidocSignatureSpan">(response)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">receiveResponse = function (response) {
  var cause;

  if(this.closed) {
    return;
  }
  switch(true) {
    case /^1[0-9]{2}$/.test(response.status_code):
      // Ignore provisional responses.
      break;

    case /^2[0-9]{2}$/.test(response.status_code):
      delete this.ua.applicants[this];
      this.emit('succeeded', {
        originator: 'remote',
        response: response
      });
      break;

    default:
      delete this.ua.applicants[this];
      cause = Utils.sipErrorCause(response.status_code);
      this.emit('failed', {
        originator: 'remote',
        response: response,
        cause: cause
      });
      break;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  challenge = response.parseHeader('proxy-authenticate');
  authorization_header_name = 'proxy-authorization';
}

// Verify it seems a valid challenge.
if (!challenge) {
  debug(response.status_code + ' with wrong or missing challenge, cannot authenticate');
  this.applicant.<span class="apidocCodeKeywordSpan">receiveResponse</span>(response);
  return;
}

if (!this.challenged || (!this.staled &amp;&amp; challenge.stale === true)) {
  if (!this.auth) {
    this.auth = new DigestAuthentication({
      username : this.ua.configuration.authorization_user,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Message.prototype.reject" id="apidoc.element.jssip.Message.prototype.reject">
        function <span class="apidocSignatureSpan">jssip.Message.prototype.</span>reject
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reject = function (options) {
  options = options || {};

  var
    status_code = options.status_code || 480,
    reason_phrase = options.reason_phrase,
    extraHeaders = options.extraHeaders &amp;&amp; options.extraHeaders.slice() || [],
    body = options.body;

  if (this.direction !== 'incoming') {
    throw new Exceptions.NotSupportedError('"reject" not supported for outgoing Message');
  }

  if (status_code &lt; 300 || status_code &gt;= 700) {
    throw new TypeError('Invalid status_code: '+ status_code);
  }

  this.request.reply(status_code, reason_phrase, extraHeaders, body);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Message.prototype.send" id="apidoc.element.jssip.Message.prototype.send">
        function <span class="apidocSignatureSpan">jssip.Message.prototype.</span>send
        <span class="apidocSignatureSpan">(target, body, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">send = function (target, body, options) {
  var request_sender, event, contentType, eventHandlers, extraHeaders,
    originalTarget = target;

  if (target === undefined || body === undefined) {
    throw new TypeError('Not enough arguments');
  }

  // Check target validity
  target = this.ua.normalizeTarget(target);
  if (!target) {
    throw new TypeError('Invalid target: '+ originalTarget);
  }

  // Get call options
  options = options || {};
  extraHeaders = options.extraHeaders &amp;&amp; options.extraHeaders.slice() || [];
  eventHandlers = options.eventHandlers || {};
  contentType = options.contentType || 'text/plain';

  this.content_type = contentType;

  // Set event handlers
  for (event in eventHandlers) {
    this.on(event, eventHandlers[event]);
  }

  this.closed = false;
  this.ua.applicants[this] = this;

  extraHeaders.push('Content-Type: '+ contentType);

  this.request = new SIPMessage.OutgoingRequest(JsSIP_C.MESSAGE, target, this.ua, null, extraHeaders);

  if(body) {
    this.request.body = body;
    this.content = body;
  } else {
    this.content = null;
  }

  request_sender = new RequestSender(this, this.ua);

  this.newMessage('local', this.request);

  request_sender.send();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  var
    extraHeaders = options.extraHeaders &amp;&amp; options.extraHeaders.slice() || [],
    body = options.body || null,
    request = this.createRequest(method, extraHeaders, body),
    request_sender = new Dialog_RequestSender(this, applicant, request);

    request_sender.<span class="apidocCodeKeywordSpan">send</span>();

    // Return the instance of OutgoingRequest
    return request;
},

receiveRequest: function(request) {
  //Check in-dialog request
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jssip.NameAddrHeader" id="apidoc.module.jssip.NameAddrHeader">module jssip.NameAddrHeader</a></h1>


    <h2>
        <a href="#apidoc.element.jssip.NameAddrHeader.NameAddrHeader" id="apidoc.element.jssip.NameAddrHeader.NameAddrHeader">
        function <span class="apidocSignatureSpan">jssip.</span>NameAddrHeader
        <span class="apidocSignatureSpan">(uri, display_name, parameters)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function NameAddrHeader(uri, display_name, parameters) {
  var param;

  // Checks
  if(!uri || !(uri instanceof URI)) {
    throw new TypeError('missing or invalid "uri" parameter');
  }

  // Initialize parameters
  this.uri = uri;
  this.parameters = {};

  for (param in parameters) {
    this.setParam(param, parameters[param]);
  }

  Object.defineProperties(this, {
    display_name: {
      get: function() { return display_name; },
      set: function(value) {
        display_name = (value === 0) ? '0' : value;
      }
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.NameAddrHeader.parse" id="apidoc.element.jssip.NameAddrHeader.parse">
        function <span class="apidocSignatureSpan">jssip.NameAddrHeader.</span>parse
        <span class="apidocSignatureSpan">(name_addr_header)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parse = function (name_addr_header) {
  name_addr_header = Grammar.parse(name_addr_header,'Name_Addr_Header');

  if (name_addr_header !== -1) {
    return name_addr_header;
  } else {
    return undefined;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
parsed = message.parseHeader('to');
if(parsed) {
  message.to = parsed;
  message.to_tag = parsed.getParam('tag');
}
break;
    case 'record-route':
parsed = Grammar.<span class="apidocCodeKeywordSpan">parse</span>(headerValue, 'Record_Route');

if (parsed === -1) {
  parsed = undefined;
} else {
  length = parsed.length;
  for (idx = 0; idx &lt; length; idx++) {
    header = parsed[idx];
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jssip.NameAddrHeader.prototype" id="apidoc.module.jssip.NameAddrHeader.prototype">module jssip.NameAddrHeader.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jssip.NameAddrHeader.prototype.clearParams" id="apidoc.element.jssip.NameAddrHeader.prototype.clearParams">
        function <span class="apidocSignatureSpan">jssip.NameAddrHeader.prototype.</span>clearParams
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clearParams = function () {
  this.parameters = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.NameAddrHeader.prototype.clone" id="apidoc.element.jssip.NameAddrHeader.prototype.clone">
        function <span class="apidocSignatureSpan">jssip.NameAddrHeader.prototype.</span>clone
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clone = function () {
  return new NameAddrHeader(
    this.uri.clone(),
    this.display_name,
    JSON.parse(JSON.stringify(this.parameters)));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    cseq = this.applicant.cseq += 1;
  } else if (this.request.dialog) {
    cseq = this.request.dialog.local_seqnum += 1;
  } else {
    cseq = this.request.cseq + 1;
  }

  this.request = this.applicant.request = this.request.<span class="apidocCodeKeywordSpan">clone</span>();

  this.request.cseq = cseq;
  this.request.setHeader('cseq', cseq +' '+ this.method);

  this.request.setHeader(authorization_header_name, this.auth.toString());
  this.send();
} else {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.NameAddrHeader.prototype.deleteParam" id="apidoc.element.jssip.NameAddrHeader.prototype.deleteParam">
        function <span class="apidocSignatureSpan">jssip.NameAddrHeader.prototype.</span>deleteParam
        <span class="apidocSignatureSpan">(parameter)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deleteParam = function (parameter) {
  var value;
  parameter = parameter.toLowerCase();
  if (this.parameters.hasOwnProperty(parameter)) {
    value = this.parameters[parameter];
    delete this.parameters[parameter];
    return value;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.NameAddrHeader.prototype.getParam" id="apidoc.element.jssip.NameAddrHeader.prototype.getParam">
        function <span class="apidocSignatureSpan">jssip.NameAddrHeader.prototype.</span>getParam
        <span class="apidocSignatureSpan">(key)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getParam = function (key) {
  if(key) {
    return this.parameters[key.toLowerCase()];
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  break;
case 'from':
case 'f':
  message.setHeader('from', headerValue);
  parsed = message.parseHeader('from');
  if(parsed) {
    message.from = parsed;
    message.from_tag = parsed.<span class="apidocCodeKeywordSpan">getParam</span>('tag');
  }
  break;
case 'to':
case 't':
  message.setHeader('to', headerValue);
  parsed = message.parseHeader('to');
  if(parsed) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.NameAddrHeader.prototype.hasParam" id="apidoc.element.jssip.NameAddrHeader.prototype.hasParam">
        function <span class="apidocSignatureSpan">jssip.NameAddrHeader.prototype.</span>hasParam
        <span class="apidocSignatureSpan">(key)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hasParam = function (key) {
  if(key) {
    return (this.parameters.hasOwnProperty(key.toLowerCase()) &amp;&amp; true) || false;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// For that, decrease the expires value. ie: 3 seconds
this.registrationTimer = setTimeout(function() {
  self.registrationTimer = null;
  self.register();
}, (expires * 1000) - 3000);

//Save gruu values
if (contact.<span class="apidocCodeKeywordSpan">hasParam</span>('temp-gruu')) {
  this.ua.contact.temp_gruu = contact.getParam('temp-gruu').replace(/"/g,'');
}
if (contact.hasParam('pub-gruu')) {
  this.ua.contact.pub_gruu = contact.getParam('pub-gruu').replace(/"/g,'');
}

if (! this.registered) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.NameAddrHeader.prototype.setParam" id="apidoc.element.jssip.NameAddrHeader.prototype.setParam">
        function <span class="apidocSignatureSpan">jssip.NameAddrHeader.prototype.</span>setParam
        <span class="apidocSignatureSpan">(key, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setParam = function (key, value) {
  if (key) {
    this.parameters[key.toLowerCase()] = (typeof value === 'undefined' || value === null) ? null : value.toString();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.NameAddrHeader.prototype.toString" id="apidoc.element.jssip.NameAddrHeader.prototype.toString">
        function <span class="apidocSignatureSpan">jssip.NameAddrHeader.prototype.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toString = function () {
  var body, parameter;

  body  = (this.display_name || this.display_name === 0) ? '"' + this.display_name + '" ' : '';
  body += '&lt;' + this.uri.toString() + '&gt;';

  for (parameter in this.parameters) {
    body += ';' + parameter;

    if (this.parameters[parameter] !== null) {
      body += '='+ this.parameters[parameter];
    }
  }

  return body;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this.local_uri = message.parseHeader('from').uri;
  this.remote_uri = message.parseHeader('to').uri;
  this.remote_target = contact.uri;
  this.route_set = message.getHeaders('record-route').reverse();
}

this.owner = owner;
owner.ua.dialogs[this.id.<span class="apidocCodeKeywordSpan">toString</span>()] = this;
debug('new ' + type + ' dialog created with status ' + (this.state === C.STATUS_EARLY ? 'EARLY': &amp;#
x27;CONFIRMED'));
}


Dialog.prototype = {
update: function(message, type) {
  this.state = C.STATUS_CONFIRMED;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jssip.Parser" id="apidoc.module.jssip.Parser">module jssip.Parser</a></h1>


    <h2>
        <a href="#apidoc.element.jssip.Parser.parseMessage" id="apidoc.element.jssip.Parser.parseMessage">
        function <span class="apidocSignatureSpan">jssip.Parser.</span>parseMessage
        <span class="apidocSignatureSpan">(data, ua)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parseMessage = function (data, ua) {
  var message, firstLine, contentLength, bodyStart, parsed,
    headerStart = 0,
    headerEnd = data.indexOf('\r\n');

  if(headerEnd === -1) {
    debugerror('parseMessage() | no CRLF found, not a SIP message');
    return;
  }

  // Parse first line. Check if it is a Request or a Reply.
  firstLine = data.substring(0, headerEnd);
  parsed = Grammar.parse(firstLine, 'Request_Response');

  if(parsed === -1) {
    debugerror('parseMessage() | error parsing first line of SIP message: "' + firstLine + '"');
    return;
  } else if(!parsed.status_code) {
    message = new SIPMessage.IncomingRequest(ua);
    message.method = parsed.method;
    message.ruri = parsed.uri;
  } else {
    message = new SIPMessage.IncomingResponse();
    message.status_code = parsed.status_code;
    message.reason_phrase = parsed.reason_phrase;
  }

  message.data = data;
  headerStart = headerEnd + 2;

<span class="apidocCodeCommentSpan">  /* Loop over every line in data. Detect the end of each header and parse
  * it or simply add to the headers collection.
  */
</span>  while(true) {
    headerEnd = getHeader(data, headerStart);

    // The SIP message has normally finished.
    if(headerEnd === -2) {
      bodyStart = headerStart + 2;
      break;
    }
    // data.indexOf returned -1 due to a malformed message.
    else if(headerEnd === -1) {
      debugerror('parseMessage() | malformed message');
      return;
    }

    parsed = parseHeader(message, data, headerStart, headerEnd);

    if(parsed !== true) {
      debugerror('parseMessage() |', parsed.error);
      return;
    }

    headerStart = headerEnd + 2;
  }

  /* RFC3261 18.3.
   * If there are additional bytes in the transport packet
   * beyond the end of the body, they MUST be discarded.
   */
  if(message.hasHeader('content-length')) {
    contentLength = message.getHeader('content-length');
    message.body = data.substr(bodyStart, contentLength);
  } else {
    message.body = data.substring(bodyStart);
  }

  return message;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jssip.RTCSession" id="apidoc.module.jssip.RTCSession">module jssip.RTCSession</a></h1>


    <h2>
        <a href="#apidoc.element.jssip.RTCSession.RTCSession" id="apidoc.element.jssip.RTCSession.RTCSession">
        function <span class="apidocSignatureSpan">jssip.</span>RTCSession
        <span class="apidocSignatureSpan">(ua)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function RTCSession(ua) {
  debug('new');

  this.ua = ua;
  this.status = C.STATUS_NULL;
  this.dialog = null;
  this.earlyDialogs = {};
  this.connection = null;  // The RTCPeerConnection instance (public attribute).

  // RTCSession confirmation flag
  this.is_confirmed = false;

  // is late SDP being negotiated
  this.late_sdp = false;

  // Default rtcOfferConstraints and rtcAnswerConstrainsts (passed in connect() or answer()).
  this.rtcOfferConstraints = null;
  this.rtcAnswerConstraints = null;

  // Local MediaStream.
  this.localMediaStream = null;
  this.localMediaStreamLocallyGenerated = false;

  // Flag to indicate PeerConnection ready for new actions.
  this.rtcReady = true;

  // SIP Timers
  this.timers = {
    ackTimer: null,
    expiresTimer: null,
    invite2xxTimer: null,
    userNoAnswerTimer: null
  };

  // Session info
  this.direction = null;
  this.local_identity = null;
  this.remote_identity = null;
  this.start_time = null;
  this.end_time = null;
  this.tones = null;

  // Mute/Hold state
  this.audioMuted = false;
  this.videoMuted = false;
  this.localHold = false;
  this.remoteHold = false;

  // Session Timers (RFC 4028)
  this.sessionTimers = {
    enabled: this.ua.configuration.session_timers,
    defaultExpires: JsSIP_C.SESSION_EXPIRES,
    currentExpires: null,
    running: false,
    refresher: false,
    timer: null  // A setTimeout.
  };

  // Map of ReferSubscriber instances indexed by the REFER's CSeq number
  this.referSubscribers = {};

  // Custom session empty object for high level use
  this.data = {};

  // Expose session failed/ended causes as a property of the RTCSession instance
  this.causes = JsSIP_C.causes;

  events.EventEmitter.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.RTCSession.super_" id="apidoc.element.jssip.RTCSession.super_">
        function <span class="apidocSignatureSpan">jssip.RTCSession.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitter() {
  EventEmitter.init.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jssip.RTCSession.prototype" id="apidoc.module.jssip.RTCSession.prototype">module jssip.RTCSession.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jssip.RTCSession.prototype.answer" id="apidoc.element.jssip.RTCSession.prototype.answer">
        function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>answer
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">answer = function (options) {
  debug('answer()');

  options = options || {};

  var idx, length, sdp, tracks,
    peerHasAudioLine = false,
    peerHasVideoLine = false,
    peerOffersFullAudio = false,
    peerOffersFullVideo = false,
    self = this,
    request = this.request,
    extraHeaders = options.extraHeaders &amp;&amp; options.extraHeaders.slice() || [],
    mediaConstraints = options.mediaConstraints || {},
    mediaStream = options.mediaStream || null,
    pcConfig = options.pcConfig || {iceServers:[]},
    rtcConstraints = options.rtcConstraints || null,
    rtcAnswerConstraints = options.rtcAnswerConstraints || null;

  this.rtcAnswerConstraints = rtcAnswerConstraints;
  this.rtcOfferConstraints = options.rtcOfferConstraints || null;

  // Session Timers.
  if (this.sessionTimers.enabled) {
    if (Utils.isDecimal(options.sessionTimersExpires)) {
      if (options.sessionTimersExpires &gt;= JsSIP_C.MIN_SESSION_EXPIRES) {
        this.sessionTimers.defaultExpires = options.sessionTimersExpires;
      }
      else {
        this.sessionTimers.defaultExpires = JsSIP_C.SESSION_EXPIRES;
      }
    }
  }

  this.data = options.data || this.data;

  // Check Session Direction and Status
  if (this.direction !== 'incoming') {
    throw new Exceptions.NotSupportedError('"answer" not supported for outgoing RTCSession');
  } else if (this.status !== C.STATUS_WAITING_FOR_ANSWER) {
    throw new Exceptions.InvalidStateError(this.status);
  }

  this.status = C.STATUS_ANSWERED;

  // An error on dialog creation will fire 'failed' event
  if (! createDialog.call(this, request, 'UAS')) {
    request.reply(500, 'Error creating dialog');
    return;
  }

  clearTimeout(this.timers.userNoAnswerTimer);

  extraHeaders.unshift('Contact: ' + self.contact);

  // Determine incoming media from incoming SDP offer (if any).
  sdp = request.parseSDP();

  // Make sure sdp.media is an array, not the case if there is only one media
  if (! Array.isArray(sdp.media)) {
    sdp.media = [sdp.media];
  }

  // Go through all medias in SDP to find offered capabilities to answer with
  idx = sdp.media.length;
  while(idx--) {
    var m = sdp.media[idx];
    if (m.type === 'audio') {
      peerHasAudioLine = true;
      if (!m.direction || m.direction === 'sendrecv') {
        peerOffersFullAudio = true;
      }
    }
    if (m.type === 'video') {
      peerHasVideoLine = true;
      if (!m.direction || m.direction === 'sendrecv') {
        peerOffersFullVideo = true;
      }
    }
  }

  // Remove audio from mediaStream if suggested by mediaConstraints
  if (mediaStream &amp;&amp; mediaConstraints.audio === false) {
    tracks = mediaStream.getAudioTracks();
    length = tracks.length;
    for (idx=0; idx&lt;length; idx++) {
      mediaStream.removeTrack(tracks[idx]);
    }
  }

  // Remove video from mediaStream if suggested by mediaConstraints
  if (mediaStream &amp;&amp; mediaConstraints.video === false) {
    tracks = mediaStream.getVideoTracks();
    length = tracks.length;
    for (idx=0; idx&lt;length; idx++) {
      mediaStream.removeTrack(tracks[idx]);
    }
  }

  // Set audio constraints based on incoming stream if not supplied
  if (!mediaStream &amp;&amp; mediaConstraints.audio === undefined) {
    mediaConstraints.audio = peerOffersFullAudio;
  }

  // Set video constraints based on incoming stream if not supplied
  if (!mediaStream &amp;&amp; mediaConstraints.video === undefined) {
    mediaConstraints.video = peerOffersFullVideo;
  }

  // Don't ask for audio if the incoming offer has no audio section
  if (!mediaStream &amp;&amp; !peerHasAudioLine) {
    mediaConstraints.audio = false;
  }

  // Don't ask for video if the incoming offer has no video section
  if (!mediaStream &amp;&amp; !peerHasVideoLine) {
    mediaConstraints.video = false;
  }

  // Create a new RTCPeerConnection instance.
  // TODO: This may throw an error, should react.
  createRTCConnection.call(this, pcConfig, rtcConstraints);

  // If a local MediaStream is given use it.
  if (mediaStream) {
    userMediaSucceeded(mediaStream);
  // If at least audio or video is requested prompt getUserMedia.
  } else if (mediaConstrain ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.RTCSession.prototype.close" id="apidoc.element.jssip.RTCSession.prototype.close">
        function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>close
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">close = function () {
  debug('close()');

  var idx;

  if (this.status === C.STATUS_TERMINATED) {
    return;
  }

  // Terminate RTC.
  if (this.connection) {
    try {
      this.connection.close();
    } catch(error) {
      debugerror('close() | error closing the RTCPeerConnection: %o', error);
    }
  }

  // Close local MediaStream if it was not given by the user.
  if (this.localMediaStream &amp;&amp; this.localMediaStreamLocallyGenerated) {
    debug('close() | closing local MediaStream');

    Utils.closeMediaStream(this.localMediaStream);
  }

  // Terminate signaling.

  // Clear SIP timers
  for(idx in this.timers) {
    clearTimeout(this.timers[idx]);
  }

  // Clear Session Timers.
  clearTimeout(this.sessionTimers.timer);

  // Terminate confirmed dialog
  if (this.dialog) {
    this.dialog.terminate();
    delete this.dialog;
  }

  // Terminate early dialogs
  for(idx in this.earlyDialogs) {
    this.earlyDialogs[idx].terminate();
    delete this.earlyDialogs[idx];
  }

  this.status = C.STATUS_TERMINATED;

  delete this.ua.sessions[this.id];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (this.status === C.STATUS_TERMINATED) {
  return;
}

// Terminate RTC.
if (this.connection) {
  try {
    this.connection.<span class="apidocCodeKeywordSpan">close</span>();
  } catch(error) {
    debugerror('close() | error closing the RTCPeerConnection: %o', error);
  }
}

// Close local MediaStream if it was not given by the user.
if (this.localMediaStream &amp;&amp; this.localMediaStreamLocallyGenerated) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.RTCSession.prototype.connect" id="apidoc.element.jssip.RTCSession.prototype.connect">
        function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>connect
        <span class="apidocSignatureSpan">(target, options, initCallback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">connect = function (target, options, initCallback) {
  debug('connect()');

  options = options || {};

  var event, requestParams,
    originalTarget = target,
    eventHandlers = options.eventHandlers || {},
    extraHeaders = options.extraHeaders &amp;&amp; options.extraHeaders.slice() || [],
    mediaConstraints = options.mediaConstraints || {audio: true, video: true},
    mediaStream = options.mediaStream || null,
    pcConfig = options.pcConfig || {iceServers:[]},
    rtcConstraints = options.rtcConstraints || null,
    rtcOfferConstraints = options.rtcOfferConstraints || null;

  this.rtcOfferConstraints = rtcOfferConstraints;
  this.rtcAnswerConstraints = options.rtcAnswerConstraints || null;

  // Session Timers.
  if (this.sessionTimers.enabled) {
    if (Utils.isDecimal(options.sessionTimersExpires)) {
      if (options.sessionTimersExpires &gt;= JsSIP_C.MIN_SESSION_EXPIRES) {
        this.sessionTimers.defaultExpires = options.sessionTimersExpires;
      }
      else {
        this.sessionTimers.defaultExpires = JsSIP_C.SESSION_EXPIRES;
      }
    }
  }

  this.data = options.data || this.data;

  if (target === undefined) {
    throw new TypeError('Not enough arguments');
  }

  // Check WebRTC support.
  if (!window.RTCPeerConnection) {
    throw new Exceptions.NotSupportedError('WebRTC not supported');
  }

  // Check target validity
  target = this.ua.normalizeTarget(target);
  if (!target) {
    throw new TypeError('Invalid target: '+ originalTarget);
  }

  // Check Session Status
  if (this.status !== C.STATUS_NULL) {
    throw new Exceptions.InvalidStateError(this.status);
  }

  // Set event handlers
  for (event in eventHandlers) {
    this.on(event, eventHandlers[event]);
  }

  // Session parameter initialization
  this.from_tag = Utils.newTag();

  // Set anonymous property
  this.anonymous = options.anonymous || false;

  // OutgoingSession specific parameters
  this.isCanceled = false;

  requestParams = {from_tag: this.from_tag};

  this.contact = this.ua.contact.toString({
    anonymous: this.anonymous,
    outbound: true
  });

  if (this.anonymous) {
    requestParams.from_display_name = 'Anonymous';
    requestParams.from_uri = 'sip:anonymous@anonymous.invalid';

    extraHeaders.push('P-Preferred-Identity: '+ this.ua.configuration.uri.toString());
    extraHeaders.push('Privacy: id');
  }

  extraHeaders.push('Contact: '+ this.contact);
  extraHeaders.push('Content-Type: application/sdp');
  if (this.sessionTimers.enabled) {
    extraHeaders.push('Session-Expires: ' + this.sessionTimers.defaultExpires);
  }

  this.request = new SIPMessage.OutgoingRequest(JsSIP_C.INVITE, target, this.ua, requestParams, extraHeaders);

  this.id = this.request.call_id + this.from_tag;

  // Create a new RTCPeerConnection instance.
  createRTCConnection.call(this, pcConfig, rtcConstraints);

  // Save the session into the ua sessions collection.
  this.ua.sessions[this.id] = this;

  // Set internal properties
  this.direction = 'outgoing';
  this.local_identity = this.request.from;
  this.remote_identity = this.request.to;

  // User explicitly provided a newRTCSession callback for this session
  if (initCallback) {
    initCallback(this);
  } else {
    newRTCSession.call(this, 'local', this.request);
  }

  sendInitialRequest.call(this, mediaConstraints, rtcOfferConstraints, mediaStream);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  // Consider the Replaces header present in the Refer-To URI
  if (request.refer_to.uri.hasHeader('replaces')) {
    replaces = decodeURIComponent(request.refer_to.uri.getHeader('replaces'));
    options.extraHeaders = options.extraHeaders || [];
    options.extraHeaders.push('Replaces: '+ replaces);
  }

  session.<span class="apidocCodeKeywordSpan">connect</span>(request.refer_to.uri.toAor(), options, initCallback);
}

function reject() {
  notifier.notify(603);
}

if (typeof request.refer_to === undefined) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.RTCSession.prototype.hold" id="apidoc.element.jssip.RTCSession.prototype.hold">
        function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>hold
        <span class="apidocSignatureSpan">(options, done)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hold = function (options, done) {
  debug('hold()');

  options = options || {};

  var self = this,
    eventHandlers;

  if (this.status !== C.STATUS_WAITING_FOR_ACK &amp;&amp; this.status !== C.STATUS_CONFIRMED) {
    return false;
  }

  if (this.localHold === true) {
    return false;
  }

  if (! this.isReadyToReOffer()) {
    return false;
  }

  this.localHold = true;
  onhold.call(this, 'local');

  eventHandlers = {
    succeeded: function() {
      if (done) { done(); }
    },
    failed: function() {
      self.terminate({
        cause: JsSIP_C.causes.WEBRTC_ERROR,
        status_code: 500,
        reason_phrase: 'Hold Failed'
      });
    }
  };

  if (options.useUpdate) {
    sendUpdate.call(this, {
      sdpOffer: true,
      eventHandlers: eventHandlers,
      extraHeaders: options.extraHeaders
    });
  } else {
    sendReinvite.call(this, {
      eventHandlers: eventHandlers,
      extraHeaders: options.extraHeaders
    });
  }

  return true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.RTCSession.prototype.init_incoming" id="apidoc.element.jssip.RTCSession.prototype.init_incoming">
        function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>init_incoming
        <span class="apidocSignatureSpan">(request, initCallback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">init_incoming = function (request, initCallback) {
  debug('init_incoming()');

  var expires,
    self = this,
    contentType = request.getHeader('Content-Type');

  // Check body and content type
  if (request.body &amp;&amp; (contentType !== 'application/sdp')) {
    request.reply(415);
    return;
  }

  // Session parameter initialization
  this.status = C.STATUS_INVITE_RECEIVED;
  this.from_tag = request.from_tag;
  this.id = request.call_id + this.from_tag;
  this.request = request;
  this.contact = this.ua.contact.toString();

  // Save the session into the ua sessions collection.
  this.ua.sessions[this.id] = this;

  // Get the Expires header value if exists
  if (request.hasHeader('expires')) {
    expires = request.getHeader('expires') * 1000;
  }

<span class="apidocCodeCommentSpan">  /* Set the to_tag before
   * replying a response code that will create a dialog.
   */
</span>  request.to_tag = Utils.newTag();

  // An error on dialog creation will fire 'failed' event
  if (! createDialog.call(this, request, 'UAS', true)) {
    request.reply(500, 'Missing Contact header field');
    return;
  }

  if (request.body) {
    this.late_sdp = false;
  }
  else {
    this.late_sdp = true;
  }

  this.status = C.STATUS_WAITING_FOR_ANSWER;

  // Set userNoAnswerTimer
  this.timers.userNoAnswerTimer = setTimeout(function() {
      request.reply(408);
      failed.call(self, 'local',null, JsSIP_C.causes.NO_ANSWER);
    }, this.ua.configuration.no_answer_timeout
  );

  /* Set expiresTimer
   * RFC3261 13.3.1
   */
  if (expires) {
    this.timers.expiresTimer = setTimeout(function() {
        if(self.status === C.STATUS_WAITING_FOR_ANSWER) {
          request.reply(487);
          failed.call(self, 'system', null, JsSIP_C.causes.EXPIRES);
        }
      }, expires
    );
  }

  // Set internal properties
  this.direction = 'incoming';
  this.local_identity = request.to;
  this.remote_identity = request.from;

  // A init callback was specifically defined
  if (initCallback) {
    initCallback(this);

  // Fire 'newRTCSession' event.
  } else {
    newRTCSession.call(this, 'remote', request);
  }

  // The user may have rejected the call in the 'newRTCSession' event.
  if (this.status === C.STATUS_TERMINATED) {
    return;
  }

  // Reply 180.
  request.reply(180, null, ['Contact: ' + self.contact]);

  // Fire 'progress' event.
  // TODO: Document that 'response' field in 'progress' event is null for
  // incoming calls.
  progress.call(self, 'local', null);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    request.reply(403, 'Wrong Status');
  }
  break;
case JsSIP_C.INFO:
  if(this.status === C.STATUS_CONFIRMED || this.status === C.STATUS_WAITING_FOR_ACK || this.status === C.STATUS_INVITE_RECEIVED) {
    contentType = request.getHeader('content-type');
    if (contentType &amp;&amp; (contentType.match(/^application\/dtmf-relay/i))) {
      new RTCSession_DTMF(this).<span class="apidocCodeKeywordSpan">init_incoming</span>(request);
    }
    else {
      request.reply(415);
    }
  }
  else {
    request.reply(403, 'Wrong Status');
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.RTCSession.prototype.isEnded" id="apidoc.element.jssip.RTCSession.prototype.isEnded">
        function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>isEnded
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isEnded = function () {
  switch(this.status) {
    case C.STATUS_CANCELED:
    case C.STATUS_TERMINATED:
      return true;
    default:
      return false;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.RTCSession.prototype.isEstablished" id="apidoc.element.jssip.RTCSession.prototype.isEstablished">
        function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>isEstablished
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isEstablished = function () {
  switch(this.status) {
    case C.STATUS_ANSWERED:
    case C.STATUS_WAITING_FOR_ACK:
    case C.STATUS_CONFIRMED:
      return true;
    default:
      return false;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.RTCSession.prototype.isInProgress" id="apidoc.element.jssip.RTCSession.prototype.isInProgress">
        function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>isInProgress
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isInProgress = function () {
  switch(this.status) {
    case C.STATUS_NULL:
    case C.STATUS_INVITE_SENT:
    case C.STATUS_1XX_RECEIVED:
    case C.STATUS_INVITE_RECEIVED:
    case C.STATUS_WAITING_FOR_ANSWER:
      return true;
    default:
      return false;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.RTCSession.prototype.isMuted" id="apidoc.element.jssip.RTCSession.prototype.isMuted">
        function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>isMuted
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isMuted = function () {
  return {
    audio: this.audioMuted,
    video: this.videoMuted
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.RTCSession.prototype.isOnHold" id="apidoc.element.jssip.RTCSession.prototype.isOnHold">
        function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>isOnHold
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isOnHold = function () {
  return {
    local: this.localHold,
    remote: this.remoteHold
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.RTCSession.prototype.isReadyToReOffer" id="apidoc.element.jssip.RTCSession.prototype.isReadyToReOffer">
        function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>isReadyToReOffer
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isReadyToReOffer = function () {
  if (! this.rtcReady) {
    debug('isReadyToReOffer() | internal WebRTC status not ready');
    return false;
  }

  // No established yet.
  if (! this.dialog) {
    debug('isReadyToReOffer() | session not established yet');
    return false;
  }

  // Another INVITE transaction is in progress
  if (this.dialog.uac_pending_reply === true || this.dialog.uas_pending_reply === true) {
    debug('isReadyToReOffer() | there is another INVITE/UPDATE transaction in progress');
    return false;
  }

  return true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  return false;
}

if (this.localHold === true) {
  return false;
}

if (! this.<span class="apidocCodeKeywordSpan">isReadyToReOffer</span>()) {
  return false;
}

this.localHold = true;
onhold.call(this, 'local');

eventHandlers = {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.RTCSession.prototype.mute" id="apidoc.element.jssip.RTCSession.prototype.mute">
        function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>mute
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">mute = function (options) {
  debug('mute()');

  options = options || {audio:true, video:false};

  var
    audioMuted = false,
    videoMuted = false;

  if (this.audioMuted === false &amp;&amp; options.audio) {
    audioMuted = true;
    this.audioMuted = true;
    toogleMuteAudio.call(this, true);
  }

  if (this.videoMuted === false &amp;&amp; options.video) {
    videoMuted = true;
    this.videoMuted = true;
    toogleMuteVideo.call(this, true);
  }

  if (audioMuted === true || videoMuted === true) {
    onmute.call(this, {
      audio: audioMuted,
      video: videoMuted
    });
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.RTCSession.prototype.newDTMF" id="apidoc.element.jssip.RTCSession.prototype.newDTMF">
        function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>newDTMF
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">newDTMF = function (data) {
  debug('newDTMF()');

  this.emit('newDTMF', data);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this.duration = options.duration;

extraHeaders.push('Content-Type: application/dtmf-relay');

body = 'Signal=' + this.tone + '\r\n';
body += 'Duration=' + this.duration;

this.owner.<span class="apidocCodeKeywordSpan">newDTMF</span>({
  originator: 'local',
  dtmf: this,
  request: this.request
});

this.owner.dialog.sendRequest(this, JsSIP_C.INFO, {
  extraHeaders: extraHeaders,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.RTCSession.prototype.onDialogError" id="apidoc.element.jssip.RTCSession.prototype.onDialogError">
        function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>onDialogError
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onDialogError = function () {
  debugerror('onDialogError()');

  if(this.status !== C.STATUS_TERMINATED) {
    this.terminate({
      status_code: 500,
      reason_phrase: JsSIP_C.causes.DIALOG_ERROR,
      cause: JsSIP_C.causes.DIALOG_ERROR
    });
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      onTransportError: function() {
        self.onTransportError();  // Do nothing because session ends.
      },
      onRequestTimeout: function() {
        self.onRequestTimeout();  // Do nothing because session ends.
      },
      onDialogError: function() {
        self.<span class="apidocCodeKeywordSpan">onDialogError</span>();  // Do nothing because session ends.
      }
    }
  });
},
// failure
function() {
  onFailed();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.RTCSession.prototype.onRequestTimeout" id="apidoc.element.jssip.RTCSession.prototype.onRequestTimeout">
        function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>onRequestTimeout
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onRequestTimeout = function () {
  debugerror('onRequestTimeout()');

  if(this.status !== C.STATUS_TERMINATED) {
    this.terminate({
      status_code: 408,
      reason_phrase: JsSIP_C.causes.REQUEST_TIMEOUT,
      cause: JsSIP_C.causes.REQUEST_TIMEOUT
    });
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
},

/**
* Callback fired when receiving a request timeout error from the client transaction.
* To be re-defined by the applicant.
*/
onRequestTimeout: function() {
  this.applicant.<span class="apidocCodeKeywordSpan">onRequestTimeout</span>();
},

/**
* Callback fired when receiving a transport error from the client transaction.
* To be re-defined by the applicant.
*/
onTransportError: function() {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.RTCSession.prototype.onTransportError" id="apidoc.element.jssip.RTCSession.prototype.onTransportError">
        function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>onTransportError
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onTransportError = function () {
  debugerror('onTransportError()');

  if(this.status !== C.STATUS_TERMINATED) {
    this.terminate({
      status_code: 500,
      reason_phrase: JsSIP_C.causes.CONNECTION_ERROR,
      cause: JsSIP_C.causes.CONNECTION_ERROR
    });
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this.request = applicant.request;
  this.auth = null;
  this.challenged = false;
  this.staled = false;

  // If ua is in closing process or even closed just allow sending Bye and ACK
  if (ua.status === UA.C.STATUS_USER_CLOSED &amp;&amp; (this.method !== JsSIP_C.BYE || this.method !== JsSIP_C.ACK)) {
    this.<span class="apidocCodeKeywordSpan">onTransportError</span>();
  }
}


/**
* Create the client transaction and send the message.
*/
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.RTCSession.prototype.receiveRequest" id="apidoc.element.jssip.RTCSession.prototype.receiveRequest">
        function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>receiveRequest
        <span class="apidocSignatureSpan">(request)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">receiveRequest = function (request) {
  debug('receiveRequest()');

  var contentType,
      self = this;

  if(request.method === JsSIP_C.CANCEL) {
<span class="apidocCodeCommentSpan">    /* RFC3261 15 States that a UAS may have accepted an invitation while a CANCEL
    * was in progress and that the UAC MAY continue with the session established by
    * any 2xx response, or MAY terminate with BYE. JsSIP does continue with the
    * established session. So the CANCEL is processed only if the session is not yet
    * established.
    */
</span>
    /*
    * Terminate the whole session in case the user didn't accept (or yet send the answer)
    * nor reject the request opening the session.
    */
    if(this.status === C.STATUS_WAITING_FOR_ANSWER  || this.status === C.STATUS_ANSWERED) {
      this.status = C.STATUS_CANCELED;
      this.request.reply(487);
      failed.call(this, 'remote', request, JsSIP_C.causes.CANCELED);
    }
  } else {
    // Requests arriving here are in-dialog requests.
    switch(request.method) {
      case JsSIP_C.ACK:
        if (this.status !== C.STATUS_WAITING_FOR_ACK) {
          return;
        }

        // Update signaling status.
        this.status = C.STATUS_CONFIRMED;

        clearTimeout(this.timers.ackTimer);
        clearTimeout(this.timers.invite2xxTimer);

        if (this.late_sdp) {
          if (!request.body) {
            this.terminate({
              cause: JsSIP_C.causes.MISSING_SDP,
              status_code: 400
            });
            break;
          }

          var e = {originator:'remote', type:'answer', sdp:request.body};
          var answer = new RTCSessionDescription({type:'answer', sdp:e.sdp});

          this.emit('sdp', e);

          this.connection.setRemoteDescription(answer)
            .then(function() {
              if (!self.is_confirmed) {
                confirmed.call(self, 'remote', request);
              }
            })
            .catch(function(error) {
              self.terminate({
                cause: JsSIP_C.causes.BAD_MEDIA_DESCRIPTION,
                status_code: 488
              });

              self.emit('peerconnection:setremotedescriptionfailed', error);
            });
        }
        else {
          if (!this.is_confirmed) {
            confirmed.call(this, 'remote', request);
          }
        }

        break;
      case JsSIP_C.BYE:
        if(this.status === C.STATUS_CONFIRMED) {
          request.reply(200);
          ended.call(this, 'remote', request, JsSIP_C.causes.BYE);
        }
        else if (this.status === C.STATUS_INVITE_RECEIVED) {
          request.reply(200);
          this.request.reply(487, 'BYE Received');
          ended.call(this, 'remote', request, JsSIP_C.causes.BYE);
        }
        else {
          request.reply(403, 'Wrong Status');
        }
        break;
      case JsSIP_C.INVITE:
        if(this.status === C.STATUS_CONFIRMED) {
          if (request.hasHeader('replaces')) {
            receiveReplaces.call(this, request);
          } else {
            receiveReinvite.call(this, request);
          }
        }
        else {
          request.reply(403, 'Wrong Status');
        }
        break;
      case JsSIP_C.INFO:
        if(this.status === C.STATUS_CONFIRMED || this.status === C.STATUS_WAITING_FOR_ACK || this.status === C.STATUS_INVITE_RECEIVED
) {
          contentType = request.getHeader('content-type');
          if (contentType &amp;&amp; (contentType.match(/^application\/dtmf-relay/i))) {
            new RTCSession_DTMF(this).init_incoming(request);
          }
          else {
            request.reply(415);
          }
        }
        else {
          request.reply(403, 'Wrong Status');
        }
        break;
      case JsSIP_C.UPDATE:
        if(this.status === C.STATUS_CONFIRMED) {
          receiveUpdate.call(this, request);
        }
        else {
          request.reply(403, 'Wrong Status');
        }
        break;
      case JsSIP_C.REFER:
        if(this.status === C.STATUS_CONFIRMED) {
          receiveRefer.call(this, request);
        }
        else {
          request.reply(403, 'Wrong Status');
        }
        bre ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  receiveRequest: function(request) {
    //Check in-dialog request
    if(!this.checkInDialogRequest(request)) {
      return;
    }

    this.owner.<span class="apidocCodeKeywordSpan">receiveRequest</span>(request);
  }
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.RTCSession.prototype.refer" id="apidoc.element.jssip.RTCSession.prototype.refer">
        function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>refer
        <span class="apidocSignatureSpan">(target, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">refer = function (target, options) {
  debug('refer()');

  var self = this,
    originalTarget = target,
    referSubscriber,
    id;

  if (this.status !== C.STATUS_WAITING_FOR_ACK &amp;&amp; this.status !== C.STATUS_CONFIRMED) {
    return false;
  }

  // Check target validity
  target = this.ua.normalizeTarget(target);
  if (!target) {
    throw new TypeError('Invalid target: '+ originalTarget);
  }

  referSubscriber = new RTCSession_ReferSubscriber(this);
  referSubscriber.sendRefer(target, options);

  // Store in the map
  id = referSubscriber.outgoingRequest.cseq;
  this.referSubscribers[id] = referSubscriber;

  // Listen for ending events so we can remove it from the map
  referSubscriber.on('requestFailed', function() {
    delete self.referSubscribers[id];
  });
  referSubscriber.on('accepted', function() {
    delete self.referSubscribers[id];
  });
  referSubscriber.on('failed', function() {
    delete self.referSubscribers[id];
  });

  return referSubscriber;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.RTCSession.prototype.renegotiate" id="apidoc.element.jssip.RTCSession.prototype.renegotiate">
        function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>renegotiate
        <span class="apidocSignatureSpan">(options, done)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">renegotiate = function (options, done) {
  debug('renegotiate()');

  options = options || {};

  var self = this,
    eventHandlers,
    rtcOfferConstraints = options.rtcOfferConstraints || null;

  if (this.status !== C.STATUS_WAITING_FOR_ACK &amp;&amp; this.status !== C.STATUS_CONFIRMED) {
    return false;
  }

  if (! this.isReadyToReOffer()) {
    return false;
  }

  eventHandlers = {
    succeeded: function() {
      if (done) { done(); }
    },
    failed: function() {
      self.terminate({
        cause: JsSIP_C.causes.WEBRTC_ERROR,
        status_code: 500,
        reason_phrase: 'Media Renegotiation Failed'
      });
    }
  };

  setLocalMediaStatus.call(this);

  if (options.useUpdate) {
    sendUpdate.call(this, {
      sdpOffer: true,
      eventHandlers: eventHandlers,
      rtcOfferConstraints: rtcOfferConstraints,
      extraHeaders: options.extraHeaders
    });
  } else {
    sendReinvite.call(this, {
      eventHandlers: eventHandlers,
      rtcOfferConstraints: rtcOfferConstraints,
      extraHeaders: options.extraHeaders
    });
  }

  return true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.RTCSession.prototype.resetLocalMedia" id="apidoc.element.jssip.RTCSession.prototype.resetLocalMedia">
        function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>resetLocalMedia
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">resetLocalMedia = function () {
  debug('resetLocalMedia()');

  // Reset all but remoteHold.
  this.localHold = false;
  this.audioMuted = false;
  this.videoMuted = false;

  setLocalMediaStatus.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.RTCSession.prototype.sendDTMF" id="apidoc.element.jssip.RTCSession.prototype.sendDTMF">
        function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>sendDTMF
        <span class="apidocSignatureSpan">(tones, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sendDTMF = function (tones, options) {
  debug('sendDTMF() | tones: %s', tones);

  var duration, interToneGap,
    position = 0,
    self = this;

  options = options || {};
  duration = options.duration || null;
  interToneGap = options.interToneGap || null;

  if (tones === undefined) {
    throw new TypeError('Not enough arguments');
  }

  // Check Session Status
  if (this.status !== C.STATUS_CONFIRMED &amp;&amp; this.status !== C.STATUS_WAITING_FOR_ACK) {
    throw new Exceptions.InvalidStateError(this.status);
  }

  // Convert to string
  if(typeof tones === 'number') {
    tones = tones.toString();
  }

  // Check tones
  if (!tones || typeof tones !== 'string' || !tones.match(/^[0-9A-DR#*,]+$/i)) {
    throw new TypeError('Invalid tones: '+ tones);
  }

  // Check duration
  if (duration &amp;&amp; !Utils.isDecimal(duration)) {
    throw new TypeError('Invalid tone duration: '+ duration);
  } else if (!duration) {
    duration = RTCSession_DTMF.C.DEFAULT_DURATION;
  } else if (duration &lt; RTCSession_DTMF.C.MIN_DURATION) {
    debug('"duration" value is lower than the minimum allowed, setting it to '+ RTCSession_DTMF.C.MIN_DURATION+ ' milliseconds');
    duration = RTCSession_DTMF.C.MIN_DURATION;
  } else if (duration &gt; RTCSession_DTMF.C.MAX_DURATION) {
    debug('"duration" value is greater than the maximum allowed, setting it to '+ RTCSession_DTMF.C.MAX_DURATION +' milliseconds
');
    duration = RTCSession_DTMF.C.MAX_DURATION;
  } else {
    duration = Math.abs(duration);
  }
  options.duration = duration;

  // Check interToneGap
  if (interToneGap &amp;&amp; !Utils.isDecimal(interToneGap)) {
    throw new TypeError('Invalid interToneGap: '+ interToneGap);
  } else if (!interToneGap) {
    interToneGap = RTCSession_DTMF.C.DEFAULT_INTER_TONE_GAP;
  } else if (interToneGap &lt; RTCSession_DTMF.C.MIN_INTER_TONE_GAP) {
    debug('"interToneGap" value is lower than the minimum allowed, setting it to '+ RTCSession_DTMF.C.MIN_INTER_TONE_GAP +' milliseconds
');
    interToneGap = RTCSession_DTMF.C.MIN_INTER_TONE_GAP;
  } else {
    interToneGap = Math.abs(interToneGap);
  }

  if (this.tones) {
    // Tones are already queued, just add to the queue
    this.tones += tones;
    return;
  }

  this.tones = tones;

  // Send the first tone
  _sendDTMF();

  function _sendDTMF() {
    var tone, timeout;

    if (self.status === C.STATUS_TERMINATED || !self.tones || position &gt;= self.tones.length) {
      // Stop sending DTMF
      self.tones = null;
      return;
    }

    tone = self.tones[position];
    position += 1;

    if (tone === ',') {
      timeout = 2000;
    } else {
      var dtmf = new RTCSession_DTMF(self);
      options.eventHandlers = {
        onFailed: function() { self.tones = null; }
      };
      dtmf.send(tone, options);
      timeout = duration + interToneGap;
    }

    // Set timeout for the next tone
    setTimeout(_sendDTMF, timeout);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.RTCSession.prototype.terminate" id="apidoc.element.jssip.RTCSession.prototype.terminate">
        function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>terminate
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">terminate = function (options) {
  debug('terminate()');

  options = options || {};

  var cancel_reason, dialog,
    cause = options.cause || JsSIP_C.causes.BYE,
    status_code = options.status_code,
    reason_phrase = options.reason_phrase,
    extraHeaders = options.extraHeaders &amp;&amp; options.extraHeaders.slice() || [],
    body = options.body,
    self = this;

  // Check Session Status
  if (this.status === C.STATUS_TERMINATED) {
    throw new Exceptions.InvalidStateError(this.status);
  }

  switch(this.status) {
    // - UAC -
    case C.STATUS_NULL:
    case C.STATUS_INVITE_SENT:
    case C.STATUS_1XX_RECEIVED:
      debug('canceling session');

      if (status_code &amp;&amp; (status_code &lt; 200 || status_code &gt;= 700)) {
        throw new TypeError('Invalid status_code: '+ status_code);
      } else if (status_code) {
        reason_phrase = reason_phrase || JsSIP_C.REASON_PHRASE[status_code] || '';
        cancel_reason = 'SIP ;cause=' + status_code + ' ;text="' + reason_phrase + '"';
      }

      // Check Session Status
      if (this.status === C.STATUS_NULL) {
        this.isCanceled = true;
        this.cancelReason = cancel_reason;
      } else if (this.status === C.STATUS_INVITE_SENT) {
        this.isCanceled = true;
        this.cancelReason = cancel_reason;
      } else if(this.status === C.STATUS_1XX_RECEIVED) {
        this.request.cancel(cancel_reason);
      }

      this.status = C.STATUS_CANCELED;

      failed.call(this, 'local', null, JsSIP_C.causes.CANCELED);
      break;

      // - UAS -
    case C.STATUS_WAITING_FOR_ANSWER:
    case C.STATUS_ANSWERED:
      debug('rejecting session');

      status_code = status_code || 480;

      if (status_code &lt; 300 || status_code &gt;= 700) {
        throw new TypeError('Invalid status_code: '+ status_code);
      }

      this.request.reply(status_code, reason_phrase, extraHeaders, body);
      failed.call(this, 'local', null, JsSIP_C.causes.REJECTED);
      break;

    case C.STATUS_WAITING_FOR_ACK:
    case C.STATUS_CONFIRMED:
      debug('terminating session');

      reason_phrase = options.reason_phrase || JsSIP_C.REASON_PHRASE[status_code] || '';

      if (status_code &amp;&amp; (status_code &lt; 200 || status_code &gt;= 700)) {
        throw new TypeError('Invalid status_code: '+ status_code);
      } else if (status_code) {
        extraHeaders.push('Reason: SIP ;cause=' + status_code + '; text="' + reason_phrase + '"');
      }

<span class="apidocCodeCommentSpan">      /* RFC 3261 section 15 (Terminating a session):
        *
        * "...the callee's UA MUST NOT send a BYE on a confirmed dialog
        * until it has received an ACK for its 2xx response or until the server
        * transaction times out."
        */
</span>      if (this.status === C.STATUS_WAITING_FOR_ACK &amp;&amp;
          this.direction === 'incoming' &amp;&amp;
          this.request.server_transaction.state !== Transactions.C.STATUS_TERMINATED) {

        // Save the dialog for later restoration
        dialog = this.dialog;

        // Send the BYE as soon as the ACK is received...
        this.receiveRequest = function(request) {
          if(request.method === JsSIP_C.ACK) {
            sendRequest.call(this, JsSIP_C.BYE, {
              extraHeaders: extraHeaders,
              body: body
            });
            dialog.terminate();
          }
        };

        // .., or when the INVITE transaction times out
        this.request.server_transaction.on('stateChanged', function(){
          if (this.state === Transactions.C.STATUS_TERMINATED) {
            sendRequest.call(self, JsSIP_C.BYE, {
              extraHeaders: extraHeaders,
              body: body
            });
            dialog.terminate();
          }
        });

        ended.call(this, 'local', null, cause);

        // Restore the dialog into 'this' in order to be able to send the in-dialog BYE :-)
        this.dialog = dialog;

        // Restore the dialog into 'ua' so the ACK can reach 'this' session
        this.ua.dialogs[dialog.id.toString()] = dialog;

      } else {
        sendRequest.call(this, JsSIP_C.BYE, {
          extraHeaders: extraHeaders,
          body: body ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Send the BYE as soon as the ACK is received...
this.receiveRequest = function(request) {
  if(request.method === JsSIP_C.ACK) {
    sendRequest.call(this, JsSIP_C.BYE, {
      extraHeaders: extraHeaders,
      body: body
    });
    dialog.<span class="apidocCodeKeywordSpan">terminate</span>();
  }
};

// .., or when the INVITE transaction times out
this.request.server_transaction.on('stateChanged', function(){
  if (this.state === Transactions.C.STATUS_TERMINATED) {
    sendRequest.call(self, JsSIP_C.BYE, {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.RTCSession.prototype.unhold" id="apidoc.element.jssip.RTCSession.prototype.unhold">
        function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>unhold
        <span class="apidocSignatureSpan">(options, done)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unhold = function (options, done) {
  debug('unhold()');

  options = options || {};

  var self = this,
    eventHandlers;

  if (this.status !== C.STATUS_WAITING_FOR_ACK &amp;&amp; this.status !== C.STATUS_CONFIRMED) {
    return false;
  }

  if (this.localHold === false) {
    return false;
  }

  if (! this.isReadyToReOffer()) {
    return false;
  }

  this.localHold = false;
  onunhold.call(this, 'local');

  eventHandlers = {
    succeeded: function() {
      if (done) { done(); }
    },
    failed: function() {
      self.terminate({
        cause: JsSIP_C.causes.WEBRTC_ERROR,
        status_code: 500,
        reason_phrase: 'Unhold Failed'
      });
    }
  };

  if (options.useUpdate) {
    sendUpdate.call(this, {
      sdpOffer: true,
      eventHandlers: eventHandlers,
      extraHeaders: options.extraHeaders
    });
  } else {
    sendReinvite.call(this, {
      eventHandlers: eventHandlers,
      extraHeaders: options.extraHeaders
    });
  }

  return true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.RTCSession.prototype.unmute" id="apidoc.element.jssip.RTCSession.prototype.unmute">
        function <span class="apidocSignatureSpan">jssip.RTCSession.prototype.</span>unmute
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unmute = function (options) {
  debug('unmute()');

  options = options || {audio:true, video:true};

  var
    audioUnMuted = false,
    videoUnMuted = false;

  if (this.audioMuted === true &amp;&amp; options.audio) {
    audioUnMuted = true;
    this.audioMuted = false;

    if (this.localHold === false) {
      toogleMuteAudio.call(this, false);
    }
  }

  if (this.videoMuted === true &amp;&amp; options.video) {
    videoUnMuted = true;
    this.videoMuted = false;

    if (this.localHold === false) {
      toogleMuteVideo.call(this, false);
    }
  }

  if (audioUnMuted === true || videoUnMuted === true) {
    onunmute.call(this, {
      audio: audioUnMuted,
      video: videoUnMuted
    });
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jssip.ReferNotifier" id="apidoc.module.jssip.ReferNotifier">module jssip.ReferNotifier</a></h1>


    <h2>
        <a href="#apidoc.element.jssip.ReferNotifier.ReferNotifier" id="apidoc.element.jssip.ReferNotifier.ReferNotifier">
        function <span class="apidocSignatureSpan">jssip.</span>ReferNotifier
        <span class="apidocSignatureSpan">(session, id, expires)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ReferNotifier(session, id, expires) {
  this.session = session;
  this.id = id;
  this.expires = expires || C.expires;
  this.active = true;

  // The creation of a Notifier results in an immediate NOTIFY
  this.notify(100);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jssip.ReferNotifier.prototype" id="apidoc.module.jssip.ReferNotifier.prototype">module jssip.ReferNotifier.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jssip.ReferNotifier.prototype.notify" id="apidoc.element.jssip.ReferNotifier.prototype.notify">
        function <span class="apidocSignatureSpan">jssip.ReferNotifier.prototype.</span>notify
        <span class="apidocSignatureSpan">(code, reason)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">notify = function (code, reason) {
  debug('notify()');

  var state,
      self = this;

  if (this.active === false) {
    return;
  }

  reason = reason || JsSIP_C.REASON_PHRASE[code] || '';

  if (code &gt;= 200) {
    state = 'terminated;reason=noresource';
  } else {
    state = 'active;expires='+ this.expires;
  }

  // put this in a try/catch block
  var request = new RTCSession_Request(this.session, JsSIP_C.NOTIFY);
  request.send({
    extraHeaders: [
      'Event: '+ C.event_type +';id='+ self.id,
      'Subscription-State: '+ state,
      'Content-Type: '+ C.body_type
    ],
    body: 'SIP/2.0 ' + code + ' ' + reason,
    eventHandlers: {
      // if a negative response is received, subscription is canceled
      onErrorResponse: function() { self.active = false; }
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (this.status !== C.STATUS_WAITING_FOR_ACK &amp;&amp; this.status !== C.STATUS_CONFIRMED) {
  return false;
}

session = new RTCSession(this.ua);

session.on('progress', function(e) {
  notifier.<span class="apidocCodeKeywordSpan">notify</span>(e.response.status_code, e.response.reason_phrase);
});

session.on('accepted', function(e) {
  notifier.notify(e.response.status_code, e.response.reason_phrase);
});

session.on('failed', function(e) {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jssip.ReferSubscriber" id="apidoc.module.jssip.ReferSubscriber">module jssip.ReferSubscriber</a></h1>


    <h2>
        <a href="#apidoc.element.jssip.ReferSubscriber.ReferSubscriber" id="apidoc.element.jssip.ReferSubscriber.ReferSubscriber">
        function <span class="apidocSignatureSpan">jssip.</span>ReferSubscriber
        <span class="apidocSignatureSpan">(session)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ReferSubscriber(session) {
  this.session = session;
  this.timer = null;
  // Instance of REFER OutgoingRequest
  this.outgoingRequest = null;

  events.EventEmitter.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.ReferSubscriber.super_" id="apidoc.element.jssip.ReferSubscriber.super_">
        function <span class="apidocSignatureSpan">jssip.ReferSubscriber.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitter() {
  EventEmitter.init.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jssip.ReferSubscriber.prototype" id="apidoc.module.jssip.ReferSubscriber.prototype">module jssip.ReferSubscriber.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jssip.ReferSubscriber.prototype.receiveNotify" id="apidoc.element.jssip.ReferSubscriber.prototype.receiveNotify">
        function <span class="apidocSignatureSpan">jssip.ReferSubscriber.prototype.</span>receiveNotify
        <span class="apidocSignatureSpan">(request)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">receiveNotify = function (request) {
  debug('receiveNotify()');

  var status_line;

  if (!request.body) {
    return;
  }

  status_line = Grammar.parse(request.body, 'Status_Line');

  if(status_line === -1) {
    debug('receiveNotify() | error parsing NOTIFY body: "' + request.body + '"');
    return;
  }

  switch(true) {
    case /^100$/.test(status_line.status_code):
      this.emit('trying', {
        request: request,
        status_line: status_line
      });
      break;

    case /^1[0-9]{2}$/.test(status_line.status_code):
      this.emit('progress', {
        request: request,
        status_line: status_line
      });
      break;

    case /^2[0-9]{2}$/.test(status_line.status_code):
      removeSubscriber.call(this);
      this.emit('accepted', {
        request: request,
        status_line: status_line
      });
      break;

    default:
      removeSubscriber.call(this);
      this.emit('failed', {
        request: request,
        status_line: status_line
      });
      break;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var referSubscriber = this.referSubscribers[id];

  if (!referSubscriber) {
    request.reply(481, 'Subscription does not exist');
    return;
  }

  referSubscriber.<span class="apidocCodeKeywordSpan">receiveNotify</span>(request);
  request.reply(200);

  break;
}

default: {
  request.reply(489);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.ReferSubscriber.prototype.sendRefer" id="apidoc.element.jssip.ReferSubscriber.prototype.sendRefer">
        function <span class="apidocSignatureSpan">jssip.ReferSubscriber.prototype.</span>sendRefer
        <span class="apidocSignatureSpan">(target, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sendRefer = function (target, options) {
  debug('sendRefer()');

  var extraHeaders, eventHandlers, referTo,
      replaces = null,
      self = this;

  // Get REFER options
  options = options || {};
  extraHeaders = options.extraHeaders ? options.extraHeaders.slice() : [];
  eventHandlers = options.eventHandlers || {};

  // Set event handlers
  for (var event in eventHandlers) {
    this.on(event, eventHandlers[event]);
  }

  // Replaces URI header field
  if (options.replaces) {
    replaces = options.replaces.request.call_id;
    replaces += ';to-tag='+ options.replaces.to_tag;
    replaces += ';from-tag='+ options.replaces.from_tag;

    replaces = encodeURIComponent(replaces);
  }

  // Refer-To header field
  referTo = 'Refer-To: &lt;'+ target + (replaces?'?Replaces='+ replaces:'') +'&gt;';

  extraHeaders.push(referTo);

  var request = new RTCSession_Request(this.session, JsSIP_C.REFER);

  this.timer = setTimeout(function() {
    removeSubscriber.call(self);
  }, C.expires * 1000);

  request.send({
    extraHeaders: extraHeaders,
    eventHandlers: {
      onSuccessResponse: function(response) {
        self.emit('requestSucceeded', {
          response: response
        });
      },
      onErrorResponse: function(response) {
        self.emit('requestFailed', {
          response: response,
          cause: JsSIP_C.causes.REJECTED
        });
      },
      onTransportError: function() {
        removeSubscriber.call(self);
        self.emit('requestFailed', {
          response: null,
          cause: JsSIP_C.causes.CONNECTION_ERROR
        });
      },
      onRequestTimeout: function() {
        removeSubscriber.call(self);
        self.emit('requestFailed', {
          response: null,
          cause: JsSIP_C.causes.REQUEST_TIMEOUT
        });
      },
      onDialogError: function() {
        removeSubscriber.call(self);
        self.emit('requestFailed', {
          response: null,
          cause: JsSIP_C.causes.DIALOG_ERROR
        });
      }
    }
  });

  this.outgoingRequest = request.outgoingRequest;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Check target validity
target = this.ua.normalizeTarget(target);
if (!target) {
  throw new TypeError('Invalid target: '+ originalTarget);
}

referSubscriber = new RTCSession_ReferSubscriber(this);
referSubscriber.<span class="apidocCodeKeywordSpan">sendRefer</span>(target, options);

// Store in the map
id = referSubscriber.outgoingRequest.cseq;
this.referSubscribers[id] = referSubscriber;

// Listen for ending events so we can remove it from the map
referSubscriber.on('requestFailed', function() {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jssip.Registrator" id="apidoc.module.jssip.Registrator">module jssip.Registrator</a></h1>


    <h2>
        <a href="#apidoc.element.jssip.Registrator.Registrator" id="apidoc.element.jssip.Registrator.Registrator">
        function <span class="apidocSignatureSpan">jssip.</span>Registrator
        <span class="apidocSignatureSpan">(ua, transport)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Registrator(ua, transport) {
  var reg_id=1; //Force reg_id to 1.

  this.ua = ua;
  this.transport = transport;

  this.registrar = ua.configuration.registrar_server;
  this.expires = ua.configuration.register_expires;

  // Call-ID and CSeq values RFC3261 10.2
  this.call_id = Utils.createRandomToken(22);
  this.cseq = 0;

  // this.to_uri
  this.to_uri = ua.configuration.uri;

  this.registrationTimer = null;

  // Set status
  this.registered = false;

  // Contact header
  this.contact = this.ua.contact.toString();

  // sip.ice media feature tag (RFC 5768)
  this.contact += ';+sip.ice';

  // Custom headers for REGISTER and un-REGISTER.
  this.extraHeaders = [];

  // Custom Contact header params for REGISTER and un-REGISTER.
  this.extraContactParams = '';

  if(reg_id) {
    this.contact += ';reg-id='+ reg_id;
    this.contact += ';+sip.instance="&lt;urn:uuid:'+ this.ua.configuration.instance_id+'&gt;"';
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jssip.Registrator.prototype" id="apidoc.module.jssip.Registrator.prototype">module jssip.Registrator.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jssip.Registrator.prototype.close" id="apidoc.element.jssip.Registrator.prototype.close">
        function <span class="apidocSignatureSpan">jssip.Registrator.prototype.</span>close
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">close = function () {
  if (this.registered) {
    this.unregister();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (this.status === C.STATUS_TERMINATED) {
  return;
}

// Terminate RTC.
if (this.connection) {
  try {
    this.connection.<span class="apidocCodeKeywordSpan">close</span>();
  } catch(error) {
    debugerror('close() | error closing the RTCPeerConnection: %o', error);
  }
}

// Close local MediaStream if it was not given by the user.
if (this.localMediaStream &amp;&amp; this.localMediaStreamLocallyGenerated) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Registrator.prototype.onTransportClosed" id="apidoc.element.jssip.Registrator.prototype.onTransportClosed">
        function <span class="apidocSignatureSpan">jssip.Registrator.prototype.</span>onTransportClosed
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onTransportClosed = function () {
  if (this.registrationTimer !== null) {
    clearTimeout(this.registrationTimer);
    this.registrationTimer = null;
  }

  if(this.registered) {
    this.registered = false;
    this.ua.unregistered({});
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Registrator.prototype.register" id="apidoc.element.jssip.Registrator.prototype.register">
        function <span class="apidocSignatureSpan">jssip.Registrator.prototype.</span>register
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">register = function () {
  var request_sender, cause, extraHeaders,
    self = this;

  extraHeaders = this.extraHeaders.slice();
  extraHeaders.push('Contact: ' + this.contact + ';expires=' + this.expires + this.extraContactParams);
  extraHeaders.push('Expires: '+ this.expires);

  this.request = new SIPMessage.OutgoingRequest(JsSIP_C.REGISTER, this.registrar, this.ua, {
      'to_uri': this.to_uri,
      'call_id': this.call_id,
      'cseq': (this.cseq += 1)
    }, extraHeaders);

  request_sender = new RequestSender(this, this.ua);

  this.receiveResponse = function(response) {
    var contact, expires,
      contacts = response.getHeaders('contact').length;

    // Discard responses to older REGISTER/un-REGISTER requests.
    if(response.cseq !== this.cseq) {
      return;
    }

    // Clear registration timer
    if (this.registrationTimer !== null) {
      clearTimeout(this.registrationTimer);
      this.registrationTimer = null;
    }

    switch(true) {
      case /^1[0-9]{2}$/.test(response.status_code):
        // Ignore provisional responses.
        break;
      case /^2[0-9]{2}$/.test(response.status_code):
        if(response.hasHeader('expires')) {
          expires = response.getHeader('expires');
        }

        // Search the Contact pointing to us and update the expires value accordingly.
        if (!contacts) {
          debug('no Contact header in response to REGISTER, response ignored');
          break;
        }

        while(contacts--) {
          contact = response.parseHeader('contact', contacts);
          if(contact.uri.user === this.ua.contact.uri.user) {
            expires = contact.getParam('expires');
            break;
          } else {
            contact = null;
          }
        }

        if (!contact) {
          debug('no Contact header pointing to us, response ignored');
          break;
        }

        if(!expires) {
          expires = this.expires;
        }

        // Re-Register before the expiration interval has elapsed.
        // For that, decrease the expires value. ie: 3 seconds
        this.registrationTimer = setTimeout(function() {
          self.registrationTimer = null;
          self.register();
        }, (expires * 1000) - 3000);

        //Save gruu values
        if (contact.hasParam('temp-gruu')) {
          this.ua.contact.temp_gruu = contact.getParam('temp-gruu').replace(/"/g,'');
        }
        if (contact.hasParam('pub-gruu')) {
          this.ua.contact.pub_gruu = contact.getParam('pub-gruu').replace(/"/g,'');
        }

        if (! this.registered) {
          this.registered = true;
          this.ua.registered({
            response: response
          });
        }
        break;
      // Interval too brief RFC3261 10.2.8
      case /^423$/.test(response.status_code):
        if(response.hasHeader('min-expires')) {
          // Increase our registration interval to the suggested minimum
          this.expires = response.getHeader('min-expires');
          // Attempt the registration again immediately
          this.register();
        } else { //This response MUST contain a Min-Expires header field
          debug('423 response received for REGISTER without Min-Expires');
          this.registrationFailure(response, JsSIP_C.causes.SIP_FAILURE_CODE);
        }
        break;
      default:
        cause = Utils.sipErrorCause(response.status_code);
        this.registrationFailure(response, cause);
    }
  };

  this.onRequestTimeout = function() {
    this.registrationFailure(null, JsSIP_C.causes.REQUEST_TIMEOUT);
  };

  this.onTransportError = function() {
    this.registrationFailure(null, JsSIP_C.causes.CONNECTION_ERROR);
  };

  request_sender.send();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  expires = this.expires;
}

// Re-Register before the expiration interval has elapsed.
// For that, decrease the expires value. ie: 3 seconds
this.registrationTimer = setTimeout(function() {
  self.registrationTimer = null;
  self.<span class="apidocCodeKeywordSpan">register</span>();
}, (expires * 1000) - 3000);

//Save gruu values
if (contact.hasParam('temp-gruu')) {
  this.ua.contact.temp_gruu = contact.getParam('temp-gruu').replace(/"/g,'');
}
if (contact.hasParam('pub-gruu')) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Registrator.prototype.registrationFailure" id="apidoc.element.jssip.Registrator.prototype.registrationFailure">
        function <span class="apidocSignatureSpan">jssip.Registrator.prototype.</span>registrationFailure
        <span class="apidocSignatureSpan">(response, cause)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">registrationFailure = function (response, cause) {
  this.ua.registrationFailed({
    response: response || null,
    cause: cause
  });

  if (this.registered) {
    this.registered = false;
    this.ua.unregistered({
      response: response || null,
      cause: cause
    });
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      if(response.hasHeader('min-expires')) {
        // Increase our registration interval to the suggested minimum
        this.expires = response.getHeader('min-expires');
        // Attempt the registration again immediately
        this.register();
      } else { //This response MUST contain a Min-Expires header field
        debug('423 response received for REGISTER without Min-Expires');
        this.<span class="apidocCodeKeywordSpan">registrationFailure</span>(response, JsSIP_C.causes.SIP_FAILURE_CODE);
      }
      break;
    default:
      cause = Utils.sipErrorCause(response.status_code);
      this.registrationFailure(response, cause);
  }
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Registrator.prototype.setExtraContactParams" id="apidoc.element.jssip.Registrator.prototype.setExtraContactParams">
        function <span class="apidocSignatureSpan">jssip.Registrator.prototype.</span>setExtraContactParams
        <span class="apidocSignatureSpan">(extraContactParams)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setExtraContactParams = function (extraContactParams) {
  if (! (extraContactParams instanceof Object)) {
    extraContactParams = {};
  }

  // Reset it.
  this.extraContactParams = '';

  for(var param_key in extraContactParams) {
    var param_value = extraContactParams[param_key];
    this.extraContactParams += (';' + param_key);
    if (param_value) {
      this.extraContactParams += ('=' + param_value);
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Registrator.prototype.setExtraHeaders" id="apidoc.element.jssip.Registrator.prototype.setExtraHeaders">
        function <span class="apidocSignatureSpan">jssip.Registrator.prototype.</span>setExtraHeaders
        <span class="apidocSignatureSpan">(extraHeaders)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setExtraHeaders = function (extraHeaders) {
  if (! Array.isArray(extraHeaders)) {
    extraHeaders = [];
  }

  this.extraHeaders = extraHeaders.slice();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Registrator.prototype.unregister" id="apidoc.element.jssip.Registrator.prototype.unregister">
        function <span class="apidocSignatureSpan">jssip.Registrator.prototype.</span>unregister
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unregister = function (options) {
  var extraHeaders;

  if(!this.registered) {
    debug('already unregistered');
    return;
  }

  options = options || {};

  this.registered = false;

  // Clear the registration timer.
  if (this.registrationTimer !== null) {
    clearTimeout(this.registrationTimer);
    this.registrationTimer = null;
  }

  extraHeaders = this.extraHeaders.slice();

  if(options.all) {
    extraHeaders.push('Contact: *' + this.extraContactParams);
    extraHeaders.push('Expires: 0');

    this.request = new SIPMessage.OutgoingRequest(JsSIP_C.REGISTER, this.registrar, this.ua, {
        'to_uri': this.to_uri,
        'call_id': this.call_id,
        'cseq': (this.cseq += 1)
      }, extraHeaders);
  } else {
    extraHeaders.push('Contact: '+ this.contact + ';expires=0' + this.extraContactParams);
    extraHeaders.push('Expires: 0');

    this.request = new SIPMessage.OutgoingRequest(JsSIP_C.REGISTER, this.registrar, this.ua, {
        'to_uri': this.to_uri,
        'call_id': this.call_id,
        'cseq': (this.cseq += 1)
      }, extraHeaders);
  }

  var request_sender = new RequestSender(this, this.ua);

  this.receiveResponse = function(response) {
    var cause;

    switch(true) {
      case /^1[0-9]{2}$/.test(response.status_code):
        // Ignore provisional responses.
        break;
      case /^2[0-9]{2}$/.test(response.status_code):
        this.unregistered(response);
        break;
      default:
        cause = Utils.sipErrorCause(response.status_code);
        this.unregistered(response, cause);
    }
  };

  this.onRequestTimeout = function() {
    this.unregistered(null, JsSIP_C.causes.REQUEST_TIMEOUT);
  };

  this.onTransportError = function() {
    this.unregistered(null, JsSIP_C.causes.CONNECTION_ERROR);
  };

  request_sender.send();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      this.registered = false;
      this.ua.unregistered({});
    }
  },

  close: function() {
    if (this.registered) {
      this.<span class="apidocCodeKeywordSpan">unregister</span>();
    }
  }
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Registrator.prototype.unregistered" id="apidoc.element.jssip.Registrator.prototype.unregistered">
        function <span class="apidocSignatureSpan">jssip.Registrator.prototype.</span>unregistered
        <span class="apidocSignatureSpan">(response, cause)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unregistered = function (response, cause) {
  this.registered = false;
  this.ua.unregistered({
    response: response || null,
    cause: cause || null
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var cause;

  switch(true) {
    case /^1[0-9]{2}$/.test(response.status_code):
      // Ignore provisional responses.
      break;
    case /^2[0-9]{2}$/.test(response.status_code):
      this.<span class="apidocCodeKeywordSpan">unregistered</span>(response);
      break;
    default:
      cause = Utils.sipErrorCause(response.status_code);
      this.unregistered(response, cause);
  }
};
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jssip.Request" id="apidoc.module.jssip.Request">module jssip.Request</a></h1>


    <h2>
        <a href="#apidoc.element.jssip.Request.Request" id="apidoc.element.jssip.Request.Request">
        function <span class="apidocSignatureSpan">jssip.</span>Request
        <span class="apidocSignatureSpan">(session, method)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Request(session, method) {
  debug('new | %s', method);

  this.session = session;
  this.method = method;
  // Instance of OutgoingRequest
  this.outgoingRequest = null;

  // Check RTCSession Status
  if (this.session.status !== RTCSession.C.STATUS_1XX_RECEIVED &amp;&amp;
    this.session.status !== RTCSession.C.STATUS_WAITING_FOR_ANSWER &amp;&amp;
    this.session.status !== RTCSession.C.STATUS_WAITING_FOR_ACK &amp;&amp;
    this.session.status !== RTCSession.C.STATUS_CONFIRMED &amp;&amp;
    this.session.status !== RTCSession.C.STATUS_TERMINATED) {
    throw new Exceptions.InvalidStateError(this.session.status);
  }

<span class="apidocCodeCommentSpan">  /*
   * Allow sending BYE in TERMINATED status since the RTCSession
   * could had been terminated before the ACK had arrived.
   * RFC3261 Section 15, Paragraph 2
   */
</span>  else if (this.session.status === RTCSession.C.STATUS_TERMINATED &amp;&amp; method !== JsSIP_C.BYE) {
    throw new Exceptions.InvalidStateError(this.session.status);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jssip.Request.prototype" id="apidoc.module.jssip.Request.prototype">module jssip.Request.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jssip.Request.prototype.onDialogError" id="apidoc.element.jssip.Request.prototype.onDialogError">
        function <span class="apidocSignatureSpan">jssip.Request.prototype.</span>onDialogError
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onDialogError = function () {
  debugerror('onDialogError');
  if (this.eventHandlers.onDialogError) { this.eventHandlers.onDialogError(); }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      onTransportError: function() {
        self.onTransportError();  // Do nothing because session ends.
      },
      onRequestTimeout: function() {
        self.onRequestTimeout();  // Do nothing because session ends.
      },
      onDialogError: function() {
        self.<span class="apidocCodeKeywordSpan">onDialogError</span>();  // Do nothing because session ends.
      }
    }
  });
},
// failure
function() {
  onFailed();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Request.prototype.onRequestTimeout" id="apidoc.element.jssip.Request.prototype.onRequestTimeout">
        function <span class="apidocSignatureSpan">jssip.Request.prototype.</span>onRequestTimeout
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onRequestTimeout = function () {
  debugerror('onRequestTimeout');
  if (this.eventHandlers.onRequestTimeout) { this.eventHandlers.onRequestTimeout(); }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
},

/**
* Callback fired when receiving a request timeout error from the client transaction.
* To be re-defined by the applicant.
*/
onRequestTimeout: function() {
  this.applicant.<span class="apidocCodeKeywordSpan">onRequestTimeout</span>();
},

/**
* Callback fired when receiving a transport error from the client transaction.
* To be re-defined by the applicant.
*/
onTransportError: function() {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Request.prototype.onTransportError" id="apidoc.element.jssip.Request.prototype.onTransportError">
        function <span class="apidocSignatureSpan">jssip.Request.prototype.</span>onTransportError
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onTransportError = function () {
  debugerror('onTransportError');
  if (this.eventHandlers.onTransportError) { this.eventHandlers.onTransportError(); }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this.request = applicant.request;
  this.auth = null;
  this.challenged = false;
  this.staled = false;

  // If ua is in closing process or even closed just allow sending Bye and ACK
  if (ua.status === UA.C.STATUS_USER_CLOSED &amp;&amp; (this.method !== JsSIP_C.BYE || this.method !== JsSIP_C.ACK)) {
    this.<span class="apidocCodeKeywordSpan">onTransportError</span>();
  }
}


/**
* Create the client transaction and send the message.
*/
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Request.prototype.receiveResponse" id="apidoc.element.jssip.Request.prototype.receiveResponse">
        function <span class="apidocSignatureSpan">jssip.Request.prototype.</span>receiveResponse
        <span class="apidocSignatureSpan">(response)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">receiveResponse = function (response) {
  switch(true) {
    case /^1[0-9]{2}$/.test(response.status_code):
      debug('onProgressResponse');
      if (this.eventHandlers.onProgressResponse) { this.eventHandlers.onProgressResponse(response); }
      break;

    case /^2[0-9]{2}$/.test(response.status_code):
      debug('onSuccessResponse');
      if (this.eventHandlers.onSuccessResponse) { this.eventHandlers.onSuccessResponse(response); }
      break;

    default:
      debug('onErrorResponse');
      if (this.eventHandlers.onErrorResponse) { this.eventHandlers.onErrorResponse(response); }
      break;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  challenge = response.parseHeader('proxy-authenticate');
  authorization_header_name = 'proxy-authorization';
}

// Verify it seems a valid challenge.
if (!challenge) {
  debug(response.status_code + ' with wrong or missing challenge, cannot authenticate');
  this.applicant.<span class="apidocCodeKeywordSpan">receiveResponse</span>(response);
  return;
}

if (!this.challenged || (!this.staled &amp;&amp; challenge.stale === true)) {
  if (!this.auth) {
    this.auth = new DigestAuthentication({
      username : this.ua.configuration.authorization_user,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Request.prototype.send" id="apidoc.element.jssip.Request.prototype.send">
        function <span class="apidocSignatureSpan">jssip.Request.prototype.</span>send
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">send = function (options) {
  options = options || {};

  var
    extraHeaders = options.extraHeaders &amp;&amp; options.extraHeaders.slice() || [],
    body = options.body || null;

  this.eventHandlers = options.eventHandlers || {};

  this.outgoingRequest = this.session.dialog.sendRequest(this, this.method, {
    extraHeaders: extraHeaders,
    body: body
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  var
    extraHeaders = options.extraHeaders &amp;&amp; options.extraHeaders.slice() || [],
    body = options.body || null,
    request = this.createRequest(method, extraHeaders, body),
    request_sender = new Dialog_RequestSender(this, applicant, request);

    request_sender.<span class="apidocCodeKeywordSpan">send</span>();

    // Return the instance of OutgoingRequest
    return request;
},

receiveRequest: function(request) {
  //Check in-dialog request
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jssip.RequestSender" id="apidoc.module.jssip.RequestSender">module jssip.RequestSender</a></h1>


    <h2>
        <a href="#apidoc.element.jssip.RequestSender.RequestSender" id="apidoc.element.jssip.RequestSender.RequestSender">
        function <span class="apidocSignatureSpan">jssip.</span>RequestSender
        <span class="apidocSignatureSpan">(applicant, ua)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function RequestSender(applicant, ua) {
  this.ua = ua;
  this.applicant = applicant;
  this.method = applicant.request.method;
  this.request = applicant.request;
  this.auth = null;
  this.challenged = false;
  this.staled = false;

  // If ua is in closing process or even closed just allow sending Bye and ACK
  if (ua.status === UA.C.STATUS_USER_CLOSED &amp;&amp; (this.method !== JsSIP_C.BYE || this.method !== JsSIP_C.ACK)) {
    this.onTransportError();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
//     }

//     subscriber = this;
//     from_tag = JsSIP.Utils.newTag();

//     new function() {
//       this.request = subscriber.createSubscribeRequest(null,{from_tag:from_tag});
//       var request_sender = new JsSIP.<span class="apidocCodeKeywordSpan">RequestSender</span>(this, subscriber.ua);

//       this.receiveResponse = function(response) {
//         switch(true) {
//           case /^1[0-9]{2}$/.test(response.status_code): // Ignore provisional responses.
//             break;
//           case /^2[0-9]{2}$/.test(response.status_code):
//             expires = response.s('Expires');
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jssip.RequestSender.prototype" id="apidoc.module.jssip.RequestSender.prototype">module jssip.RequestSender.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jssip.RequestSender.prototype.onRequestTimeout" id="apidoc.element.jssip.RequestSender.prototype.onRequestTimeout">
        function <span class="apidocSignatureSpan">jssip.RequestSender.prototype.</span>onRequestTimeout
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onRequestTimeout = function () {
  this.applicant.onRequestTimeout();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
},

/**
* Callback fired when receiving a request timeout error from the client transaction.
* To be re-defined by the applicant.
*/
onRequestTimeout: function() {
  this.applicant.<span class="apidocCodeKeywordSpan">onRequestTimeout</span>();
},

/**
* Callback fired when receiving a transport error from the client transaction.
* To be re-defined by the applicant.
*/
onTransportError: function() {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.RequestSender.prototype.onTransportError" id="apidoc.element.jssip.RequestSender.prototype.onTransportError">
        function <span class="apidocSignatureSpan">jssip.RequestSender.prototype.</span>onTransportError
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onTransportError = function () {
  this.applicant.onTransportError();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this.request = applicant.request;
  this.auth = null;
  this.challenged = false;
  this.staled = false;

  // If ua is in closing process or even closed just allow sending Bye and ACK
  if (ua.status === UA.C.STATUS_USER_CLOSED &amp;&amp; (this.method !== JsSIP_C.BYE || this.method !== JsSIP_C.ACK)) {
    this.<span class="apidocCodeKeywordSpan">onTransportError</span>();
  }
}


/**
* Create the client transaction and send the message.
*/
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.RequestSender.prototype.receiveResponse" id="apidoc.element.jssip.RequestSender.prototype.receiveResponse">
        function <span class="apidocSignatureSpan">jssip.RequestSender.prototype.</span>receiveResponse
        <span class="apidocSignatureSpan">(response)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">receiveResponse = function (response) {
  var
    cseq, challenge, authorization_header_name,
    status_code = response.status_code;

<span class="apidocCodeCommentSpan">  /*
  * Authentication
  * Authenticate once. _challenged_ flag used to avoid infinite authentications.
  */
</span>  if ((status_code === 401 || status_code === 407) &amp;&amp;
      (this.ua.configuration.password !== null || this.ua.configuration.ha1 !== null)) {

    // Get and parse the appropriate WWW-Authenticate or Proxy-Authenticate header.
    if (response.status_code === 401) {
      challenge = response.parseHeader('www-authenticate');
      authorization_header_name = 'authorization';
    } else {
      challenge = response.parseHeader('proxy-authenticate');
      authorization_header_name = 'proxy-authorization';
    }

    // Verify it seems a valid challenge.
    if (!challenge) {
      debug(response.status_code + ' with wrong or missing challenge, cannot authenticate');
      this.applicant.receiveResponse(response);
      return;
    }

    if (!this.challenged || (!this.staled &amp;&amp; challenge.stale === true)) {
      if (!this.auth) {
        this.auth = new DigestAuthentication({
          username : this.ua.configuration.authorization_user,
          password : this.ua.configuration.password,
          realm    : this.ua.configuration.realm,
          ha1      : this.ua.configuration.ha1
        });
      }

      // Verify that the challenge is really valid.
      if (!this.auth.authenticate(this.request, challenge)) {
        this.applicant.receiveResponse(response);
        return;
      }
      this.challenged = true;

      // Update ha1 and realm in the UA.
      this.ua.set('realm', this.auth.get('realm'));
      this.ua.set('ha1', this.auth.get('ha1'));

      if (challenge.stale) {
        this.staled = true;
      }

      if (response.method === JsSIP_C.REGISTER) {
        cseq = this.applicant.cseq += 1;
      } else if (this.request.dialog) {
        cseq = this.request.dialog.local_seqnum += 1;
      } else {
        cseq = this.request.cseq + 1;
      }

      this.request = this.applicant.request = this.request.clone();

      this.request.cseq = cseq;
      this.request.setHeader('cseq', cseq +' '+ this.method);

      this.request.setHeader(authorization_header_name, this.auth.toString());
      this.send();
    } else {
      this.applicant.receiveResponse(response);
    }
  } else {
    this.applicant.receiveResponse(response);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  challenge = response.parseHeader('proxy-authenticate');
  authorization_header_name = 'proxy-authorization';
}

// Verify it seems a valid challenge.
if (!challenge) {
  debug(response.status_code + ' with wrong or missing challenge, cannot authenticate');
  this.applicant.<span class="apidocCodeKeywordSpan">receiveResponse</span>(response);
  return;
}

if (!this.challenged || (!this.staled &amp;&amp; challenge.stale === true)) {
  if (!this.auth) {
    this.auth = new DigestAuthentication({
      username : this.ua.configuration.authorization_user,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.RequestSender.prototype.send" id="apidoc.element.jssip.RequestSender.prototype.send">
        function <span class="apidocSignatureSpan">jssip.RequestSender.prototype.</span>send
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">send = function () {
  switch(this.method) {
    case 'INVITE':
      this.clientTransaction = new Transactions.InviteClientTransaction(this, this.request, this.ua.transport);
      break;
    case 'ACK':
      this.clientTransaction = new Transactions.AckClientTransaction(this, this.request, this.ua.transport);
      break;
    default:
      this.clientTransaction = new Transactions.NonInviteClientTransaction(this, this.request, this.ua.transport);
  }

  this.clientTransaction.send();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  var
    extraHeaders = options.extraHeaders &amp;&amp; options.extraHeaders.slice() || [],
    body = options.body || null,
    request = this.createRequest(method, extraHeaders, body),
    request_sender = new Dialog_RequestSender(this, applicant, request);

    request_sender.<span class="apidocCodeKeywordSpan">send</span>();

    // Return the instance of OutgoingRequest
    return request;
},

receiveRequest: function(request) {
  //Check in-dialog request
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jssip.SIPMessage" id="apidoc.module.jssip.SIPMessage">module jssip.SIPMessage</a></h1>


    <h2>
        <a href="#apidoc.element.jssip.SIPMessage.IncomingRequest" id="apidoc.element.jssip.SIPMessage.IncomingRequest">
        function <span class="apidocSignatureSpan">jssip.SIPMessage.</span>IncomingRequest
        <span class="apidocSignatureSpan">(ua)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function IncomingRequest(ua) {
  this.ua = ua;
  this.headers = {};
  this.ruri = null;
  this.transport = null;
  this.server_transaction = null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
firstLine = data.substring(0, headerEnd);
parsed = Grammar.parse(firstLine, 'Request_Response');

if(parsed === -1) {
  debugerror('parseMessage() | error parsing first line of SIP message: "' + firstLine + '"');
  return;
} else if(!parsed.status_code) {
  message = new SIPMessage.<span class="apidocCodeKeywordSpan">IncomingRequest</span>(ua);
  message.method = parsed.method;
  message.ruri = parsed.uri;
} else {
  message = new SIPMessage.IncomingResponse();
  message.status_code = parsed.status_code;
  message.reason_phrase = parsed.reason_phrase;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.SIPMessage.IncomingResponse" id="apidoc.element.jssip.SIPMessage.IncomingResponse">
        function <span class="apidocSignatureSpan">jssip.SIPMessage.</span>IncomingResponse
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function IncomingResponse() {
  this.headers = {};
  this.status_code = null;
  this.reason_phrase = null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  debugerror('parseMessage() | error parsing first line of SIP message: "' + firstLine + '"');
  return;
} else if(!parsed.status_code) {
  message = new SIPMessage.IncomingRequest(ua);
  message.method = parsed.method;
  message.ruri = parsed.uri;
} else {
  message = new SIPMessage.<span class="apidocCodeKeywordSpan">IncomingResponse</span>();
  message.status_code = parsed.status_code;
  message.reason_phrase = parsed.reason_phrase;
}

message.data = data;
headerStart = headerEnd + 2;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.SIPMessage.OutgoingRequest" id="apidoc.element.jssip.SIPMessage.OutgoingRequest">
        function <span class="apidocSignatureSpan">jssip.SIPMessage.</span>OutgoingRequest
        <span class="apidocSignatureSpan">(method, ruri, ua, params, extraHeaders, body)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function OutgoingRequest(method, ruri, ua, params, extraHeaders, body) {
  var
    to,
    from,
    call_id,
    cseq;

  params = params || {};

  // Mandatory parameters check
  if(!method || !ruri || !ua) {
    return null;
  }

  this.ua = ua;
  this.headers = {};
  this.method = method;
  this.ruri = ruri;
  this.body = body;
  this.extraHeaders = extraHeaders &amp;&amp; extraHeaders.slice() || [];

  // Fill the Common SIP Request Headers

  // Route
  if (params.route_set) {
    this.setHeader('route', params.route_set);
  } else if (ua.configuration.use_preloaded_route) {
    this.setHeader('route', '&lt;' + ua.transport.sip_uri + ';lr&gt;');
  }

  // Via
  // Empty Via header. Will be filled by the client transaction.
  this.setHeader('via', '');

  // Max-Forwards
  this.setHeader('max-forwards', JsSIP_C.MAX_FORWARDS);

  // To
  to = (params.to_display_name || params.to_display_name === 0) ? '"' + params.to_display_name + '" ' : '';
  to += '&lt;' + (params.to_uri || ruri) + '&gt;';
  to += params.to_tag ? ';tag=' + params.to_tag : '';
  this.to = new NameAddrHeader.parse(to);
  this.setHeader('to', to);

  // From
  if (params.from_display_name || params.from_display_name === 0) {
    from = '"' + params.from_display_name + '" ';
  } else if (ua.configuration.display_name) {
    from = '"' + ua.configuration.display_name + '" ';
  } else {
    from = '';
  }
  from += '&lt;' + (params.from_uri || ua.configuration.uri) + '&gt;;tag=';
  from += params.from_tag || Utils.newTag();
  this.from = new NameAddrHeader.parse(from);
  this.setHeader('from', from);

  // Call-ID
  call_id = params.call_id || (ua.configuration.jssip_id + Utils.createRandomToken(15));
  this.call_id = call_id;
  this.setHeader('call-id', call_id);

  // CSeq
  cseq = params.cseq || Math.floor(Math.random() * 10000);
  this.cseq = cseq;
  this.setHeader('cseq', cseq + ' ' + method);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var cseq, request;
extraHeaders = extraHeaders &amp;&amp; extraHeaders.slice() || [];

if(!this.local_seqnum) { this.local_seqnum = Math.floor(Math.random() * 10000); }

cseq = (method === JsSIP_C.CANCEL || method === JsSIP_C.ACK) ? this.local_seqnum : this.local_seqnum += 1;

request = new SIPMessage.<span class="apidocCodeKeywordSpan">OutgoingRequest</span>(
  method,
  this.remote_target,
  this.owner.ua, {
    'cseq': cseq,
    'call_id': this.id.call_id,
    'from_uri': this.local_uri,
    'from_tag': this.id.local_tag,
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jssip.Socket" id="apidoc.module.jssip.Socket">module jssip.Socket</a></h1>


    <h2>
        <a href="#apidoc.element.jssip.Socket.Socket" id="apidoc.element.jssip.Socket.Socket">
        function <span class="apidocSignatureSpan">jssip.</span>Socket
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Socket() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Socket.isSocket" id="apidoc.element.jssip.Socket.isSocket">
        function <span class="apidocSignatureSpan">jssip.Socket.</span>isSocket
        <span class="apidocSignatureSpan">(socket)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isSocket = function (socket) {
  // Ignore if an array is given
  if (Array.isArray(socket)) {
    return false;
  }

  if (typeof socket === 'undefined') {
    debugerror('undefined JsSIP.Socket instance');
    return false;
  }

  // Check Properties
  try {
    if (!Utils.isString(socket.url)) {
      debugerror('missing or invalid JsSIP.Socket url property');
      throw new Error();
    }

    if (!Utils.isString(socket.via_transport)) {
      debugerror('missing or invalid JsSIP.Socket via_transport property');
      throw new Error();
    }

    if (Grammar.parse(socket.sip_uri, 'SIP_URI') === -1) {
      debugerror('missing or invalid JsSIP.Socket sip_uri property');
      throw new Error();
    }
  } catch(e) {
    return false;
  }

  // Check Methods
  try {
    ['connect', 'disconnect', 'send'].forEach(function(method) {
      if (!Utils.isFunction(socket[method])) {
        debugerror('missing or invalid JsSIP.Socket method: ' + method);
        throw new Error();
      }
    });
  } catch(e) {
    return false;
  }

  return true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }

  if (!(sockets instanceof Array)) {
sockets = [ sockets ];
  }

  sockets.forEach(function(socket) {
if (!Socket.<span class="apidocCodeKeywordSpan">isSocket</span>(socket.socket)) {
  throw new TypeError('Invalid argument.' +
                      ' invalid \'JsSIP.Socket\' instance');
}

if (socket.weight &amp;&amp; !Number(socket.weight)) {
  throw new TypeError('Invalid argument.' +
                      ' \'weight\' attribute is not a number');
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jssip.Transactions" id="apidoc.module.jssip.Transactions">module jssip.Transactions</a></h1>


    <h2>
        <a href="#apidoc.element.jssip.Transactions.AckClientTransaction" id="apidoc.element.jssip.Transactions.AckClientTransaction">
        function <span class="apidocSignatureSpan">jssip.Transactions.</span>AckClientTransaction
        <span class="apidocSignatureSpan">(request_sender, request, transport)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function AckClientTransaction(request_sender, request, transport) {
  var via;

  this.transport = transport;
  this.id = 'z9hG4bK' + Math.floor(Math.random() * 10000000);
  this.request_sender = request_sender;
  this.request = request;

  via = 'SIP/2.0/' + transport.via_transport;
  via += ' ' + request_sender.ua.configuration.via_host + ';branch=' + this.id;

  this.request.setHeader('via', via);

  events.EventEmitter.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
RequestSender.prototype = {
send: function() {
  switch(this.method) {
    case 'INVITE':
      this.clientTransaction = new Transactions.InviteClientTransaction(this, this.request, this.ua.transport);
      break;
    case 'ACK':
      this.clientTransaction = new Transactions.<span class="apidocCodeKeywordSpan">AckClientTransaction</span>(this, this.request
, this.ua.transport);
      break;
    default:
      this.clientTransaction = new Transactions.NonInviteClientTransaction(this, this.request, this.ua.transport);
  }

  this.clientTransaction.send();
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Transactions.InviteClientTransaction" id="apidoc.element.jssip.Transactions.InviteClientTransaction">
        function <span class="apidocSignatureSpan">jssip.Transactions.</span>InviteClientTransaction
        <span class="apidocSignatureSpan">(request_sender, request, transport)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function InviteClientTransaction(request_sender, request, transport) {
  var via,
    tr = this;

  this.type = C.INVITE_CLIENT;
  this.transport = transport;
  this.id = 'z9hG4bK' + Math.floor(Math.random() * 10000000);
  this.request_sender = request_sender;
  this.request = request;

  via = 'SIP/2.0/' + transport.via_transport;
  via += ' ' + request_sender.ua.configuration.via_host + ';branch=' + this.id;

  this.request.setHeader('via', via);

  this.request_sender.ua.newTransaction(this);

  // TODO: Adding here the cancel() method is a hack that must be fixed.
  // Add the cancel property to the request.
  //Will be called from the request instance, not the transaction itself.
  this.request.cancel = function(reason) {
    tr.cancel_request(tr, reason);
  };

  events.EventEmitter.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
* Create the client transaction and send the message.
*/
RequestSender.prototype = {
send: function() {
  switch(this.method) {
    case 'INVITE':
      this.clientTransaction = new Transactions.<span class="apidocCodeKeywordSpan">InviteClientTransaction</span>(this, this.request
, this.ua.transport);
      break;
    case 'ACK':
      this.clientTransaction = new Transactions.AckClientTransaction(this, this.request, this.ua.transport);
      break;
    default:
      this.clientTransaction = new Transactions.NonInviteClientTransaction(this, this.request, this.ua.transport);
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Transactions.InviteServerTransaction" id="apidoc.element.jssip.Transactions.InviteServerTransaction">
        function <span class="apidocSignatureSpan">jssip.Transactions.</span>InviteServerTransaction
        <span class="apidocSignatureSpan">(request, ua)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function InviteServerTransaction(request, ua) {
  this.type = C.INVITE_SERVER;
  this.id = request.via_branch;
  this.request = request;
  this.transport = request.transport;
  this.ua = ua;
  this.last_response = '';
  request.server_transaction = this;

  this.state = C.STATUS_PROCEEDING;

  ua.newTransaction(this);

  this.resendProvisionalTimer = null;

  request.reply(100);

  events.EventEmitter.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Transactions.NonInviteClientTransaction" id="apidoc.element.jssip.Transactions.NonInviteClientTransaction">
        function <span class="apidocSignatureSpan">jssip.Transactions.</span>NonInviteClientTransaction
        <span class="apidocSignatureSpan">(request_sender, request, transport)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function NonInviteClientTransaction(request_sender, request, transport) {
  var via;

  this.type = C.NON_INVITE_CLIENT;
  this.transport = transport;
  this.id = 'z9hG4bK' + Math.floor(Math.random() * 10000000);
  this.request_sender = request_sender;
  this.request = request;

  via = 'SIP/2.0/' + transport.via_transport;
  via += ' ' + request_sender.ua.configuration.via_host + ';branch=' + this.id;

  this.request.setHeader('via', via);

  this.request_sender.ua.newTransaction(this);

  events.EventEmitter.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    case 'INVITE':
      this.clientTransaction = new Transactions.InviteClientTransaction(this, this.request, this.ua.transport);
      break;
    case 'ACK':
      this.clientTransaction = new Transactions.AckClientTransaction(this, this.request, this.ua.transport);
      break;
    default:
      this.clientTransaction = new Transactions.<span class="apidocCodeKeywordSpan">NonInviteClientTransaction</span>(this, this
.request, this.ua.transport);
  }

  this.clientTransaction.send();
},

/**
* Callback fired when receiving a request timeout error from the client transaction.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Transactions.NonInviteServerTransaction" id="apidoc.element.jssip.Transactions.NonInviteServerTransaction">
        function <span class="apidocSignatureSpan">jssip.Transactions.</span>NonInviteServerTransaction
        <span class="apidocSignatureSpan">(request, ua)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function NonInviteServerTransaction(request, ua) {
  this.type = C.NON_INVITE_SERVER;
  this.id = request.via_branch;
  this.request = request;
  this.transport = request.transport;
  this.ua = ua;
  this.last_response = '';
  request.server_transaction = this;

  this.state = C.STATUS_TRYING;

  ua.newTransaction(this);

  events.EventEmitter.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Transactions.checkTransaction" id="apidoc.element.jssip.Transactions.checkTransaction">
        function <span class="apidocSignatureSpan">jssip.Transactions.</span>checkTransaction
        <span class="apidocSignatureSpan">(ua, request)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function checkTransaction(ua, request) {
  var tr;

  switch(request.method) {
    case JsSIP_C.INVITE:
      tr = ua.transactions.ist[request.via_branch];
      if(tr) {
        switch(tr.state) {
          case C.STATUS_PROCEEDING:
            tr.transport.send(tr.last_response);
            break;

            // RFC 6026 7.1 Invite retransmission
            //received while in C.STATUS_ACCEPTED state. Absorb it.
          case C.STATUS_ACCEPTED:
            break;
        }
        return true;
      }
      break;
    case JsSIP_C.ACK:
      tr = ua.transactions.ist[request.via_branch];

      // RFC 6026 7.1
      if(tr) {
        if(tr.state === C.STATUS_ACCEPTED) {
          return false;
        } else if(tr.state === C.STATUS_COMPLETED) {
          tr.state = C.STATUS_CONFIRMED;
          tr.I = setTimeout(function() {tr.timer_I();}, Timers.TIMER_I);
          return true;
        }
      }
      // ACK to 2XX Response.
      else {
        return false;
      }
      break;
    case JsSIP_C.CANCEL:
      tr = ua.transactions.ist[request.via_branch];
      if(tr) {
        request.reply_sl(200);
        if(tr.state === C.STATUS_PROCEEDING) {
          return false;
        } else {
          return true;
        }
      } else {
        request.reply_sl(481);
        return true;
      }
      break;
    default:

      // Non-INVITE Server Transaction RFC 3261 17.2.2
      tr = ua.transactions.nist[request.via_branch];
      if(tr) {
        switch(tr.state) {
          case C.STATUS_TRYING:
            break;
          case C.STATUS_PROCEEDING:
          case C.STATUS_COMPLETED:
            tr.transport.send(tr.last_response);
            break;
        }
        return true;
      }
      break;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jssip.Transport" id="apidoc.module.jssip.Transport">module jssip.Transport</a></h1>


    <h2>
        <a href="#apidoc.element.jssip.Transport.Transport" id="apidoc.element.jssip.Transport.Transport">
        function <span class="apidocSignatureSpan">jssip.</span>Transport
        <span class="apidocSignatureSpan">(sockets, recovery_options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Transport(sockets, recovery_options) {
  debug('new()');

  this.status = C.STATUS_DISCONNECTED;

  // current socket
  this.socket = null;

  // socket collection
  this.sockets = [];

  this.recovery_options = recovery_options || C.recovery_options;
  this.recover_attempts = 0;
  this.recovery_timer = null;

  this.close_requested = false;

  if (typeof sockets === 'undefined') {
    throw new TypeError('Invalid argument.' +
                        ' undefined \'sockets\' argument');
  }

  if (!(sockets instanceof Array)) {
    sockets = [ sockets ];
  }

  sockets.forEach(function(socket) {
    if (!Socket.isSocket(socket.socket)) {
      throw new TypeError('Invalid argument.' +
                          ' invalid \'JsSIP.Socket\' instance');
    }

    if (socket.weight &amp;&amp; !Number(socket.weight)) {
      throw new TypeError('Invalid argument.' +
                          ' \'weight\' attribute is not a number');
    }

    this.sockets.push({
      socket: socket.socket,
      weight: socket.weight || 0,
      status: C.SOCKET_STATUS_READY
    });
  }, this);

  // read only properties
  Object.defineProperties(this, {
    via_transport:   { get: function() { return this.socket.via_transport; } },
    url:      { get: function() { return this.socket.url;       } },
    sip_uri:  { get: function() { return this.socket.sip_uri;   } }
  });

  // get the socket with higher weight
  getSocket.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jssip.Transport.prototype" id="apidoc.module.jssip.Transport.prototype">module jssip.Transport.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jssip.Transport.prototype.connect" id="apidoc.element.jssip.Transport.prototype.connect">
        function <span class="apidocSignatureSpan">jssip.Transport.prototype.</span>connect
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">connect = function () {
  debug('connect()');

  if (this.isConnected()) {
    debug('Transport is already connected');
    return;
  } else if (this.isConnecting()) {
    debug('Transport is connecting');
    return;
  }

  this.close_requested = false;
  this.status = C.STATUS_CONNECTING;
  this.onconnecting({ socket:this.socket, attempts:this.recover_attempts });

  if (!this.close_requested) {
    // bind socket event callbacks
    this.socket.onconnect     = onConnect.bind(this);
    this.socket.ondisconnect  = onDisconnect.bind(this);
    this.socket.ondata        = onData.bind(this);

    this.socket.connect();
  }

  return;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  // Consider the Replaces header present in the Refer-To URI
  if (request.refer_to.uri.hasHeader('replaces')) {
    replaces = decodeURIComponent(request.refer_to.uri.getHeader('replaces'));
    options.extraHeaders = options.extraHeaders || [];
    options.extraHeaders.push('Replaces: '+ replaces);
  }

  session.<span class="apidocCodeKeywordSpan">connect</span>(request.refer_to.uri.toAor(), options, initCallback);
}

function reject() {
  notifier.notify(603);
}

if (typeof request.refer_to === undefined) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Transport.prototype.disconnect" id="apidoc.element.jssip.Transport.prototype.disconnect">
        function <span class="apidocSignatureSpan">jssip.Transport.prototype.</span>disconnect
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">disconnect = function () {
  debug('close()');

  this.close_requested = true;
  this.recover_attempts = 0;
  this.status = C.STATUS_DISCONNECTED;

  // clear recovery_timer
  if (this.recovery_timer !== null) {
    clearTimeout(this.recovery_timer);
    this.recovery_timer = null;
  }

  // unbind socket event callbacks
  this.socket.onconnect     = function() {};
  this.socket.ondisconnect  = function() {};
  this.socket.ondata        = function() {};

  this.socket.disconnect();
  this.ondisconnect();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

// unbind socket event callbacks
this.socket.onconnect     = function() {};
this.socket.ondisconnect  = function() {};
this.socket.ondata        = function() {};

this.socket.<span class="apidocCodeKeywordSpan">disconnect</span>();
this.ondisconnect();
};

Transport.prototype.send = function(data) {
debug('send()');

if (!this.isConnected()) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Transport.prototype.isConnected" id="apidoc.element.jssip.Transport.prototype.isConnected">
        function <span class="apidocSignatureSpan">jssip.Transport.prototype.</span>isConnected
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isConnected = function () {
  return this.status === C.STATUS_CONNECTED;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
 * Instance Methods
 */

Transport.prototype.connect = function() {
debug('connect()');

if (this.<span class="apidocCodeKeywordSpan">isConnected</span>()) {
  debug('Transport is already connected');
  return;
} else if (this.isConnecting()) {
  debug('Transport is connecting');
  return;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Transport.prototype.isConnecting" id="apidoc.element.jssip.Transport.prototype.isConnecting">
        function <span class="apidocSignatureSpan">jssip.Transport.prototype.</span>isConnecting
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isConnecting = function () {
  return this.status === C.STATUS_CONNECTING;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Transport.prototype.connect = function() {
debug('connect()');

if (this.isConnected()) {
  debug('Transport is already connected');
  return;
} else if (this.<span class="apidocCodeKeywordSpan">isConnecting</span>()) {
  debug('Transport is connecting');
  return;
}

this.close_requested = false;
this.status = C.STATUS_CONNECTING;
this.onconnecting({ socket:this.socket, attempts:this.recover_attempts });
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Transport.prototype.send" id="apidoc.element.jssip.Transport.prototype.send">
        function <span class="apidocSignatureSpan">jssip.Transport.prototype.</span>send
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">send = function (data) {
  debug('send()');

  if (!this.isConnected()) {
    debugerror('unable to send message, transport is not connected');
    return false;
  }

  var message = data.toString();

  debug('sending message:\n\n' + message + '\n');
  return this.socket.send(message);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  var
    extraHeaders = options.extraHeaders &amp;&amp; options.extraHeaders.slice() || [],
    body = options.body || null,
    request = this.createRequest(method, extraHeaders, body),
    request_sender = new Dialog_RequestSender(this, applicant, request);

    request_sender.<span class="apidocCodeKeywordSpan">send</span>();

    // Return the instance of OutgoingRequest
    return request;
},

receiveRequest: function(request) {
  //Check in-dialog request
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jssip.UA" id="apidoc.module.jssip.UA">module jssip.UA</a></h1>


    <h2>
        <a href="#apidoc.element.jssip.UA.UA" id="apidoc.element.jssip.UA.UA">
        function <span class="apidocSignatureSpan">jssip.</span>UA
        <span class="apidocSignatureSpan">(configuration)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function UA(configuration) {
  debug('new() [configuration:%o]', configuration);

  this.cache = {
    credentials: {}
  };

  this.configuration = {};
  this.dynConfiguration = {};
  this.dialogs = {};

  //User actions outside any session/dialog (MESSAGE)
  this.applicants = {};

  this.sessions = {};
  this.transport = null;
  this.contact = null;
  this.status = C.STATUS_INIT;
  this.error = null;
  this.transactions = {
    nist: {},
    nict: {},
    ist: {},
    ict: {}
  };

  // Custom UA empty object for high level use
  this.data = {};

  this.closeTimer = null;

  Object.defineProperties(this, {
    transactionsCount: {
      get: function() {
        var type,
          transactions = ['nist','nict','ist','ict'],
          count = 0;

        for (type in transactions) {
          count += Object.keys(this.transactions[transactions[type]]).length;
        }

        return count;
      }
    },

    nictTransactionsCount: {
      get: function() {
        return Object.keys(this.transactions.nict).length;
      }
    },

    nistTransactionsCount: {
      get: function() {
        return Object.keys(this.transactions.nist).length;
      }
    },

    ictTransactionsCount: {
      get: function() {
        return Object.keys(this.transactions.ict).length;
      }
    },

    istTransactionsCount: {
      get: function() {
        return Object.keys(this.transactions.ist).length;
      }
    }
  });

<span class="apidocCodeCommentSpan">  /**
   * Load configuration
   */
</span>
  if(configuration === undefined) {
    throw new TypeError('Not enough arguments');
  }

  try {
    this.loadConfig(configuration);
  } catch(e) {
    this.status = C.STATUS_NOT_READY;
    this.error = C.CONFIGURATION_ERROR;
    throw e;
  }

  // Initialize registrator
  this._registrator = new Registrator(this);

  events.EventEmitter.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var socket = new JsSIP.WebSocketInterface('wss://sip.myhost.com');
var configuration = {
sockets  : [ socket ],
uri      : 'sip:alice@example.com',
password : 'superpassword'
};

var ua = new JsSIP.<span class="apidocCodeKeywordSpan">UA</span>(configuration);

ua.start();

// Register callbacks to desired call events
var eventHandlers = {
'progress': function(e) {
  console.log('call is in progress');
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.UA.super_" id="apidoc.element.jssip.UA.super_">
        function <span class="apidocSignatureSpan">jssip.UA.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitter() {
  EventEmitter.init.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>








</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jssip.UA.prototype" id="apidoc.module.jssip.UA.prototype">module jssip.UA.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jssip.UA.prototype.call" id="apidoc.element.jssip.UA.prototype.call">
        function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>call
        <span class="apidocSignatureSpan">(target, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">call = function (target, options) {
  debug('call()');

  var session;

  session = new RTCSession(this);
  session.connect(target, options);
  return session;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

var options = {
  'eventHandlers'    : eventHandlers,
  'mediaConstraints' : { 'audio': true, 'video': true }
};

var session = ua.<span class="apidocCodeKeywordSpan">call</span>('sip:bob@example.com', options);
```

Want to see more? Check the full documentation at http://jssip.net/documentation/.


## Online Demo
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.UA.prototype.destroyTransaction" id="apidoc.element.jssip.UA.prototype.destroyTransaction">
        function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>destroyTransaction
        <span class="apidocSignatureSpan">(transaction)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">destroyTransaction = function (transaction) {
  delete this.transactions[transaction.type][transaction.id];
    this.emit('transactionDestroyed', {
    transaction: transaction
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

NonInviteClientTransaction.prototype.onTransportError = function() {
debugnict('transport error occurred, deleting transaction ' + this.id);
clearTimeout(this.F);
clearTimeout(this.K);
this.stateChanged(C.STATUS_TERMINATED);
this.request_sender.ua.<span class="apidocCodeKeywordSpan">destroyTransaction</span>(this);
this.request_sender.onTransportError();
};

NonInviteClientTransaction.prototype.timer_F = function() {
debugnict('Timer F expired for transaction ' + this.id);
this.stateChanged(C.STATUS_TERMINATED);
this.request_sender.ua.destroyTransaction(this);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.UA.prototype.findDialog" id="apidoc.element.jssip.UA.prototype.findDialog">
        function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>findDialog
        <span class="apidocSignatureSpan">(call_id, from_tag, to_tag)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">findDialog = function (call_id, from_tag, to_tag) {
  var
  id = call_id + from_tag + to_tag,
  dialog = this.dialogs[id];

  if(dialog) {
    return dialog;
  } else {
    id = call_id + to_tag + from_tag;
    dialog = this.dialogs[id];
    if(dialog) {
      return dialog;
    } else {
      return null;
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.UA.prototype.findSession" id="apidoc.element.jssip.UA.prototype.findSession">
        function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>findSession
        <span class="apidocSignatureSpan">(request)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">findSession = function (request) {
  var
  sessionIDa = request.call_id + request.from_tag,
  sessionA = this.sessions[sessionIDa],
  sessionIDb = request.call_id + request.to_tag,
  sessionB = this.sessions[sessionIDb];

  if(sessionA) {
    return sessionA;
  } else if(sessionB) {
    return sessionB;
  } else {
    return null;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.UA.prototype.get" id="apidoc.element.jssip.UA.prototype.get">
        function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>get
        <span class="apidocSignatureSpan">(parameter)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">get = function (parameter) {
  switch(parameter) {
    case 'realm':
      return this.configuration.realm;

    case 'ha1':
      return this.configuration.ha1;

    default:
      debugerror('get() | cannot get "%s" parameter in runtime', parameter);
      return undefined;
  }

  return true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (!this.auth.authenticate(this.request, challenge)) {
  this.applicant.receiveResponse(response);
  return;
}
this.challenged = true;

// Update ha1 and realm in the UA.
this.ua.set('realm', this.auth.<span class="apidocCodeKeywordSpan">get</span>('realm'));
this.ua.set('ha1', this.auth.get('ha1'));

if (challenge.stale) {
  this.staled = true;
}

if (response.method === JsSIP_C.REGISTER) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.UA.prototype.isConnected" id="apidoc.element.jssip.UA.prototype.isConnected">
        function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>isConnected
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isConnected = function () {
  return this.transport.isConnected();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
 * Instance Methods
 */

Transport.prototype.connect = function() {
debug('connect()');

if (this.<span class="apidocCodeKeywordSpan">isConnected</span>()) {
  debug('Transport is already connected');
  return;
} else if (this.isConnecting()) {
  debug('Transport is connecting');
  return;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.UA.prototype.isRegistered" id="apidoc.element.jssip.UA.prototype.isRegistered">
        function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>isRegistered
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isRegistered = function () {
  if(this._registrator.registered) {
    return true;
  } else {
    return false;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.UA.prototype.loadConfig" id="apidoc.element.jssip.UA.prototype.loadConfig">
        function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>loadConfig
        <span class="apidocSignatureSpan">(configuration)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">loadConfig = function (configuration) {
  // Settings and default values
  var parameter, value, checked_value, hostport_params, registrar_server,
  settings = {
<span class="apidocCodeCommentSpan">    /* Host address
    * Value to be set in Via sent_by and host part of Contact FQDN
    */
</span>    via_host: Utils.createRandomToken(12) + '.invalid',

    // SIP Contact URI
    contact_uri: null,

    // SIP authentication password
    password: null,

    // SIP authentication realm
    realm: null,

    // SIP authentication HA1 hash
    ha1: null,

    // Registration parameters
    register_expires: 600,
    register: true,
    registrar_server: null,

    use_preloaded_route: false,

    // Session parameters
    no_answer_timeout: 60,
    session_timers: true,
  };

  // Pre-Configuration

  // Check Mandatory parameters
  for(parameter in UA.configuration_check.mandatory) {
    if(!configuration.hasOwnProperty(parameter)) {
      throw new Exceptions.ConfigurationError(parameter);
    } else {
      value = configuration[parameter];
      checked_value = UA.configuration_check.mandatory[parameter].call(this, value);
      if (checked_value !== undefined) {
        settings[parameter] = checked_value;
      } else {
        throw new Exceptions.ConfigurationError(parameter, value);
      }
    }
  }

  // Check Optional parameters
  for(parameter in UA.configuration_check.optional) {
    if(configuration.hasOwnProperty(parameter)) {
      value = configuration[parameter];

      /* If the parameter value is null, empty string, undefined, empty array
       * or it's a number with NaN value, then apply its default value.
       */
      if (Utils.isEmpty(value)) {
        continue;
      }

      checked_value = UA.configuration_check.optional[parameter].call(this, value, configuration);
      if (checked_value !== undefined) {
        settings[parameter] = checked_value;
      } else {
        throw new Exceptions.ConfigurationError(parameter, value);
      }
    }
  }

  // Post Configuration Process

  // Allow passing 0 number as display_name.
  if (settings.display_name === 0) {
    settings.display_name = '0';
  }

  // Instance-id for GRUU.
  if (!settings.instance_id) {
    settings.instance_id = Utils.newUUID();
  }

  // jssip_id instance parameter. Static random tag of length 5.
  settings.jssip_id = Utils.createRandomToken(5);

  // String containing settings.uri without scheme and user.
  hostport_params = settings.uri.clone();
  hostport_params.user = null;
  settings.hostport_params = hostport_params.toString().replace(/^sip:/i, '');

  // Transport
  var sockets = [];

  if (settings.sockets &amp;&amp; Array.isArray(settings.sockets)) {
    sockets = sockets.concat(settings.sockets);
  }

  if (sockets.length === 0) {
    throw new Exceptions.ConfigurationError('sockets');
  }

  try {
    this.transport = new Transport(sockets, { /* recovery options */
      max_interval: settings.connection_recovery_max_interval,
      min_interval: settings.connection_recovery_min_interval
    });

    // Transport event callbacks
    this.transport.onconnecting = onTransportConnecting.bind(this);
    this.transport.onconnect    = onTransportConnect.bind(this);
    this.transport.ondisconnect = onTransportDisconnect.bind(this);
    this.transport.ondata       = onTransportData.bind(this);

    // transport options not needed here anymore
    delete settings.connection_recovery_max_interval;
    delete settings.connection_recovery_min_interval;
    delete settings.sockets;
  } catch (e) {
    debugerror(e);
    throw new Exceptions.ConfigurationError('sockets', sockets);
  }

  // Check whether authorization_user is explicitly defined.
  // Take 'settings.uri.user' value if not.
  if (!settings.authorization_user) {
    settings.authorization_user = settings.uri.user;
  }

  // If no 'registrar_server' is set use the 'uri' value without user portion and
  // without URI params/headers.
  if (!settings.registrar_server) {
    registrar_server = settings.uri.clone();
    registrar_server.user = null;
    registrar_server.clearParams();
    registrar_server.clearHeaders();
    s ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.UA.prototype.newMessage" id="apidoc.element.jssip.UA.prototype.newMessage">
        function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>newMessage
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">newMessage = function (data) {
  this.emit('newMessage', data);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this.content = body;
} else {
  this.content = null;
}

request_sender = new RequestSender(this, this.ua);

this.<span class="apidocCodeKeywordSpan">newMessage</span>('local', this.request);

request_sender.send();
};

Message.prototype.receiveResponse = function(response) {
var cause;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.UA.prototype.newRTCSession" id="apidoc.element.jssip.UA.prototype.newRTCSession">
        function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>newRTCSession
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">newRTCSession = function (data) {
  this.emit('newRTCSession', data);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }
  }
}

function newRTCSession(originator, request) {
  debug('newRTCSession()');

  this.ua.<span class="apidocCodeKeywordSpan">newRTCSession</span>({
    originator: originator,
    session: this,
    request: request
  });
}

function connecting(request) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.UA.prototype.newTransaction" id="apidoc.element.jssip.UA.prototype.newTransaction">
        function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>newTransaction
        <span class="apidocSignatureSpan">(transaction)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">newTransaction = function (transaction) {
  this.transactions[transaction.type][transaction.id] = transaction;
    this.emit('newTransaction', {
    transaction: transaction
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this.request = request;

  via = 'SIP/2.0/' + transport.via_transport;
  via += ' ' + request_sender.ua.configuration.via_host + ';branch=' + this.id;

  this.request.setHeader('via', via);

  this.request_sender.ua.<span class="apidocCodeKeywordSpan">newTransaction</span>(this);

  events.EventEmitter.call(this);
}

util.inherits(NonInviteClientTransaction, events.EventEmitter);

NonInviteClientTransaction.prototype.stateChanged = function(state) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.UA.prototype.normalizeTarget" id="apidoc.element.jssip.UA.prototype.normalizeTarget">
        function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>normalizeTarget
        <span class="apidocSignatureSpan">(target)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">normalizeTarget = function (target) {
  return Utils.normalizeTarget(target, this.configuration.hostport_params);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  originalTarget = target;

if (target === undefined || body === undefined) {
  throw new TypeError('Not enough arguments');
}

// Check target validity
target = this.ua.<span class="apidocCodeKeywordSpan">normalizeTarget</span>(target);
if (!target) {
  throw new TypeError('Invalid target: '+ originalTarget);
}

// Get call options
options = options || {};
extraHeaders = options.extraHeaders &amp;&amp; options.extraHeaders.slice() || [];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.UA.prototype.receiveRequest" id="apidoc.element.jssip.UA.prototype.receiveRequest">
        function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>receiveRequest
        <span class="apidocSignatureSpan">(request)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">receiveRequest = function (request) {
  var dialog, session, message, replaces,
  method = request.method;

  // Check that request URI points to us
  if(request.ruri.user !== this.configuration.uri.user &amp;&amp; request.ruri.user !== this.contact.uri.user) {
    debug('Request-URI does not point to us');
    if (request.method !== JsSIP_C.ACK) {
      request.reply_sl(404);
    }
    return;
    }

    // Check request URI scheme
    if(request.ruri.scheme === JsSIP_C.SIPS) {
    request.reply_sl(416);
    return;
  }

  // Check transaction
  if(Transactions.checkTransaction(this, request)) {
    return;
  }

  // Create the server transaction
  if(method === JsSIP_C.INVITE) {
    new Transactions.InviteServerTransaction(request, this);
  } else if(method !== JsSIP_C.ACK &amp;&amp; method !== JsSIP_C.CANCEL) {
    new Transactions.NonInviteServerTransaction(request, this);
  }

<span class="apidocCodeCommentSpan">  /* RFC3261 12.2.2
   * Requests that do not change in any way the state of a dialog may be
   * received within a dialog (for example, an OPTIONS request).
   * They are processed as if they had been received outside the dialog.
   */
</span>  if(method === JsSIP_C.OPTIONS) {
    request.reply(200);
  } else if (method === JsSIP_C.MESSAGE) {
    if (this.listeners('newMessage').length === 0) {
      request.reply(405);
      return;
    }
    message = new Message(this);
    message.init_incoming(request);
  } else if (method === JsSIP_C.INVITE) {
    // Initial INVITE
    if(!request.to_tag &amp;&amp; this.listeners('newRTCSession').length === 0) {
      request.reply(405);
      return;
    }
  }

  // Initial Request
  if(!request.to_tag) {
    switch(method) {
      case JsSIP_C.INVITE:
        if (window.RTCPeerConnection) { // TODO
          if (request.hasHeader('replaces')) {
            replaces = request.replaces;
            dialog = this.findDialog(replaces.call_id, replaces.from_tag, replaces.to_tag);
            if (dialog) {
              session = dialog.owner;
              if (!session.isEnded()) {
                session.receiveRequest(request);
              } else {
                request.reply(603);
              }
            } else {
              request.reply(481);
            }
          } else {
            session = new RTCSession(this);
            session.init_incoming(request);
          }
        } else {
          debugerror('INVITE received but WebRTC is not supported');
          request.reply(488);
        }
        break;
      case JsSIP_C.BYE:
        // Out of dialog BYE received
        request.reply(481);
        break;
        case JsSIP_C.CANCEL:
        session = this.findSession(request);
        if (session) {
          session.receiveRequest(request);
        } else {
          debug('received CANCEL request for a non existent session');
        }
        break;
      case JsSIP_C.ACK:
        /* Absorb it.
         * ACK request without a corresponding Invite Transaction
         * and without To tag.
         */
        break;
        default:
        request.reply(405);
        break;
    }
  }
  // In-dialog request
  else {
    dialog = this.findDialog(request.call_id, request.from_tag, request.to_tag);

    if(dialog) {
      dialog.receiveRequest(request);
    } else if (method === JsSIP_C.NOTIFY) {
      session = this.findSession(request);
      if(session) {
        session.receiveRequest(request);
      } else {
        debug('received NOTIFY request for a non existent subscription');
        request.reply(481, 'Subscription does not exist');
      }
    }
    /* RFC3261 12.2.2
     * Request with to tag, but no matching dialog found.
     * Exception: ACK for an Invite request for which a dialog has not
     * been created.
     */
    else {
      if(method !== JsSIP_C.ACK) {
        request.reply(481);
      }
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  receiveRequest: function(request) {
    //Check in-dialog request
    if(!this.checkInDialogRequest(request)) {
      return;
    }

    this.owner.<span class="apidocCodeKeywordSpan">receiveRequest</span>(request);
  }
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.UA.prototype.register" id="apidoc.element.jssip.UA.prototype.register">
        function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>register
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">register = function () {
  debug('register()');

  this.dynConfiguration.register = true;
  this._registrator.register();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  expires = this.expires;
}

// Re-Register before the expiration interval has elapsed.
// For that, decrease the expires value. ie: 3 seconds
this.registrationTimer = setTimeout(function() {
  self.registrationTimer = null;
  self.<span class="apidocCodeKeywordSpan">register</span>();
}, (expires * 1000) - 3000);

//Save gruu values
if (contact.hasParam('temp-gruu')) {
  this.ua.contact.temp_gruu = contact.getParam('temp-gruu').replace(/"/g,'');
}
if (contact.hasParam('pub-gruu')) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.UA.prototype.registered" id="apidoc.element.jssip.UA.prototype.registered">
        function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>registered
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">registered = function (data) {
  this.emit('registered', data);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
  if (contact.hasParam('pub-gruu')) {
    this.ua.contact.pub_gruu = contact.getParam('pub-gruu').replace(/"/g,'');
  }

  if (! this.registered) {
    this.registered = true;
    this.ua.<span class="apidocCodeKeywordSpan">registered</span>({
      response: response
    });
  }
  break;
// Interval too brief RFC3261 10.2.8
case /^423$/.test(response.status_code):
  if(response.hasHeader('min-expires')) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.UA.prototype.registrationFailed" id="apidoc.element.jssip.UA.prototype.registrationFailed">
        function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>registrationFailed
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">registrationFailed = function (data) {
  this.emit('registrationFailed', data);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this.unregistered(null, JsSIP_C.causes.CONNECTION_ERROR);
};

request_sender.send();
  },

  registrationFailure: function(response, cause) {
this.ua.<span class="apidocCodeKeywordSpan">registrationFailed</span>({
  response: response || null,
  cause: cause
});

if (this.registered) {
  this.registered = false;
  this.ua.unregistered({
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.UA.prototype.registrator" id="apidoc.element.jssip.UA.prototype.registrator">
        function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>registrator
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">registrator = function () {
  return this._registrator;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.UA.prototype.sendMessage" id="apidoc.element.jssip.UA.prototype.sendMessage">
        function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>sendMessage
        <span class="apidocSignatureSpan">(target, body, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sendMessage = function (target, body, options) {
  debug('sendMessage()');

  var message;

  message = new Message(this);
  message.send(target, body, options);
  return message;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.UA.prototype.set" id="apidoc.element.jssip.UA.prototype.set">
        function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>set
        <span class="apidocSignatureSpan">(parameter, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">set = function (parameter, value) {
  switch(parameter) {
    case 'password': {
      this.configuration.password = String(value);
      break;
    }

    case 'realm': {
      this.configuration.realm = String(value);
      break;
    }

    case 'ha1': {
      this.configuration.ha1 = String(value);
      // Delete the plain SIP password.
      this.configuration.password = null;
      break;
    }

    case 'display_name': {
      if (Grammar.parse('"' + value + '"', 'display_name') === -1) {
        debugerror('set() | wrong "display_name"');
        return false;
      }
      this.configuration.display_name = value;
      break;
    }

    default:
      debugerror('set() | cannot set "%s" parameter in runtime', parameter);
      return false;
  }

  return true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (!this.auth.authenticate(this.request, challenge)) {
  this.applicant.receiveResponse(response);
  return;
}
this.challenged = true;

// Update ha1 and realm in the UA.
this.ua.<span class="apidocCodeKeywordSpan">set</span>('realm', this.auth.get('realm'));
this.ua.set('ha1', this.auth.get('ha1'));

if (challenge.stale) {
  this.staled = true;
}

if (response.method === JsSIP_C.REGISTER) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.UA.prototype.start" id="apidoc.element.jssip.UA.prototype.start">
        function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>start
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">start = function () {
  debug('start()');

  if (this.status === C.STATUS_INIT) {
    this.transport.connect();
  } else if(this.status === C.STATUS_USER_CLOSED) {
    debug('restarting UA');

    // disconnect
    if (this.closeTimer !== null) {
      clearTimeout(this.closeTimer);
      this.closeTimer = null;
      this.transport.disconnect();
    }

    // reconnect
    this.status = C.STATUS_INIT;
    this.transport.connect();
  } else if (this.status === C.STATUS_READY) {
    debug('UA is in READY status, not restarted');
  } else {
    debug('ERROR: connection is down, Auto-Recovery system is trying to reconnect');
  }

  // Set dynamic configuration.
  this.dynConfiguration.register = this.configuration.register;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
sockets  : [ socket ],
uri      : 'sip:alice@example.com',
password : 'superpassword'
};

var ua = new JsSIP.UA(configuration);

ua.<span class="apidocCodeKeywordSpan">start</span>();

// Register callbacks to desired call events
var eventHandlers = {
'progress': function(e) {
  console.log('call is in progress');
},
'failed': function(e) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.UA.prototype.stop" id="apidoc.element.jssip.UA.prototype.stop">
        function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>stop
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">stop = function () {
  debug('stop()');

  var session;
  var applicant;
  var num_sessions;
  var ua = this;

  // Remove dynamic settings.
  this.dynConfiguration = {};

  if(this.status === C.STATUS_USER_CLOSED) {
    debug('UA already closed');
    return;
  }

  // Close registrator
  this._registrator.close();

  // If there are session wait a bit so CANCEL/BYE can be sent and their responses received.
  num_sessions = Object.keys(this.sessions).length;

  // Run  _terminate_ on every Session
  for(session in this.sessions) {
    debug('closing session ' + session);
    try { this.sessions[session].terminate(); } catch(error) {}
  }

  // Run  _close_ on every applicant
  for(applicant in this.applicants) {
    try { this.applicants[applicant].close(); } catch(error) {}
  }

  this.status = C.STATUS_USER_CLOSED;

  if (this.nistTransactionsCount  === 0 &amp;&amp;
      this.nictTransactionsCount  === 0 &amp;&amp;
      this.ictTransactionsCount   === 0 &amp;&amp;
      this.istTransactionsCount   === 0 &amp;&amp;
      num_sessions === 0) {
    ua.transport.disconnect();
  }
  else {
    this.closeTimer = setTimeout(function() {
      ua.closeTimer = null;
      ua.transport.disconnect();
    }, 2000);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.UA.prototype.terminateSessions" id="apidoc.element.jssip.UA.prototype.terminateSessions">
        function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>terminateSessions
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">terminateSessions = function (options) {
  debug('terminateSessions()');

  for(var idx in this.sessions) {
    if (!this.sessions[idx].isEnded()) {
      this.sessions[idx].terminate(options);
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.UA.prototype.unregister" id="apidoc.element.jssip.UA.prototype.unregister">
        function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>unregister
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unregister = function (options) {
  debug('unregister()');

  this.dynConfiguration.register = false;
  this._registrator.unregister(options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      this.registered = false;
      this.ua.unregistered({});
    }
  },

  close: function() {
    if (this.registered) {
      this.<span class="apidocCodeKeywordSpan">unregister</span>();
    }
  }
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.UA.prototype.unregistered" id="apidoc.element.jssip.UA.prototype.unregistered">
        function <span class="apidocSignatureSpan">jssip.UA.prototype.</span>unregistered
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unregistered = function (data) {
  this.emit('unregistered', data);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var cause;

  switch(true) {
    case /^1[0-9]{2}$/.test(response.status_code):
      // Ignore provisional responses.
      break;
    case /^2[0-9]{2}$/.test(response.status_code):
      this.<span class="apidocCodeKeywordSpan">unregistered</span>(response);
      break;
    default:
      cause = Utils.sipErrorCause(response.status_code);
      this.unregistered(response, cause);
  }
};
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jssip.URI" id="apidoc.module.jssip.URI">module jssip.URI</a></h1>


    <h2>
        <a href="#apidoc.element.jssip.URI.URI" id="apidoc.element.jssip.URI.URI">
        function <span class="apidocSignatureSpan">jssip.</span>URI
        <span class="apidocSignatureSpan">(scheme, user, host, port, parameters, headers)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function URI(scheme, user, host, port, parameters, headers) {
  var param, header;

  // Checks
  if(!host) {
    throw new TypeError('missing or invalid "host" parameter');
  }

  // Initialize parameters
  scheme = scheme || JsSIP_C.SIP;
  this.parameters = {};
  this.headers = {};

  for (param in parameters) {
    this.setParam(param, parameters[param]);
  }

  for (header in headers) {
    this.setHeader(header, headers[header]);
  }

  Object.defineProperties(this, {
    scheme: {
      get: function(){ return scheme; },
      set: function(value){
        scheme = value.toLowerCase();
      }
    },

    user: {
      get: function(){ return user; },
      set: function(value){
        user = value;
      }
    },

    host: {
      get: function(){ return host; },
      set: function(value){
        host = value.toLowerCase();
      }
    },

    port: {
      get: function(){ return port; },
      set: function(value){
        port = value === 0 ? value : (parseInt(value,10) || null);
      }
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.URI.parse" id="apidoc.element.jssip.URI.parse">
        function <span class="apidocSignatureSpan">jssip.URI.</span>parse
        <span class="apidocSignatureSpan">(uri)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parse = function (uri) {
  uri = Grammar.parse(uri,'SIP_URI');

  if (uri !== -1) {
    return uri;
  } else {
    return undefined;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
parsed = message.parseHeader('to');
if(parsed) {
  message.to = parsed;
  message.to_tag = parsed.getParam('tag');
}
break;
    case 'record-route':
parsed = Grammar.<span class="apidocCodeKeywordSpan">parse</span>(headerValue, 'Record_Route');

if (parsed === -1) {
  parsed = undefined;
} else {
  length = parsed.length;
  for (idx = 0; idx &lt; length; idx++) {
    header = parsed[idx];
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jssip.URI.prototype" id="apidoc.module.jssip.URI.prototype">module jssip.URI.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jssip.URI.prototype.clearHeaders" id="apidoc.element.jssip.URI.prototype.clearHeaders">
        function <span class="apidocSignatureSpan">jssip.URI.prototype.</span>clearHeaders
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clearHeaders = function () {
  this.headers = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.URI.prototype.clearParams" id="apidoc.element.jssip.URI.prototype.clearParams">
        function <span class="apidocSignatureSpan">jssip.URI.prototype.</span>clearParams
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clearParams = function () {
  this.parameters = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.URI.prototype.clone" id="apidoc.element.jssip.URI.prototype.clone">
        function <span class="apidocSignatureSpan">jssip.URI.prototype.</span>clone
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clone = function () {
  return new URI(
    this.scheme,
    this.user,
    this.host,
    this.port,
    JSON.parse(JSON.stringify(this.parameters)),
    JSON.parse(JSON.stringify(this.headers)));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    cseq = this.applicant.cseq += 1;
  } else if (this.request.dialog) {
    cseq = this.request.dialog.local_seqnum += 1;
  } else {
    cseq = this.request.cseq + 1;
  }

  this.request = this.applicant.request = this.request.<span class="apidocCodeKeywordSpan">clone</span>();

  this.request.cseq = cseq;
  this.request.setHeader('cseq', cseq +' '+ this.method);

  this.request.setHeader(authorization_header_name, this.auth.toString());
  this.send();
} else {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.URI.prototype.deleteHeader" id="apidoc.element.jssip.URI.prototype.deleteHeader">
        function <span class="apidocSignatureSpan">jssip.URI.prototype.</span>deleteHeader
        <span class="apidocSignatureSpan">(header)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deleteHeader = function (header) {
  var value;
  header = Utils.headerize(header);
  if(this.headers.hasOwnProperty(header)) {
    value = this.headers[header];
    delete this.headers[header];
    return value;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.URI.prototype.deleteParam" id="apidoc.element.jssip.URI.prototype.deleteParam">
        function <span class="apidocSignatureSpan">jssip.URI.prototype.</span>deleteParam
        <span class="apidocSignatureSpan">(parameter)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deleteParam = function (parameter) {
  var value;
  parameter = parameter.toLowerCase();
  if (this.parameters.hasOwnProperty(parameter)) {
    value = this.parameters[parameter];
    delete this.parameters[parameter];
    return value;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.URI.prototype.getHeader" id="apidoc.element.jssip.URI.prototype.getHeader">
        function <span class="apidocSignatureSpan">jssip.URI.prototype.</span>getHeader
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getHeader = function (name) {
  if(name) {
    return this.headers[Utils.headerize(name)];
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
delete this.ua.applicants[this];
};

Message.prototype.init_incoming = function(request) {
var transaction;

this.request = request;
this.content_type = request.<span class="apidocCodeKeywordSpan">getHeader</span>('Content-Type');

if (request.body) {
  this.content = request.body;
} else {
  this.content = null;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.URI.prototype.getParam" id="apidoc.element.jssip.URI.prototype.getParam">
        function <span class="apidocSignatureSpan">jssip.URI.prototype.</span>getParam
        <span class="apidocSignatureSpan">(key)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getParam = function (key) {
  if(key) {
    return this.parameters[key.toLowerCase()];
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  break;
case 'from':
case 'f':
  message.setHeader('from', headerValue);
  parsed = message.parseHeader('from');
  if(parsed) {
    message.from = parsed;
    message.from_tag = parsed.<span class="apidocCodeKeywordSpan">getParam</span>('tag');
  }
  break;
case 'to':
case 't':
  message.setHeader('to', headerValue);
  parsed = message.parseHeader('to');
  if(parsed) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.URI.prototype.hasHeader" id="apidoc.element.jssip.URI.prototype.hasHeader">
        function <span class="apidocSignatureSpan">jssip.URI.prototype.</span>hasHeader
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hasHeader = function (name) {
  if(name) {
    return (this.headers.hasOwnProperty(Utils.headerize(name)) &amp;&amp; true) || false;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// RFC 3261 12.1
function Dialog(owner, message, type, state) {
var contact;

this.uac_pending_reply = false;
this.uas_pending_reply = false;

if(!message.<span class="apidocCodeKeywordSpan">hasHeader</span>('contact')) {
  return {
    error: 'unable to create a Dialog without Contact header field'
  };
}

if(message instanceof SIPMessage.IncomingResponse) {
  state = (message.status_code &lt; 200) ? C.STATUS_EARLY : C.STATUS_CONFIRMED;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.URI.prototype.hasParam" id="apidoc.element.jssip.URI.prototype.hasParam">
        function <span class="apidocSignatureSpan">jssip.URI.prototype.</span>hasParam
        <span class="apidocSignatureSpan">(key)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hasParam = function (key) {
  if(key) {
    return (this.parameters.hasOwnProperty(key.toLowerCase()) &amp;&amp; true) || false;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// For that, decrease the expires value. ie: 3 seconds
this.registrationTimer = setTimeout(function() {
  self.registrationTimer = null;
  self.register();
}, (expires * 1000) - 3000);

//Save gruu values
if (contact.<span class="apidocCodeKeywordSpan">hasParam</span>('temp-gruu')) {
  this.ua.contact.temp_gruu = contact.getParam('temp-gruu').replace(/"/g,'');
}
if (contact.hasParam('pub-gruu')) {
  this.ua.contact.pub_gruu = contact.getParam('pub-gruu').replace(/"/g,'');
}

if (! this.registered) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.URI.prototype.setHeader" id="apidoc.element.jssip.URI.prototype.setHeader">
        function <span class="apidocSignatureSpan">jssip.URI.prototype.</span>setHeader
        <span class="apidocSignatureSpan">(name, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setHeader = function (name, value) {
  this.headers[Utils.headerize(name)] = (Array.isArray(value)) ? value : [value];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }
  } else {
    parsed = 0;
  }
  break;
case 'from':
case 'f':
  message.<span class="apidocCodeKeywordSpan">setHeader</span>('from', headerValue);
  parsed = message.parseHeader('from');
  if(parsed) {
    message.from = parsed;
    message.from_tag = parsed.getParam('tag');
  }
  break;
case 'to':
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.URI.prototype.setParam" id="apidoc.element.jssip.URI.prototype.setParam">
        function <span class="apidocSignatureSpan">jssip.URI.prototype.</span>setParam
        <span class="apidocSignatureSpan">(key, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setParam = function (key, value) {
  if(key) {
    this.parameters[key.toLowerCase()] = (typeof value === 'undefined' || value === null) ? null : value.toString();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.URI.prototype.toAor" id="apidoc.element.jssip.URI.prototype.toAor">
        function <span class="apidocSignatureSpan">jssip.URI.prototype.</span>toAor
        <span class="apidocSignatureSpan">(show_port)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toAor = function (show_port){
    var aor;

    aor  = this.scheme + ':';
    if (this.user) {
      aor += Utils.escapeUser(this.user) + '@';
    }
    aor += this.host;
    if (show_port &amp;&amp; (this.port || this.port === 0)) {
      aor += ':' + this.port;
    }

    return aor;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  // Consider the Replaces header present in the Refer-To URI
  if (request.refer_to.uri.hasHeader('replaces')) {
    replaces = decodeURIComponent(request.refer_to.uri.getHeader('replaces'));
    options.extraHeaders = options.extraHeaders || [];
    options.extraHeaders.push('Replaces: '+ replaces);
  }

  session.connect(request.refer_to.uri.<span class="apidocCodeKeywordSpan">toAor</span>(), options, initCallback);
}

function reject() {
  notifier.notify(603);
}

if (typeof request.refer_to === undefined) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.URI.prototype.toString" id="apidoc.element.jssip.URI.prototype.toString">
        function <span class="apidocSignatureSpan">jssip.URI.prototype.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toString = function (){
  var header, parameter, idx, uri,
    headers = [];

  uri  = this.scheme + ':';
  if (this.user) {
    uri += Utils.escapeUser(this.user) + '@';
  }
  uri += this.host;
  if (this.port || this.port === 0) {
    uri += ':' + this.port;
  }

  for (parameter in this.parameters) {
    uri += ';' + parameter;

    if (this.parameters[parameter] !== null) {
      uri += '='+ this.parameters[parameter];
    }
  }

  for(header in this.headers) {
    for(idx = 0; idx &lt; this.headers[header].length; idx++) {
      headers.push(header + '=' + this.headers[header][idx]);
    }
  }

  if (headers.length &gt; 0) {
    uri += '?' + headers.join('&amp;');
  }

  return uri;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this.local_uri = message.parseHeader('from').uri;
  this.remote_uri = message.parseHeader('to').uri;
  this.remote_target = contact.uri;
  this.route_set = message.getHeaders('record-route').reverse();
}

this.owner = owner;
owner.ua.dialogs[this.id.<span class="apidocCodeKeywordSpan">toString</span>()] = this;
debug('new ' + type + ' dialog created with status ' + (this.state === C.STATUS_EARLY ? 'EARLY': &amp;#
x27;CONFIRMED'));
}


Dialog.prototype = {
update: function(message, type) {
  this.state = C.STATUS_CONFIRMED;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jssip.Utils" id="apidoc.module.jssip.Utils">module jssip.Utils</a></h1>


    <h2>
        <a href="#apidoc.element.jssip.Utils.calculateMD5" id="apidoc.element.jssip.Utils.calculateMD5">
        function <span class="apidocSignatureSpan">jssip.Utils.</span>calculateMD5
        <span class="apidocSignatureSpan">(string)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">calculateMD5 = function (string) {
  function rotateLeft(lValue, iShiftBits) {
    return (lValue&lt;&lt;iShiftBits) | (lValue&gt;&gt;&gt;(32-iShiftBits));
  }

  function addUnsigned(lX,lY) {
    var lX4,lY4,lX8,lY8,lResult;
    lX8 = (lX &amp; 0x80000000);
    lY8 = (lY &amp; 0x80000000);
    lX4 = (lX &amp; 0x40000000);
    lY4 = (lY &amp; 0x40000000);
    lResult = (lX &amp; 0x3FFFFFFF)+(lY &amp; 0x3FFFFFFF);
    if (lX4 &amp; lY4) {
      return (lResult ^ 0x80000000 ^ lX8 ^ lY8);
    }
    if (lX4 | lY4) {
      if (lResult &amp; 0x40000000) {
        return (lResult ^ 0xC0000000 ^ lX8 ^ lY8);
      } else {
        return (lResult ^ 0x40000000 ^ lX8 ^ lY8);
      }
    } else {
      return (lResult ^ lX8 ^ lY8);
    }
  }

  function doF(x,y,z) {
    return (x &amp; y) | ((~x) &amp; z);
  }

  function doG(x,y,z) {
    return (x &amp; z) | (y &amp; (~z));
  }

  function doH(x,y,z) {
    return (x ^ y ^ z);
  }

  function doI(x,y,z) {
    return (y ^ (x | (~z)));
  }

  function doFF(a,b,c,d,x,s,ac) {
    a = addUnsigned(a, addUnsigned(addUnsigned(doF(b, c, d), x), ac));
    return addUnsigned(rotateLeft(a, s), b);
  }

  function doGG(a,b,c,d,x,s,ac) {
    a = addUnsigned(a, addUnsigned(addUnsigned(doG(b, c, d), x), ac));
    return addUnsigned(rotateLeft(a, s), b);
  }

  function doHH(a,b,c,d,x,s,ac) {
    a = addUnsigned(a, addUnsigned(addUnsigned(doH(b, c, d), x), ac));
    return addUnsigned(rotateLeft(a, s), b);
  }

  function doII(a,b,c,d,x,s,ac) {
    a = addUnsigned(a, addUnsigned(addUnsigned(doI(b, c, d), x), ac));
    return addUnsigned(rotateLeft(a, s), b);
  }

  function convertToWordArray(string) {
    var lWordCount;
    var lMessageLength = string.length;
    var lNumberOfWords_temp1=lMessageLength + 8;
    var lNumberOfWords_temp2=(lNumberOfWords_temp1-(lNumberOfWords_temp1 % 64))/64;
    var lNumberOfWords = (lNumberOfWords_temp2+1)*16;
    var lWordArray = new Array(lNumberOfWords-1);
    var lBytePosition = 0;
    var lByteCount = 0;
    while ( lByteCount &lt; lMessageLength ) {
      lWordCount = (lByteCount-(lByteCount % 4))/4;
      lBytePosition = (lByteCount % 4)*8;
      lWordArray[lWordCount] = (lWordArray[lWordCount] | (string.charCodeAt(lByteCount)&lt;&lt;lBytePosition));
      lByteCount++;
    }
    lWordCount = (lByteCount-(lByteCount % 4))/4;
    lBytePosition = (lByteCount % 4)*8;
    lWordArray[lWordCount] = lWordArray[lWordCount] | (0x80&lt;&lt;lBytePosition);
    lWordArray[lNumberOfWords-2] = lMessageLength&lt;&lt;3;
    lWordArray[lNumberOfWords-1] = lMessageLength&gt;&gt;&gt;29;
    return lWordArray;
  }

  function wordToHex(lValue) {
    var wordToHexValue='',wordToHexValue_temp='',lByte,lCount;
    for (lCount = 0;lCount&lt;=3;lCount++) {
      lByte = (lValue&gt;&gt;&gt;(lCount*8)) &amp; 255;
      wordToHexValue_temp = '0' + lByte.toString(16);
      wordToHexValue = wordToHexValue + wordToHexValue_temp.substr(wordToHexValue_temp.length-2,2);
    }
    return wordToHexValue;
  }

  function utf8Encode(string) {
    string = string.replace(/\r\n/g, '\n');
    var utftext = '';

    for (var n = 0; n &lt; string.length; n++) {
      var c = string.charCodeAt(n);

      if (c &lt; 128) {
        utftext += String.fromCharCode(c);
      }
      else if((c &gt; 127) &amp;&amp; (c &lt; 2048)) {
        utftext += String.fromCharCode((c &gt;&gt; 6) | 192);
        utftext += String.fromCharCode((c &amp; 63) | 128);
      }
      else {
        utftext += String.fromCharCode((c &gt;&gt; 12) | 224);
        utftext += String.fromCharCode(((c &gt;&gt; 6) &amp; 63) | 128);
        utftext += String.fromCharCode((c &amp; 63) | 128);
      }
    }
    return utftext;
  }

  var x=[];
  var k,AA,BB,CC,DD,a,b,c,d;
  var S11=7, S12=12, S13=17, S14=22;
  var S21=5, S22=9 , S23=14, S24=20;
  var S31=4, S32=11, S33=16, S34=23;
  var S41=6, S42=10, S43=15, S44=21;

  string = utf8Encode(string);

  x = convertToWordArray(string);

  a = 0x67452301; b = 0xEFCDAB89; c = 0x98BADCFE; d = 0x10325476;

  for (k=0;k&lt;x.length;k+=16) {
    AA=a; BB=b; CC=c; DD=d;
    a=doFF(a,b,c,d,x[k+0], S11,0xD76AA478);
    d=doFF(d,a,b,c,x[k+1], S12,0xE8C7B756);
    c=doFF(c,d,a,b,x[k+2], S13,0x242070DB);
    b=doFF(b,c,d,a,x[k+3], S14,0xC1BDCEEE);
    a=doFF(a,b,c,d,x[k+4], ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

// Calculate the Digest "response" value.

// If we have plain SIP password then regenerate ha1.
if (this.credentials.password) {
  // HA1 = MD5(A1) = MD5(username:realm:password)
  this.ha1 = Utils.<span class="apidocCodeKeywordSpan">calculateMD5</span>(this.credentials.username + ':' + this.realm
 + ':' + this.credentials.password);
  //
// Otherwise reuse the stored ha1.
} else {
  this.ha1 = this.credentials.ha1;
}

if (this.qop === 'auth') {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Utils.closeMediaStream" id="apidoc.element.jssip.Utils.closeMediaStream">
        function <span class="apidocSignatureSpan">jssip.Utils.</span>closeMediaStream
        <span class="apidocSignatureSpan">(stream)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">closeMediaStream = function (stream) {
  if (!stream) {
    return;
  }

  // Latest spec states that MediaStream has no stop() method and instead must
  // call stop() on every MediaStreamTrack.
  try {
    var tracks, i, len;

    if (stream.getTracks) {
      tracks = stream.getTracks();
      for (i = 0, len = tracks.length; i &lt; len; i += 1) {
        tracks[i].stop();
      }
    } else {
      tracks = stream.getAudioTracks();
      for (i = 0, len = tracks.length; i &lt; len; i += 1) {
        tracks[i].stop();
      }
      tracks = stream.getVideoTracks();
      for (i = 0, len = tracks.length; i &lt; len; i += 1) {
        tracks[i].stop();
      }
    }
  } catch (error) {
    // Deprecated by the spec, but still in use.
    // NOTE: In Temasys IE plugin stream.stop is a callable 'object'.
    if (typeof stream.stop === 'function' || typeof stream.stop === 'object') {
      stream.stop();
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
}

// Close local MediaStream if it was not given by the user.
if (this.localMediaStream &amp;&amp; this.localMediaStreamLocallyGenerated) {
  debug('close() | closing local MediaStream');

  Utils.<span class="apidocCodeKeywordSpan">closeMediaStream</span>(this.localMediaStream);
}

// Terminate signaling.

// Clear SIP timers
for(idx in this.timers) {
  clearTimeout(this.timers[idx]);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Utils.createRandomToken" id="apidoc.element.jssip.Utils.createRandomToken">
        function <span class="apidocSignatureSpan">jssip.Utils.</span>createRandomToken
        <span class="apidocSignatureSpan">(size, base)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createRandomToken = function (size, base) {
  var i, r,
    token = '';

  base = base || 32;

  for( i=0; i &lt; size; i++ ) {
    r = Math.random() * base|0;
    token += r.toString(base);
  }
  return token;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this.qop = null;
}

// Fill other attributes.

this.method = request.method;
this.uri = request.ruri;
this.cnonce = Utils.<span class="apidocCodeKeywordSpan">createRandomToken</span>(12);
this.nc += 1;
hex = Number(this.nc).toString(16);
this.ncHex = '00000000'.substr(0, 8-hex.length) + hex;

// nc-value = 8LHEX. Max value = 'FFFFFFFF'.
if (this.nc === 4294967296) {
  this.nc = 1;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Utils.escapeUser" id="apidoc.element.jssip.Utils.escapeUser">
        function <span class="apidocSignatureSpan">jssip.Utils.</span>escapeUser
        <span class="apidocSignatureSpan">(user)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">escapeUser = function (user) {
  // Don't hex-escape ':' (%3A), '+' (%2B), '?' (%3F"), '/' (%2F).
  return encodeURIComponent(decodeURIComponent(user)).replace(/%3A/ig, ':').replace(/%2B/ig, '+').replace(/%3F/ig, '?').replace(/%
2F/ig, '/');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Utils.getRandomTestNetIP" id="apidoc.element.jssip.Utils.getRandomTestNetIP">
        function <span class="apidocSignatureSpan">jssip.Utils.</span>getRandomTestNetIP
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getRandomTestNetIP = function () {
  function getOctet(from,to) {
    return Math.floor(Math.random()*(to-from+1)+from);
  }
  return '192.0.2.' + getOctet(1, 254);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Utils.hasMethods" id="apidoc.element.jssip.Utils.hasMethods">
        function <span class="apidocSignatureSpan">jssip.Utils.</span>hasMethods
        <span class="apidocSignatureSpan">(obj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hasMethods = function (obj){
  var i = 1, methodName;
  while((methodName = arguments[i++])){
    if(this.isFunction(obj[methodName])) {
      return false;
    }
  }
  return true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Utils.headerize" id="apidoc.element.jssip.Utils.headerize">
        function <span class="apidocSignatureSpan">jssip.Utils.</span>headerize
        <span class="apidocSignatureSpan">(string)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">headerize = function (string) {
  var exceptions = {
    'Call-Id': 'Call-ID',
    'Cseq': 'CSeq',
    'Www-Authenticate': 'WWW-Authenticate'
    },
    name = string.toLowerCase().replace(/_/g,'-').split('-'),
    hname = '',
    parts = name.length, part;

  for (part = 0; part &lt; parts; part++) {
    if (part !== 0) {
      hname +='-';
    }
    hname += name[part].charAt(0).toUpperCase()+name[part].substring(1);
  }
  if (exceptions[hname]) {
    hname = exceptions[hname];
  }
  return hname;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  regexp = new RegExp('^\\s*'+ name +'\\s*:','i');
  for (idx=0; idx&lt;this.extraHeaders.length; idx++) {
    if (regexp.test(this.extraHeaders[idx])) {
      this.extraHeaders.splice(idx, 1);
    }
  }

  this.headers[Utils.<span class="apidocCodeKeywordSpan">headerize</span>(name)] = (Array.isArray(value)) ? value : [value];
},

/**
 * Get the value of the given header name at the given position.
 * -param {String} name header name
 * -returns {String|undefined} Returns the specified header, null if header doesn't exist.
 */
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Utils.hostType" id="apidoc.element.jssip.Utils.hostType">
        function <span class="apidocSignatureSpan">jssip.Utils.</span>hostType
        <span class="apidocSignatureSpan">(host)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hostType = function (host) {
  if (!host) {
    return;
  } else {
    host = Grammar.parse(host,'host');
    if (host !== -1) {
      return host.host_type;
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Utils.isDecimal" id="apidoc.element.jssip.Utils.isDecimal">
        function <span class="apidocSignatureSpan">jssip.Utils.</span>isDecimal
        <span class="apidocSignatureSpan">(num)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isDecimal = function (num) {
  return !isNaN(num) &amp;&amp; (parseFloat(num) === parseInt(num,10));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  rtcOfferConstraints = options.rtcOfferConstraints || null;

this.rtcOfferConstraints = rtcOfferConstraints;
this.rtcAnswerConstraints = options.rtcAnswerConstraints || null;

// Session Timers.
if (this.sessionTimers.enabled) {
  if (Utils.<span class="apidocCodeKeywordSpan">isDecimal</span>(options.sessionTimersExpires)) {
    if (options.sessionTimersExpires &gt;= JsSIP_C.MIN_SESSION_EXPIRES) {
      this.sessionTimers.defaultExpires = options.sessionTimersExpires;
    }
    else {
      this.sessionTimers.defaultExpires = JsSIP_C.SESSION_EXPIRES;
    }
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Utils.isEmpty" id="apidoc.element.jssip.Utils.isEmpty">
        function <span class="apidocSignatureSpan">jssip.Utils.</span>isEmpty
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isEmpty = function (value) {
  if (value === null || value === '' || value === undefined || (Array.isArray(value) &amp;&amp; value.length === 0) || (typeof(value) === '
number' &amp;&amp; isNaN(value))) {
    return true;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Utils.isFunction" id="apidoc.element.jssip.Utils.isFunction">
        function <span class="apidocSignatureSpan">jssip.Utils.</span>isFunction
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isFunction = function (fn) {
  if (fn !== undefined) {
    return (Object.prototype.toString.call(fn) === '[object Function]')? true : false;
  } else {
    return false;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
} catch(e) {
  return false;
}

// Check Methods
try {
  ['connect', 'disconnect', 'send'].forEach(function(method) {
    if (!Utils.<span class="apidocCodeKeywordSpan">isFunction</span>(socket[method])) {
      debugerror('missing or invalid JsSIP.Socket method: ' + method);
      throw new Error();
    }
  });
} catch(e) {
  return false;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Utils.isString" id="apidoc.element.jssip.Utils.isString">
        function <span class="apidocSignatureSpan">jssip.Utils.</span>isString
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isString = function (str) {
  if (str !== undefined) {
    return (Object.prototype.toString.call(str) === '[object String]')? true : false;
  } else {
    return false;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (typeof socket === 'undefined') {
debugerror('undefined JsSIP.Socket instance');
return false;
  }

  // Check Properties
  try {
if (!Utils.<span class="apidocCodeKeywordSpan">isString</span>(socket.url)) {
  debugerror('missing or invalid JsSIP.Socket url property');
  throw new Error();
}

if (!Utils.isString(socket.via_transport)) {
  debugerror('missing or invalid JsSIP.Socket via_transport property');
  throw new Error();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Utils.newTag" id="apidoc.element.jssip.Utils.newTag">
        function <span class="apidocSignatureSpan">jssip.Utils.</span>newTag
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">newTag = function () {
  return Utils.createRandomToken(10);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

// Set event handlers
for (event in eventHandlers) {
  this.on(event, eventHandlers[event]);
}

// Session parameter initialization
this.from_tag = Utils.<span class="apidocCodeKeywordSpan">newTag</span>();

// Set anonymous property
this.anonymous = options.anonymous || false;

// OutgoingSession specific parameters
this.isCanceled = false;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Utils.newUUID" id="apidoc.element.jssip.Utils.newUUID">
        function <span class="apidocSignatureSpan">jssip.Utils.</span>newUUID
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">newUUID = function () {
  var UUID = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
    var r = Math.random()*16|0, v = c === 'x' ? r : (r&amp;0x3|0x8);
    return v.toString(16);
  });

  return UUID;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Utils.normalizeTarget" id="apidoc.element.jssip.Utils.normalizeTarget">
        function <span class="apidocSignatureSpan">jssip.Utils.</span>normalizeTarget
        <span class="apidocSignatureSpan">(target, domain)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">normalizeTarget = function (target, domain) {
  var uri, target_array, target_user, target_domain;

  // If no target is given then raise an error.
  if (!target) {
    return;
  // If a URI instance is given then return it.
  } else if (target instanceof URI) {
    return target;

  // If a string is given split it by '@':
  // - Last fragment is the desired domain.
  // - Otherwise append the given domain argument.
  } else if (typeof target === 'string') {
    target_array = target.split('@');

    switch(target_array.length) {
      case 1:
        if (!domain) {
          return;
        }
        target_user = target;
        target_domain = domain;
        break;
      case 2:
        target_user = target_array[0];
        target_domain = target_array[1];
        break;
      default:
        target_user = target_array.slice(0, target_array.length-1).join('@');
        target_domain = target_array[target_array.length-1];
    }

    // Remove the URI scheme (if present).
    target_user = target_user.replace(/^(sips?|tel):/i, '');

    // Remove 'tel' visual separators if the user portion just contains 'tel' number symbols.
    if (/^[\-\.\(\)]*\+?[0-9\-\.\(\)]+$/.test(target_user)) {
      target_user = target_user.replace(/[\-\.\(\)]/g, '');
    }

    // Build the complete SIP URI.
    target = JsSIP_C.SIP + ':' + Utils.escapeUser(target_user) + '@' + target_domain;

    // Finally parse the resulting URI.
    if ((uri = URI.parse(target))) {
      return uri;
    } else {
      return;
    }
  } else {
    return;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  originalTarget = target;

if (target === undefined || body === undefined) {
  throw new TypeError('Not enough arguments');
}

// Check target validity
target = this.ua.<span class="apidocCodeKeywordSpan">normalizeTarget</span>(target);
if (!target) {
  throw new TypeError('Invalid target: '+ originalTarget);
}

// Get call options
options = options || {};
extraHeaders = options.extraHeaders &amp;&amp; options.extraHeaders.slice() || [];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Utils.sipErrorCause" id="apidoc.element.jssip.Utils.sipErrorCause">
        function <span class="apidocSignatureSpan">jssip.Utils.</span>sipErrorCause
        <span class="apidocSignatureSpan">(status_code)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sipErrorCause = function (status_code) {
  var cause;

  for (cause in JsSIP_C.SIP_ERROR_CAUSES) {
    if (JsSIP_C.SIP_ERROR_CAUSES[cause].indexOf(status_code) !== -1) {
      return JsSIP_C.causes[cause];
    }
  }

  return JsSIP_C.causes.SIP_FAILURE_CODE;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      originator: 'remote',
      response: response
    });
    break;

  default:
    delete this.ua.applicants[this];
    cause = Utils.<span class="apidocCodeKeywordSpan">sipErrorCause</span>(response.status_code);
    this.emit('failed', {
      originator: 'remote',
      response: response,
      cause: cause
    });
    break;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.Utils.str_utf8_length" id="apidoc.element.jssip.Utils.str_utf8_length">
        function <span class="apidocSignatureSpan">jssip.Utils.</span>str_utf8_length
        <span class="apidocSignatureSpan">(string)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">str_utf8_length = function (string) {
  return unescape(encodeURIComponent(string)).length;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      reply(482);
      return false;
    }
  }
}

function rfc3261_18_3_request() {
  var len = Utils.<span class="apidocCodeKeywordSpan">str_utf8_length</span>(message.body),
  contentLength = message.getHeader('content-length');

  if(len &lt; contentLength) {
    reply(400);
    return false;
  }
}
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jssip.WebSocketInterface" id="apidoc.module.jssip.WebSocketInterface">module jssip.WebSocketInterface</a></h1>


    <h2>
        <a href="#apidoc.element.jssip.WebSocketInterface.WebSocketInterface" id="apidoc.element.jssip.WebSocketInterface.WebSocketInterface">
        function <span class="apidocSignatureSpan">jssip.</span>WebSocketInterface
        <span class="apidocSignatureSpan">(url)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function WebSocketInterface(url) {
  debug('new() [url:"%s"]', url);

  var sip_uri = null;
  var via_transport = null;

  this.ws = null;

  // setting the 'scheme' alters the sip_uri too (used in SIP Route header field)
  Object.defineProperties(this, {
    via_transport: {
      get: function() { return via_transport; },
      set: function(transport) {
        via_transport = transport.toUpperCase();
      }
    },
    sip_uri:  { get: function() { return sip_uri; }},
    url:      { get: function() { return url; }}
  });

  var parsed_url = Grammar.parse(url, 'absoluteURI');

  if (parsed_url === -1) {
    debugerror('invalid WebSocket URI: ' + url);
    throw new TypeError('Invalid argument: ' + url);
  } else if(parsed_url.scheme !== 'wss' &amp;&amp; parsed_url.scheme !== 'ws') {
    debugerror('invalid WebSocket URI scheme: ' + parsed_url.scheme);
    throw new TypeError('Invalid argument: ' + url);
  } else {
    sip_uri = 'sip:' + parsed_url.host +
      (parsed_url.port ? ':' + parsed_url.port : '') + ';transport=ws';
    this.via_transport = parsed_url.scheme;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
## Getting Started

The following simple JavaScript code creates a JsSIP User Agent instance and makes a SIP call:

```javascript
// Create our JsSIP instance and run it:

var socket = new JsSIP.<span class="apidocCodeKeywordSpan">WebSocketInterface</span>('wss://sip.myhost.com');
var configuration = {
  sockets  : [ socket ],
  uri      : 'sip:alice@example.com',
  password : 'superpassword'
};

var ua = new JsSIP.UA(configuration);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jssip.WebSocketInterface.prototype" id="apidoc.module.jssip.WebSocketInterface.prototype">module jssip.WebSocketInterface.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jssip.WebSocketInterface.prototype.connect" id="apidoc.element.jssip.WebSocketInterface.prototype.connect">
        function <span class="apidocSignatureSpan">jssip.WebSocketInterface.prototype.</span>connect
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">connect = function () {
  debug('connect()');

  if (this.isConnected()) {
    debug('WebSocket ' + this.url + ' is already connected');
    return;
  } else if (this.isConnecting()) {
    debug('WebSocket ' + this.url + ' is connecting');
    return;
  }

  if (this.ws) {
    this.disconnect();
  }

  debug('connecting to WebSocket ' + this.url);

  try {
    this.ws = new WebSocket(this.url, 'sip');

    this.ws.binaryType = 'arraybuffer';

    this.ws.onopen    = onOpen.bind(this);
    this.ws.onclose   = onClose.bind(this);
    this.ws.onmessage = onMessage.bind(this);
    this.ws.onerror   = onError.bind(this);
  } catch(e) {
    onError.call(this, e);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  // Consider the Replaces header present in the Refer-To URI
  if (request.refer_to.uri.hasHeader('replaces')) {
    replaces = decodeURIComponent(request.refer_to.uri.getHeader('replaces'));
    options.extraHeaders = options.extraHeaders || [];
    options.extraHeaders.push('Replaces: '+ replaces);
  }

  session.<span class="apidocCodeKeywordSpan">connect</span>(request.refer_to.uri.toAor(), options, initCallback);
}

function reject() {
  notifier.notify(603);
}

if (typeof request.refer_to === undefined) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.WebSocketInterface.prototype.disconnect" id="apidoc.element.jssip.WebSocketInterface.prototype.disconnect">
        function <span class="apidocSignatureSpan">jssip.WebSocketInterface.prototype.</span>disconnect
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">disconnect = function () {
  debug('disconnect()');

  if (this.ws) {
    // unbind websocket event callbacks
    this.ws.onopen    = function() {};
    this.ws.onclose   = function() {};
    this.ws.onmessage = function() {};
    this.ws.onerror   = function() {};

    this.ws.close();
    this.ws = null;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

// unbind socket event callbacks
this.socket.onconnect     = function() {};
this.socket.ondisconnect  = function() {};
this.socket.ondata        = function() {};

this.socket.<span class="apidocCodeKeywordSpan">disconnect</span>();
this.ondisconnect();
};

Transport.prototype.send = function(data) {
debug('send()');

if (!this.isConnected()) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.WebSocketInterface.prototype.isConnected" id="apidoc.element.jssip.WebSocketInterface.prototype.isConnected">
        function <span class="apidocSignatureSpan">jssip.WebSocketInterface.prototype.</span>isConnected
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isConnected = function () {
  return this.ws &amp;&amp; this.ws.readyState === this.ws.OPEN;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
 * Instance Methods
 */

Transport.prototype.connect = function() {
debug('connect()');

if (this.<span class="apidocCodeKeywordSpan">isConnected</span>()) {
  debug('Transport is already connected');
  return;
} else if (this.isConnecting()) {
  debug('Transport is connecting');
  return;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.WebSocketInterface.prototype.isConnecting" id="apidoc.element.jssip.WebSocketInterface.prototype.isConnecting">
        function <span class="apidocSignatureSpan">jssip.WebSocketInterface.prototype.</span>isConnecting
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isConnecting = function () {
  return this.ws &amp;&amp; this.ws.readyState === this.ws.CONNECTING;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Transport.prototype.connect = function() {
debug('connect()');

if (this.isConnected()) {
  debug('Transport is already connected');
  return;
} else if (this.<span class="apidocCodeKeywordSpan">isConnecting</span>()) {
  debug('Transport is connecting');
  return;
}

this.close_requested = false;
this.status = C.STATUS_CONNECTING;
this.onconnecting({ socket:this.socket, attempts:this.recover_attempts });
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.WebSocketInterface.prototype.send" id="apidoc.element.jssip.WebSocketInterface.prototype.send">
        function <span class="apidocSignatureSpan">jssip.WebSocketInterface.prototype.</span>send
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">send = function (message) {
  debug('send()');

  if (this.isConnected()) {
    this.ws.send(message);
    return true;
  } else {
    debugerror('unable to send message, WebSocket is not open');
    return false;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  var
    extraHeaders = options.extraHeaders &amp;&amp; options.extraHeaders.slice() || [],
    body = options.body || null,
    request = this.createRequest(method, extraHeaders, body),
    request_sender = new Dialog_RequestSender(this, applicant, request);

    request_sender.<span class="apidocCodeKeywordSpan">send</span>();

    // Return the instance of OutgoingRequest
    return request;
},

receiveRequest: function(request) {
  //Check in-dialog request
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jssip.adapter" id="apidoc.module.jssip.adapter">module jssip.adapter</a></h1>


    <h2>
        <a href="#apidoc.element.jssip.adapter.disableLog" id="apidoc.element.jssip.adapter.disableLog">
        function <span class="apidocSignatureSpan">jssip.adapter.</span>disableLog
        <span class="apidocSignatureSpan">(bool)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">disableLog = function (bool) {
  if (typeof bool !== 'boolean') {
    return new Error('Argument type: ' + typeof bool +
        '. Please use a boolean.');
  }
  logDisabled_ = bool;
  return (bool) ? 'adapter.js logging disabled' :
      'adapter.js logging enabled';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.adapter.extractVersion" id="apidoc.element.jssip.adapter.extractVersion">
        function <span class="apidocSignatureSpan">jssip.adapter.</span>extractVersion
        <span class="apidocSignatureSpan">(uastring, expr, pos)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">extractVersion = function (uastring, expr, pos) {
  var match = uastring.match(expr);
  return match &amp;&amp; match.length &gt;= pos &amp;&amp; parseInt(match[pos], 10);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jssip.debug" id="apidoc.module.jssip.debug">module jssip.debug</a></h1>


    <h2>
        <a href="#apidoc.element.jssip.debug.debug" id="apidoc.element.jssip.debug.debug">
        function <span class="apidocSignatureSpan">jssip.</span>debug
        <span class="apidocSignatureSpan">(namespace)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createDebug(namespace) {

  function debug() {
    // disabled?
    if (!debug.enabled) return;

    var self = debug;

    // set `diff` timestamp
    var curr = +new Date();
    var ms = curr - (prevTime || curr);
    self.diff = ms;
    self.prev = prevTime;
    self.curr = curr;
    prevTime = curr;

    // turn the `arguments` into a proper Array
    var args = new Array(arguments.length);
    for (var i = 0; i &lt; args.length; i++) {
      args[i] = arguments[i];
    }

    args[0] = exports.coerce(args[0]);

    if ('string' !== typeof args[0]) {
      // anything else let's inspect with %O
      args.unshift('%O');
    }

    // apply any `formatters` transformations
    var index = 0;
    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {
      // if we encounter an escaped % then don't increase the array index
      if (match === '%%') return match;
      index++;
      var formatter = exports.formatters[format];
      if ('function' === typeof formatter) {
        var val = args[index];
        match = formatter.call(self, val);

        // now we need to remove `args[index]` since it's inlined in the `format`
        args.splice(index, 1);
        index--;
      }
      return match;
    });

    // apply env-specific formatting (colors, etc.)
    exports.formatArgs.call(self, args);

    var logFn = debug.log || exports.log || console.log.bind(console);
    logFn.apply(self, args);
  }

  debug.namespace = namespace;
  debug.enabled = exports.enabled(namespace);
  debug.useColors = exports.useColors();
  debug.color = selectColor(namespace);

  // env-specific initialization logic for debug instances
  if ('function' === typeof exports.init) {
    exports.init(debug);
  }

  return debug;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.debug.coerce" id="apidoc.element.jssip.debug.coerce">
        function <span class="apidocSignatureSpan">jssip.debug.</span>coerce
        <span class="apidocSignatureSpan">(val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function coerce(val) {
  if (val instanceof Error) return val.stack || val.message;
  return val;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.debug.default" id="apidoc.element.jssip.debug.default">
        function <span class="apidocSignatureSpan">jssip.debug.</span>default
        <span class="apidocSignatureSpan">(namespace)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createDebug(namespace) {

  function debug() {
    // disabled?
    if (!debug.enabled) return;

    var self = debug;

    // set `diff` timestamp
    var curr = +new Date();
    var ms = curr - (prevTime || curr);
    self.diff = ms;
    self.prev = prevTime;
    self.curr = curr;
    prevTime = curr;

    // turn the `arguments` into a proper Array
    var args = new Array(arguments.length);
    for (var i = 0; i &lt; args.length; i++) {
      args[i] = arguments[i];
    }

    args[0] = exports.coerce(args[0]);

    if ('string' !== typeof args[0]) {
      // anything else let's inspect with %O
      args.unshift('%O');
    }

    // apply any `formatters` transformations
    var index = 0;
    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {
      // if we encounter an escaped % then don't increase the array index
      if (match === '%%') return match;
      index++;
      var formatter = exports.formatters[format];
      if ('function' === typeof formatter) {
        var val = args[index];
        match = formatter.call(self, val);

        // now we need to remove `args[index]` since it's inlined in the `format`
        args.splice(index, 1);
        index--;
      }
      return match;
    });

    // apply env-specific formatting (colors, etc.)
    exports.formatArgs.call(self, args);

    var logFn = debug.log || exports.log || console.log.bind(console);
    logFn.apply(self, args);
  }

  debug.namespace = namespace;
  debug.enabled = exports.enabled(namespace);
  debug.useColors = exports.useColors();
  debug.color = selectColor(namespace);

  // env-specific initialization logic for debug instances
  if ('function' === typeof exports.init) {
    exports.init(debug);
  }

  return debug;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.debug.disable" id="apidoc.element.jssip.debug.disable">
        function <span class="apidocSignatureSpan">jssip.debug.</span>disable
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function disable() {
  exports.enable('');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.debug.enable" id="apidoc.element.jssip.debug.enable">
        function <span class="apidocSignatureSpan">jssip.debug.</span>enable
        <span class="apidocSignatureSpan">(namespaces)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function enable(namespaces) {
  exports.save(namespaces);

  exports.names = [];
  exports.skips = [];

  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\s,]+/);
  var len = split.length;

  for (var i = 0; i &lt; len; i++) {
    if (!split[i]) continue; // ignore empty strings
    namespaces = split[i].replace(/\*/g, '.*?');
    if (namespaces[0] === '-') {
      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));
    } else {
      exports.names.push(new RegExp('^' + namespaces + '$'));
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.debug.enabled" id="apidoc.element.jssip.debug.enabled">
        function <span class="apidocSignatureSpan">jssip.debug.</span>enabled
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function enabled(name) {
  var i, len;
  for (i = 0, len = exports.skips.length; i &lt; len; i++) {
    if (exports.skips[i].test(name)) {
      return false;
    }
  }
  for (i = 0, len = exports.names.length; i &lt; len; i++) {
    if (exports.names[i].test(name)) {
      return true;
    }
  }
  return false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.debug.formatArgs" id="apidoc.element.jssip.debug.formatArgs">
        function <span class="apidocSignatureSpan">jssip.debug.</span>formatArgs
        <span class="apidocSignatureSpan">(args)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function formatArgs(args) {
  var name = this.namespace;
  var useColors = this.useColors;

  if (useColors) {
    var c = this.color;
    var prefix = '  \u001b[3' + c + ';1m' + name + ' ' + '\u001b[0m';

    args[0] = prefix + args[0].split('\n').join('\n' + prefix);
    args.push('\u001b[3' + c + 'm+' + exports.humanize(this.diff) + '\u001b[0m');
  } else {
    args[0] = new Date().toUTCString()
      + ' ' + name + ' ' + args[0];
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.debug.humanize" id="apidoc.element.jssip.debug.humanize">
        function <span class="apidocSignatureSpan">jssip.debug.</span>humanize
        <span class="apidocSignatureSpan">(val, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">humanize = function (val, options) {
  options = options || {}
  var type = typeof val
  if (type === 'string' &amp;&amp; val.length &gt; 0) {
    return parse(val)
  } else if (type === 'number' &amp;&amp; isNaN(val) === false) {
    return options.long ?
			fmtLong(val) :
			fmtShort(val)
  }
  throw new Error('val is not a non-empty string or a valid number. val=' + JSON.stringify(val))
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.debug.init" id="apidoc.element.jssip.debug.init">
        function <span class="apidocSignatureSpan">jssip.debug.</span>init
        <span class="apidocSignatureSpan">(debug)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function init(debug) {
  debug.inspectOpts = util._extend({}, exports.inspectOpts);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.debug.load" id="apidoc.element.jssip.debug.load">
        function <span class="apidocSignatureSpan">jssip.debug.</span>load
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function load() {
  return process.env.DEBUG;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.debug.log" id="apidoc.element.jssip.debug.log">
        function <span class="apidocSignatureSpan">jssip.debug.</span>log
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function log() {
  return stream.write(util.format.apply(util, arguments) + '\n');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var ua = new JsSIP.UA(configuration);

ua.start();

// Register callbacks to desired call events
var eventHandlers = {
'progress': function(e) {
  console.<span class="apidocCodeKeywordSpan">log</span>('call is in progress');
},
'failed': function(e) {
  console.log('call failed with cause: '+ e.data.cause);
},
'ended': function(e) {
  console.log('call ended with cause: '+ e.data.cause);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.debug.save" id="apidoc.element.jssip.debug.save">
        function <span class="apidocSignatureSpan">jssip.debug.</span>save
        <span class="apidocSignatureSpan">(namespaces)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function save(namespaces) {
  if (null == namespaces) {
    // If you set a process.env field to null or undefined, it gets cast to the
    // string 'null' or 'undefined'. Just delete instead.
    delete process.env.DEBUG;
  } else {
    process.env.DEBUG = namespaces;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.debug.useColors" id="apidoc.element.jssip.debug.useColors">
        function <span class="apidocSignatureSpan">jssip.debug.</span>useColors
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function useColors() {
  return 'colors' in exports.inspectOpts
    ? Boolean(exports.inspectOpts.colors)
    : tty.isatty(fd);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>












</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jssip.debug.formatters" id="apidoc.module.jssip.debug.formatters">module jssip.debug.formatters</a></h1>


    <h2>
        <a href="#apidoc.element.jssip.debug.formatters.O" id="apidoc.element.jssip.debug.formatters.O">
        function <span class="apidocSignatureSpan">jssip.debug.formatters.</span>O
        <span class="apidocSignatureSpan">(v)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">O = function (v) {
  this.inspectOpts.colors = this.useColors;
  return util.inspect(v, this.inspectOpts);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jssip.debug.formatters.o" id="apidoc.element.jssip.debug.formatters.o">
        function <span class="apidocSignatureSpan">jssip.debug.formatters.</span>o
        <span class="apidocSignatureSpan">(v)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">o = function (v) {
  this.inspectOpts.colors = this.useColors;
  return util.inspect(v, this.inspectOpts)
    .replace(/\s*\n\s*/g, ' ');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>